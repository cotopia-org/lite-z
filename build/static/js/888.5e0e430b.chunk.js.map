{"version":3,"file":"static/js/888.5e0e430b.chunk.js","mappings":"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","sources":["components/ui/avatar.tsx","components/shared-ui/c-avatar.tsx","components/shared-ui/c-button.tsx","components/shared-ui/c-icon-button.tsx","components/shared-ui/c-input/index.tsx","components/shared/full-loading.tsx","components/shared/layouts/not-found/index.tsx","components/shared/section.tsx","components/shared/workspaces/workpsace/workspace/avatar/index.tsx","components/shared/workspaces/workpsace/workspace/title/index.tsx","components/shared/workspaces/workpsace/workspace/date/index.tsx","components/shared/workspaces/workpsace/workspace/index.tsx","components/shared/workspaces/workspaces.tsx","components/ui/button.tsx","components/ui/input.tsx","hooks/swr.ts","hooks/use-loading.ts","hooks/use-query-params.ts","hooks/use-setting.ts","lib/sound-effects.ts","components/shared/room/room-context/index.tsx","components/shared/room/sidebar/index.tsx","components/ui/tabs.tsx","components/shared-ui/c-tabs/index.tsx","components/shared/room/settings/chat/action/index.tsx","components/ui/dialog.tsx","components/shared/modal-box.tsx","components/shared/user-chats/shapes/workspace-chats/add-chat/form.tsx","components/shared/user-chats/shapes/workspace-chats/add-chat/index.tsx","components/shared/slide-pusher/slide/index.tsx","components/shared/slide-pusher/index.tsx","hooks/chat/use-chat-2.ts","components/shared/user-chats/chat/details/index.tsx","components/shared-ui/c-badge/index.tsx","components/shared/user-chats/chat/preview/un-seen-messages/index.tsx","components/shared/user-chats/chat/preview/index.tsx","components/shared/user-chats/chat/holder/back/index.tsx","components/ui/popover.tsx","components/shared-ui/c-popover.tsx","components/ui/tooltip.tsx","components/shared-ui/c-tooltip.tsx","types/calendar.ts","components/shared/room/tools/top-left/schedule-button/shapes/handler/schedule-item/days/index.tsx","components/ui/select.tsx","components/shared-ui/c-select.tsx","components/shared/room/tools/top-left/schedule-button/shapes/add-schedule/content/day/time-picker/index.tsx","components/shared/room/tools/top-left/schedule-button/shapes/add-schedule/content/day/time.tsx","components/ui/switch.tsx","components/shared-ui/c-switch/index.tsx","components/shared/room/tools/top-left/schedule-button/shapes/add-schedule/content/day/index.tsx","components/shared/title-el/index.tsx","components/shared-ui/c-badge-items/item/index.tsx","components/shared-ui/c-badge-items/index.tsx","components/shared/room/tools/top-left/schedule-button/shapes/add-schedule/content/availability.tsx","components/shared/room/tools/top-left/schedule-button/shapes/add-schedule/delete-event/index.tsx","components/ui/calendar.tsx","components/shared-ui/c-date-input/index.tsx","components/shared/room/tools/top-left/schedule-button/shapes/add-schedule/content/index.tsx","components/shared/room/tools/top-left/schedule-button/shapes/handler/schedule-item/edit/index.tsx","components/shared/shedule-overview/index.tsx","components/shared/room/tools/top-left/schedule-button/shapes/handler/schedule-item/index.tsx","components/shared/schedules/index.tsx","components/shared/box-holder.tsx","components/shared/room/participant-detail/details/schedules/list.tsx","components/shared/room/participant-detail/details/schedules/index.tsx","components/shared/room/participant-detail/details/mood.tsx","components/shared/room/participant-detail/details/navigate.tsx","components/shared/room/participant-detail/details/cover.tsx","components/shared/room/participant-detail/details/user-date.tsx","components/shared/room/participant-detail/details/index.tsx","components/shared/room/participant-detail/index.tsx","components/shared/chat-box-2/items/item/user-overview.tsx","components/shared/chat-box-2/items/item/content/date.tsx","components/shared/chat-box-2/items/item/content/index.tsx","components/shared/chat-box-2/items/item/index.tsx","components/shared/chat-box-2/items/fetching-progress.tsx","components/shared/chat-box-2/items/un-seen-handlers/index.tsx","components/shared/chat-box-2/items/index.tsx","components/shared/chat-box-2/input/emoji/index.tsx","components/shared/chat-box-2/input/send/mic/index.tsx","components/shared/chat-box-2/input/send/text/index.tsx","components/shared/chat-box-2/input/send/index.tsx","components/shared/chat-box-2/input/textarea.tsx","components/shared/chat-box-2/input/index.tsx","components/shared/chat-box-2/index.tsx","components/shared/user-chats/chat/holder/index.tsx","components/shared/user-chats/chat/index.tsx","components/shared/user-chats/shapes/workspace-chats/chats-wrapper/index.tsx","components/shared/user-chats/shapes/workspace-chats/index.tsx","components/shared/room/settings/chat/index.tsx","components/shared/user-avatar.tsx","components/shared/avatars/index.tsx","components/shared/participants/index.tsx","components/shared/participants/with-popover.tsx","components/shared/room/settings/users/online/index.tsx","components/shared/room/settings/users/working/card.tsx","components/shared/room/settings/users/working/index.tsx","components/shared/room/settings/users/offline/index.tsx","components/shared/schedules-summary/card/time-shower/time.tsx","components/shared/schedules-summary/card/time-shower/index.tsx","components/shared/schedules-summary/card/index.tsx","components/shared/schedules-summary/index.tsx","components/shared/room/settings/users/scheduled/index.tsx","components/shared/room/settings/users/index.tsx","components/shared-ui/c-badge/c-badge-simple.tsx","routes/private-wrarpper/components/workspaces/[slug]/rooms/add-room/form/index.tsx","routes/private-wrarpper/components/workspaces/[slug]/rooms/add-room/index.tsx","components/shared-ui/c-dialog/index.tsx","components/shared-ui/c-prompt/content/index.tsx","components/shared/workspaces/rooms/room/delete-room.tsx","components/shared/workspaces/rooms/room/index.tsx","components/shared/workspaces/rooms/index.tsx","routes/private-wrarpper/components/workspaces/[slug]/rooms/index.tsx","routes/private-wrarpper/components/workspaces/sidebar/index.tsx","components/shared/room/settings/index.tsx","components/shared/room/components/audio-manager/index.tsx","components/shared/room/room-inner/init-room/video-init.tsx","components/shared/room/room-inner/init-room/audio-init.tsx","components/shared/room/room-inner/init-room/index.tsx","components/shared/room/sessions/room-audio-renderer/audio-track.tsx","components/shared/room/sessions/room-audio-renderer/use-media-track-by-source-or-name/index.ts","components/shared/room/sessions/room-audio-renderer/index.tsx","components/shared/room/sessions/index.tsx","routes/private-wrarpper/components/session/actions-right/index.tsx","routes/private-wrarpper/components/session/actions-right/mic/index.tsx","routes/private-wrarpper/components/session/wrapper/voice-effects/test.tsx","routes/private-wrarpper/components/session/wrapper/index.tsx","routes/private-wrarpper/components/session/wrapper/voice-area-hearing/index.tsx","routes/private-wrarpper/components/session/draggable-circle.tsx","routes/private-wrarpper/components/session/with-connection-quality/layer.tsx","routes/private-wrarpper/components/session/with-connection-quality/index.tsx","routes/private-wrarpper/components/session/index.tsx","components/shared/canvas-board/nodes/user.tsx","hooks/use-key-press.ts","components/shared/resizable-wrapper.tsx","components/shared/room/components/screen-share-card/index.tsx","components/shared/room/toolbar/top-left.tsx","components/shared/room/toolbar/top-right.tsx","components/shared/room/toolbar/bottom-left.tsx","components/shared/room/toolbar/bottom-right.tsx","components/shared/room/toolbar/bottom-middle.tsx","components/shared/room/toolbar/index.tsx","components/shared/room/tools/top-left/workspace-button/workspaces/index.tsx","components/shared/room/tools/top-left/workspace-button/index.tsx","components/shared/popup-box/index.tsx","components/shared/popup-box/child/index.tsx","components/shared/room/tools/top-left/schedule-button/shapes/add-schedule/index.tsx","components/shared/room/tools/top-left/schedule-button/shapes/handler/index.tsx","components/shared/room/tools/top-left/schedule-button/index.tsx","components/ui/dropdown.tsx","components/shared-ui/c-dropdown/index.tsx","components/ui/textarea.tsx","components/shared-ui/c-textarea/index.tsx","components/shared/room/tools/top-left/job-button/shapes/add-job/delete-job/index.tsx","components/shared/room/tools/top-left/job-button/shapes/add-job/content/index.tsx","components/shared/room/tools/top-left/job-button/shapes/job-list/job-item/edit/index.tsx","components/shared/status-box/index.tsx","components/shared/room/tools/top-left/job-button/shapes/job-list/job-item/job-status.tsx","components/shared/room/tools/top-left/job-button/shapes/job-list/job-item/job-actions/play.tsx","components/shared/room/tools/top-left/job-button/shapes/job-list/job-item/job-actions/pause.tsx","components/shared/room/tools/top-left/job-button/shapes/job-list/job-item/job-actions/delete.tsx","components/shared/room/tools/top-left/job-button/shapes/job-list/job-item/job-actions/done.tsx","components/shared/room/tools/top-left/job-button/shapes/job-list/job-item/job-actions/index.tsx","components/shared/room/tools/top-left/job-button/shapes/job-list/job-item/index.tsx","components/shared/room/tools/top-left/job-button/shapes/add-job/index.tsx","components/shared/room/tools/top-left/job-button/shapes/job-list/index.tsx","components/shared/room/tools/top-left/job-button/index.tsx","components/shared/room/tools/top-left/index.tsx","components/shared-ui/c-prompt/index.tsx","components/shared/user-selector/list/item/index.tsx","components/shared/user-selector/list/index.tsx","components/shared/user-selector/index.tsx","components/ui/alert.tsx","components/shared/room/tools/top-right/Invite/selected-user/index.tsx","components/shared/copy-btn/index.tsx","components/shared/room/tools/top-right/Invite/code-picker/index.tsx","components/shared/room/tools/top-right/Invite/index.tsx","components/ui/progress.tsx","components/shared/uploader/preview/Image.tsx","components/shared/uploader/preview/Doc.tsx","components/shared/uploader/preview/Video.tsx","components/shared/uploader/preview/index.tsx","components/shared/uploader/index.tsx","routes/private-wrarpper/components/user-actions/avatar/settings/additional-information/upload-avatar/index.tsx","routes/private-wrarpper/components/user-actions/avatar/settings/additional-information/form/index.tsx","routes/private-wrarpper/components/user-actions/avatar/settings/additional-information/index.tsx","components/shared/title-switch/index.tsx","routes/private-wrarpper/components/user-actions/avatar/settings/global/index.tsx","components/shared/account-logout/index.tsx","routes/private-wrarpper/components/user-actions/avatar/settings/index.tsx","routes/private-wrarpper/components/user-actions/avatar/index.tsx","components/shared/room/tools/top-right/user-actions-group/user-avatar.tsx","components/shared/room/tools/top-right/user-actions-group/user-logout.tsx","components/shared/room/tools/top-right/user-actions-group/user-settings/room-settings/background/gallery/gallery-item.tsx","components/shared/room/tools/top-right/user-actions-group/user-settings/room-settings/background/gallery/index.tsx","components/shared/room/tools/top-right/user-actions-group/user-settings/room-settings/background/index.tsx","components/shared/room/tools/top-right/user-actions-group/user-settings/room-settings/permissions/index.tsx","components/shared/room/tools/top-right/user-actions-group/user-settings/room-settings/index.tsx","components/shared/room/tools/top-right/user-actions-group/user-settings/index.tsx","components/shared/room/tools/top-right/user-actions-group/index.tsx","components/shared/room/tools/top-right/chat-actions-group/user-chats.tsx","components/shared/room/tools/top-right/chat-actions-group/close-sidebar.tsx","components/shared/room/tools/top-right/chat-actions-group/index.tsx","components/shared/room/tools/top-right/time-tracking/timer/index.tsx","components/ui/scroll-area.tsx","components/shared/room/tools/top-right/time-tracking/details/rank.tsx","components/magicui/blur-fade.tsx","components/shared/room/tools/top-right/time-tracking/details/index.tsx","components/shared/room/tools/top-right/time-tracking/button/index.tsx","components/shared/room/tools/top-right/time-tracking/index.tsx","components/shared/room/tools/top-right/index.tsx","components/shared/vertical-divider/index.tsx","components/shared/uploader-list/index.tsx","components/shared/room/tools/bottom-left/bug/bug-report/index.tsx","components/shared/room/tools/bottom-left/bug/index.tsx","components/shared/room/tools/bottom-left/ping/index.tsx","components/shared/room/tools/bottom-left/index.tsx","components/shared/room/tools/bottom-middle/add-button/index.tsx","components/shared/room/tools/bottom-middle/broadcast-button/index.tsx","components/shared/room/tools/bottom-middle/chat-button/index.tsx","components/shared/room/tools/bottom-middle/edit-button/index.tsx","components/shared/room/tools/bottom-middle/share-screen-button/index.tsx","components/shared/room/tools/bottom-middle/video-button/index.tsx","components/shared/room/tools/bottom-middle/voice-button/index.tsx","components/shared/room/tools/bottom-middle/index.tsx","components/shared/room/tools/bottom-right/zoom/actions/index.tsx","components/shared/room/tools/bottom-right/zoom/preview/index.tsx","components/shared/room/tools/bottom-right/zoom/index.tsx","components/shared/room/tools/bottom-right/index.tsx","components/shared/canvas-board/react-flow-handler/index.tsx","components/shared/canvas-board/nodes/background.tsx","components/shared/canvas-board/nodes/jail-node.tsx","components/shared/canvas-board/nodes/share-screen.tsx","components/shared/canvas-board/index.tsx","components/shared/room/room-inner/index.tsx","components/shared/room/connection-status/disconnected-invisible.tsx","components/shared/room/connection-status/index.tsx","components/shared-ui/c-dialog/raw-dialog.tsx","components/shared/room/check-permissions-2/video/allow-video-btn.tsx","components/shared/room/check-permissions-2/video/index.tsx","components/shared/room/check-permissions-2/index.tsx","components/shared/chat-wrapper/index.tsx","components/shared/room/connection-status/disconnected.tsx","components/shared/room/index.tsx","components/shared/room/wrapper.tsx","components/shared/room-spatial-wrapper/index.tsx","pages/workspace/rooms/room/index.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-6 w-6 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n));\nAvatar.displayName = AvatarPrimitive.Root.displayName;\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n));\nAvatarImage.displayName = AvatarPrimitive.Image.displayName;\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n));\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName;\n\nexport { Avatar, AvatarImage, AvatarFallback };\n","import { AvatarProps } from \"@radix-ui/react-avatar\"\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\n\ntype Props = AvatarProps & {\n  title?: string\n  src?: string\n}\n\nexport default function CotopiaAvatar({ title, src, ...rest }: Props) {\n  return (\n    <Avatar {...rest}>\n      <AvatarImage\n        draggable={false}\n        className=\"object-cover object-center\"\n        src={src}\n      />\n      <AvatarFallback className=\"uppercase\">{title}</AvatarFallback>\n    </Avatar>\n  )\n}\n","import { Loader } from \"lucide-react\"\nimport { Button, ButtonProps } from \"../ui/button\"\nimport { ReactNode } from \"react\"\n\ntype Props = ButtonProps & {\n  loading?: boolean\n  startIcon?: ReactNode\n  endIcon?: ReactNode\n}\n\nexport default function CotopiaButton({\n  loading,\n  startIcon,\n  endIcon,\n  ...rest\n}: Props) {\n  const isDisabled = rest?.disabled ?? loading ?? false\n  let clss = rest?.className ?? \"\"\n  clss += ` gap-x-2 px-2`\n\n  return (\n    <Button type=\"button\" {...rest} className={clss} disabled={isDisabled}>\n      {loading ? (\n        <Loader className=\"animate-spin\" />\n      ) : (\n        <>\n          <div className=\"flex flex-row items-center gap-x-1\">\n            {!!startIcon && startIcon}\n            {rest?.children}\n          </div>\n          {!!endIcon && <div>{endIcon}</div>}\n        </>\n      )}\n    </Button>\n  )\n}\n","import { ButtonProps } from \"../ui/button\";\nimport CotopiaButton from \"./c-button\";\n\ntype Props = ButtonProps & {\n  loading?: boolean;\n};\n\nexport default function CotopiaIconButton({ loading, ...rest }: Props) {\n  let clssName = rest?.className ?? \"\";\n  clssName += ` flex flex-col !p-0 items-center justify-center bg-white rounded-full hover:bg-gray-100`;\n\n  return (\n    <CotopiaButton\n      variant={\"default\"}\n      size={\"icon\"}\n      {...rest}\n      className={clssName}\n    >\n      {rest?.children}\n    </CotopiaButton>\n  );\n}\n","import { ReactNode } from \"react\";\nimport { Input, InputProps } from \"../../ui/input\";\n\nexport type CotopiaInputProps = InputProps & {\n  label?: string;\n  helperText?: string | boolean;\n  hasError?: boolean;\n  renderInput?: (input: ReactNode) => ReactNode;\n};\n\nexport default function CotopiaInput({\n  label,\n  helperText,\n  hasError,\n  renderInput,\n  ...rest\n}: CotopiaInputProps) {\n  let inputClasss = rest?.className ?? \"\";\n  let helperTextClss = \"text-sm font-normal text-black/60\";\n\n  if (hasError) {\n    inputClasss += ` border !ring-red-600 border-red-600`;\n    helperTextClss += ` text-red-600`;\n  }\n\n  const contentInput = <Input {...rest} className={inputClasss} />;\n\n  return (\n    <div className='flex flex-col items-start gap-y-2 w-full'>\n      {label && (\n        <strong className='font-semibold text-black/[.87] text-base'>\n          {label}\n        </strong>\n      )}\n      {renderInput ? renderInput(contentInput) : contentInput}\n      {helperText && (\n        <span data-testid='hint-text' className={helperTextClss}>\n          {helperText}\n        </span>\n      )}\n    </div>\n  );\n}\n","import { Loader } from \"lucide-react\";\n\ntype Props = {\n  className?: string;\n};\n\nexport default function FullLoading({ className }: Props) {\n  return (\n    <div\n      className={`h-full w-full flex flex-col items-center ${className ?? \"\"}`}\n    >\n      <Loader className='animate-spin' />\n    </div>\n  );\n}\n","import { ReactNode } from \"react\";\n\ntype Props = {\n  icon?: ReactNode;\n  title: string;\n  desc?: string;\n  afterDesc?: ReactNode;\n  className?: string;\n};\nexport default function NotFound({\n  icon,\n  title,\n  desc,\n  afterDesc,\n  className,\n}: Props) {\n  return (\n    <div className={`items-center flex flex-col gap-y-4 ${className ?? \"\"}`}>\n      {!!icon && icon}\n      <strong className='text-base font-normal text-black/[.60]'>\n        {title}\n      </strong>\n      {!!desc && <p className='text-sm text-black/60'>{desc}</p>}\n      {!!afterDesc && afterDesc}\n    </div>\n  );\n}\n","import { ReactNode } from \"react\";\n\ntype Props = {\n  title: string;\n  action?: ReactNode;\n  children?: ReactNode;\n};\nexport default function Section({ title, action, children }: Props) {\n  return (\n    <div className='flex flex-col gap-y-4'>\n      <div className='flex flex-row items-center justify-between'>\n        <h2 className='font-medium text-gray-700 text-3xl'>{title}</h2>\n        {!!action && action}\n      </div>\n      {!!children && <div className='children'>{children}</div>}\n    </div>\n  );\n}\n","import CotopiaAvatar from \"@/components/shared-ui/c-avatar\";\n\ntype Props = {\n  title: string;\n};\nexport default function WorkspaceAvatar({ title }: Props) {\n  return <CotopiaAvatar src='' title={title} className='w-[44px] h-[44px]' />;\n}\n","type Props = {\n  title: string;\n};\nexport default function WorkspaceTitle({ title }: Props) {\n  return <strong className='font-medium text-lg text-gray-800'>{title}</strong>;\n}\n","import moment from \"moment\";\n\ntype Props = {\n  date: string | null;\n};\nexport default function WorkspaceDate({ date }: Props) {\n  if (date === null) return null;\n\n  //Created time in ago format\n  const createdAtTime = date ? moment(date).fromNow() : null;\n\n  return (\n    <span className='text-xs font-normal text-gray-600'>{`Created ${createdAtTime}`}</span>\n  );\n}\n","import { WorkspaceType } from \"@/types/workspace\";\n\nimport WorkspaceAvatar from \"./avatar\";\nimport WorkspaceTitle from \"./title\";\nimport WorkspaceDate from \"./date\";\nimport { useState } from \"react\";\n//@ts-ignore\nimport { useSocket } from \"@/routes/private-wrarpper\";\nimport { Link } from \"react-router-dom\";\n\ntype Props = {\n  item: WorkspaceType;\n};\nexport default function WorkspaceItem({ item }: Props) {\n  const [localWorkspace, setLocalWorkspace] = useState<WorkspaceType>(item);\n\n  let avatarTitle = \"\";\n  if (item.title) avatarTitle = localWorkspace.title[0].toUpperCase();\n\n  useSocket(\"workspaceUpdated\", (data: any) => {\n    if (data.id === item.id) {\n      setLocalWorkspace(data);\n    }\n  });\n\n  return (\n    <Link\n      to={`/workspaces/${localWorkspace.id}`}\n      className='p-4 rounded-3xl bg-gray-50 hover:bg-gray-100 w-full flex flex-row items-center justify-between'\n    >\n      <div className='flex flex-row items-center gap-x-4'>\n        <WorkspaceAvatar title={avatarTitle} />\n        <div className='flex flex-col'>\n          <WorkspaceTitle title={localWorkspace.title} />\n          <WorkspaceDate date={localWorkspace.created_at ?? null} />\n        </div>\n      </div>\n      {/* <div>\n        <WorkspaceActions item={localWorkspace} />\n      </div> */}\n    </Link>\n  );\n}\n","import { WorkspaceType } from \"@/types/workspace\";\nimport WorkspaceItem from \"./workpsace/workspace\";\nimport NotFound from \"../layouts/not-found\";\nimport { Route } from \"lucide-react\";\n\ntype Props = {\n  items: WorkspaceType[];\n};\nexport default function Workspaces({ items }: Props) {\n  //Return nothing when items is empty\n  if (items.length === 0)\n    return (\n      <NotFound\n        className='py-6'\n        icon={<Route className='text-black/60' />}\n        title='There is no workspace here!'\n      />\n    );\n\n  return (\n    <div className='flex flex-col gap-y-2'>\n      {items.map((workspace) => (\n        <WorkspaceItem item={workspace} key={workspace.id} />\n      ))}\n    </div>\n  );\n}\n","import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","import axiosInstance from \"@/services/axios\";\nimport useSWR, { SWRConfiguration, SWRResponse } from \"swr\";\n\ntype ApiOptionsType = {\n  method?: \"GET\" | \"POST\" | \"PUT\" | \"PATCH\" | \"DELETE\";\n  data?: object;\n  key?: string;\n  isFetch?: boolean;\n};\n\nconst initOptions: ApiOptionsType = {\n  method: \"GET\",\n  data: undefined,\n  key: undefined,\n  isFetch: true,\n};\n\nexport const useApi = <T = any, X = any>(\n  url: string,\n  op?: ApiOptionsType,\n  config: SWRConfiguration = { shouldRetryOnError: false }\n): SWRResponse<T, X> => {\n  let isFetch = op?.isFetch ?? true;\n\n  return useSWR(\n    op?.key ?? url,\n    async () => {\n      if (!isFetch) return;\n\n      const options = op ?? initOptions;\n\n      const res = await axiosInstance({\n        method: options.method,\n        url,\n        data: options.data,\n      });\n      return res.data;\n    },\n    { ...config }\n  );\n};\n\nexport const useNextApi = <T = any, X = any>(\n  url: string\n): SWRResponse<T, X> => {\n  return useSWR(url, async () => {\n    const res = await axiosInstance.get(url, {\n      baseURL: \"\",\n    });\n    return res.data;\n  });\n};\n","import { useState } from \"react\";\n\nconst useLoading = () => {\n  const [isLoading, setLoading] = useState(false);\n\n  const startLoading = () => setLoading(true);\n  const stopLoading = () => setLoading(false);\n\n  return { isLoading, startLoading, stopLoading };\n};\nexport default useLoading;\n","\"use client\";\n\nimport { useSearchParams } from \"react-router-dom\";\n\nconst useQueryParams = () => {\n  const [searchParams] = useSearchParams();\n  let query: any = {};\n  for (let [key, value] of searchParams.entries() as any) {\n    query[key] = value;\n  }\n\n  return {\n    query,\n  };\n};\nexport default useQueryParams;\n","import { useAppSelector } from \"@/store\";\n\nconst useSetting = () => {\n  const setting = useAppSelector((store) => store.setting);\n\n  return setting;\n};\n\nexport default useSetting;\n","// soundManager.ts\nimport { Howl } from \"howler\";\n\nexport const sounds = {\n  backgroundChanged: new Howl({\n    src: [\"/assets/sounds-effects/background-changed.mp3\"],\n  }),\n  coordinateChanged: new Howl({\n    src: [\"/assets/sounds-effects/coordinate-changed.mp3\"],\n  }),\n  newMessage: new Howl({ src: [\"/assets/sounds-effects/new-message.mp3\"] }),\n  newMessage2: new Howl({ src: [\"/assets/sounds-effects/new-message-2.wav\"] }),\n  userGotClosed: new Howl({\n    src: [\"/assets/sounds-effects/user-got-closed.mp3\"],\n  }),\n  left: new Howl({\n    src: [\"/assets/sounds-effects/left.mp3\"],\n  }),\n  joined: new Howl({\n    src: [\"/assets/sounds-effects/joined.mp3\"],\n  }),\n  elseUserleft: new Howl({\n    src: [\"/assets/sounds-effects/else-user-left.mp3\"],\n  }),\n  elseUserJoin: new Howl({\n    src: [\"/assets/sounds-effects/else-user-join.mp3\"],\n  }),\n};\n\nexport const playSoundEffect = (soundName: keyof typeof sounds) => {\n  if (sounds[soundName]) {\n    sounds[soundName].play();\n  }\n};\n","import { useApi } from \"@/hooks/swr\";\nimport useLoading from \"@/hooks/use-loading\";\nimport useQueryParams from \"@/hooks/use-query-params\";\nimport useSetting from \"@/hooks/use-setting\";\nimport { playSoundEffect } from \"@/lib/sound-effects\";\nimport { uniqueById } from \"@/lib/utils\";\nimport { useSocket } from \"@/routes/private-wrarpper\";\nimport axiosInstance, { FetchDataType } from \"@/services/axios\";\nimport { ScheduleType } from \"@/types/calendar\";\nimport { JobType } from \"@/types/job\";\nimport { LeaderboardType } from \"@/types/leaderboard\";\nimport { WorkspaceRoomJoinType, WorkspaceRoomType } from \"@/types/room\";\nimport { UserMinimalType, UserType, WorkspaceUserType } from \"@/types/user\";\nimport {\n  createContext,\n  ReactNode,\n  useContext,\n  useEffect,\n  useMemo,\n  useState,\n} from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\ntype LeftJoinType = { room_id: number; user: UserMinimalType };\n\ntype Props = {\n  children: ReactNode;\n  room_id: number;\n  workspace_id?: string;\n};\n\nconst RoomCtx = createContext<{\n  room_id: number;\n  room?: WorkspaceRoomType;\n  workspace_id?: string;\n  livekit_token?: string;\n  openSidebar: (node: ReactNode) => void;\n  updateUserCoords: (\n    username: string,\n    position: { x: number; y: number }\n  ) => void;\n  closeSidebar: () => void;\n  sidebar?: ReactNode;\n  videoState: boolean;\n  audioState: boolean;\n  changePermissionState: (key: \"video\" | \"audio\", newValue: boolean) => void;\n  joinRoom: () => void;\n  leaderboard: LeaderboardType[];\n  scheduled: ScheduleType[];\n  workpaceUsers: WorkspaceUserType[];\n  workspaceJobs: JobType[];\n  workingUsers: UserType[];\n  onlineUsers: UserMinimalType[];\n  usersHaveJobs: UserMinimalType[];\n  usersHaveInProgressJobs: UserMinimalType[];\n}>({\n  room: undefined,\n  livekit_token: undefined,\n  room_id: 1,\n  workspace_id: undefined,\n  sidebar: undefined,\n  updateUserCoords: (username, position) => {},\n  openSidebar: (item) => {},\n  closeSidebar: () => {},\n  audioState: false,\n  videoState: false,\n  changePermissionState: (key, newValue) => {},\n  joinRoom: () => {},\n  leaderboard: [],\n  scheduled: [],\n  workpaceUsers: [],\n  workspaceJobs: [],\n  workingUsers: [],\n  onlineUsers: [],\n  usersHaveJobs: [],\n  usersHaveInProgressJobs: [],\n});\n\nexport const useRoomContext = () => useContext(RoomCtx);\n\nexport default function RoomContext({\n  children,\n  room_id,\n  workspace_id,\n}: Props) {\n  const [room, setRoom] = useState<WorkspaceRoomType>();\n  const { startLoading, stopLoading, isLoading } = useLoading();\n\n  const fetchRoom = (roomId: string | number) => {\n    startLoading();\n    axiosInstance\n      .get<FetchDataType<WorkspaceRoomType>>(`/rooms/${roomId}`)\n      .then(async (res) => {\n        setRoom(res?.data?.data);\n        stopLoading();\n      })\n      .catch((err) => {\n        stopLoading();\n      });\n  };\n\n  useEffect(() => {\n    fetchRoom(room_id);\n  }, [room_id]);\n\n  useSocket(\"roomUpdated\", (data) => {\n    setRoom(data);\n  });\n\n  const settings = useSetting();\n\n  const { query } = useQueryParams();\n  const livekit_token = query?.token ?? undefined;\n\n  const socket = useSocket();\n\n  const navigate = useNavigate();\n\n  const handleJoinRoom = async () => {\n    // Join user to the room by socket request\n    if (socket) {\n      socket.emit(\"joinedRoom\", room_id, () => {\n        axiosInstance\n          .get<FetchDataType<WorkspaceRoomJoinType>>(`/rooms/${room_id}/join`)\n          .then((res) => {\n            const livekitToken = res.data.data.token; //Getting livekit token from joinObject\n\n            if (livekitToken) {\n              if (settings.sounds.userJoinLeft) playSoundEffect(\"joined\");\n              navigate(\n                `/workspaces/${workspace_id}/rooms/${room_id}?token=${livekitToken}`\n              );\n              return;\n            }\n          });\n      });\n    }\n  };\n\n  const [permissionState, setPermissionState] = useState({\n    audio: true,\n    video: true,\n  });\n\n  const changePermissionState = (key: \"video\" | \"audio\", newValue: boolean) => {\n    setPermissionState((prev) => ({ ...prev, [key]: newValue }));\n  };\n\n  const updateUserCoords = (\n    username: string,\n    position: { x: number; y: number }\n  ) => {\n    if (!socket) return;\n\n    if (room === undefined) return;\n\n    const participants = room?.participants ?? [];\n\n    const participant_index = participants.findIndex(\n      (x: any) => x.username === username\n    );\n\n    if (participant_index === -1) return setRoom(room);\n\n    participants[participant_index] = {\n      ...participants[participant_index],\n      coordinates: `${position.x},${position.y}`,\n    };\n\n    console.log(\n      \"participants[participant_index]\",\n      participants[participant_index]\n    );\n\n    setRoom({ ...room, participants });\n  };\n\n  const [sidebar, setSidebar] = useState<ReactNode>(<></>);\n  const openSidebar = (sidebar: ReactNode) => setSidebar(sidebar);\n  const closeSidebar = () => setSidebar(undefined);\n\n  const { data: leaderboardData } = useApi(\n    `/workspaces/${workspace_id}/leaderboard`\n  );\n  const leaderboardUsers: LeaderboardType[] =\n    leaderboardData !== undefined ? leaderboardData.data : [];\n\n  const { data: schedulesData } = useApi(\n    `/workspaces/${workspace_id}/schedules`\n  );\n  const schedulesItems: ScheduleType[] =\n    schedulesData !== undefined ? schedulesData?.data : [];\n\n  const { data: workspaceUsersData, mutate: mutateWorkspaceUsers } = useApi(\n    `/workspaces/${workspace_id}/users`\n  );\n  const workpaceUsers =\n    workspaceUsersData !== undefined ? workspaceUsersData?.data : [];\n\n  useSocket(\n    \"userLeftFromRoom\",\n    (data: LeftJoinType) => {\n      mutateWorkspaceUsers();\n\n      if (room === undefined) return;\n\n      if (room_id !== data.room_id) return;\n\n      const participants = room?.participants ?? [];\n\n      const newParticipants = participants.filter((x) => x.id !== data.user.id);\n\n      room.participants = newParticipants;\n\n      setRoom(room);\n    },\n    [room, mutateWorkspaceUsers]\n  );\n\n  useSocket(\n    \"userJoinedToRoom\",\n    (data: LeftJoinType) => {\n      mutateWorkspaceUsers();\n\n      if (room === undefined) return;\n\n      if (room_id !== data.room_id) return;\n\n      const participants = room?.participants ?? [];\n\n      room.participants = [...participants, data.user];\n\n      setRoom(room);\n    },\n    [room, mutateWorkspaceUsers]\n  );\n\n  const { data: workpaceJobs } = useApi(`/workspaces/${workspace_id}/jobs`);\n  const workpaceJobItems: JobType[] =\n    workpaceJobs !== undefined ? workpaceJobs?.data : [];\n\n  let usersHaveSchedules: number[] = [];\n  for (let job of workpaceJobItems) {\n    for (let jobMember of job.members) {\n      usersHaveSchedules.push(jobMember.id);\n    }\n  }\n\n  const usersHaveJobs = useMemo(() => {\n    let users: UserMinimalType[] = [];\n\n    for (let job of workpaceJobItems) {\n      for (let member of job.members) {\n        users.push(member);\n      }\n    }\n\n    return uniqueById(users) as UserMinimalType[];\n  }, [workpaceJobItems]);\n\n  const usersHaveInProgressJobs = useMemo(() => {\n    let users: UserMinimalType[] = [];\n\n    for (let job of workpaceJobItems) {\n      if (job.status === \"in_progress\")\n        for (let member of job.members) {\n          users.push(member);\n        }\n    }\n\n    return uniqueById(users) as UserMinimalType[];\n  }, [workpaceJobItems]);\n\n  const usersWithInprogressJobIds = usersHaveInProgressJobs.map((x) => x.id);\n\n  const workingUsers = leaderboardUsers\n    .filter(\n      (x) =>\n        x.user.active === 1 &&\n        x.user.room_id !== null &&\n        x.user.workspace_id === +(workspace_id as string) &&\n        usersHaveSchedules.includes(x.user.id) &&\n        usersWithInprogressJobIds.includes(x.user.id)\n    )\n    .map((x) => x.user);\n\n  const onlineUsers = leaderboardUsers\n    .filter(\n      (x) =>\n        x.user.active === 1 &&\n        x.user.status === \"online\" &&\n        x.user.workspace_id === +(workspace_id as string)\n    )\n    .map((x) => x.user);\n\n  return (\n    <RoomCtx.Provider\n      value={{\n        room,\n        room_id: +room_id,\n        workspace_id,\n        sidebar,\n        closeSidebar,\n        openSidebar,\n        updateUserCoords,\n        audioState: permissionState.audio,\n        videoState: permissionState.video,\n        changePermissionState,\n        livekit_token: (livekit_token as string) ?? undefined,\n        joinRoom: handleJoinRoom,\n        leaderboard: leaderboardUsers,\n        scheduled: schedulesItems,\n        workpaceUsers,\n        workspaceJobs: workpaceJobItems,\n        workingUsers: workingUsers,\n        onlineUsers: onlineUsers,\n        usersHaveJobs: usersHaveJobs,\n        usersHaveInProgressJobs: usersHaveInProgressJobs,\n      }}\n    >\n      {children}\n    </RoomCtx.Provider>\n  );\n}\n","import { ReactNode } from \"react\";\n\ntype Props = {\n  children: ReactNode;\n};\nexport default function RoomSidebar({ children }: Props) {\n  return (\n    <div className='min-h-screen overflow-y-auto'>\n      <div className='bg-white min-h-screen w-full'>{children}</div>\n    </div>\n  );\n}\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","import { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { ReactNode } from \"react\";\n\ntype Tab = {\n  value: string;\n  title?: ReactNode;\n  icon?: ReactNode;\n  content: ReactNode;\n};\n\ntype Props = {\n  title?: ReactNode;\n  items: Tab[];\n  className?: string;\n  titleClassName?: string;\n  defaultValue?: string;\n  dividerBetweenContentAndTabs?: boolean;\n  onChangeTab?: (tab: string) => void;\n};\n\nexport default function CTabs({\n  defaultValue,\n  title,\n  items,\n  className,\n  titleClassName,\n  dividerBetweenContentAndTabs = false,\n  onChangeTab,\n}: Props) {\n  let clss = \"w-full flex flex-col\";\n\n  if (dividerBetweenContentAndTabs) clss += ` gap-y-4`;\n  if (className) clss += ` ${className}`;\n\n  const handleChangeTab = (value: string) => {\n    if (onChangeTab) onChangeTab(value);\n  };\n\n  return (\n    <Tabs\n      defaultValue={defaultValue}\n      className={clss}\n      onValueChange={handleChangeTab}\n    >\n      <div className='tab-holder flex flex-row items-center justify-between'>\n        <TabsList className='flex flex-row justify-start bg-black/5'>\n          {items.map((x) => (\n            <TabsTrigger value={x.value} key={x.value}>\n              {x.icon ? x.icon : x.title}\n            </TabsTrigger>\n          ))}\n        </TabsList>\n        {!!title && typeof title === \"string\" ? (\n          <strong className={titleClassName ?? \"\"}>{title}</strong>\n        ) : (\n          title\n        )}\n      </div>\n      {!!dividerBetweenContentAndTabs && <hr />}\n      {items.map((x) => (\n        <TabsContent value={x.value} key={x.value} className='tab-content'>\n          {x.content}\n        </TabsContent>\n      ))}\n    </Tabs>\n  );\n}\n","import CotopiaButton from \"@/components/shared-ui/c-button\";\nimport { ChevronDown } from \"lucide-react\";\nimport React from \"react\";\n\nexport default function SettingsChatAction() {\n  return (\n    <div className='flex flex-row items-center'>\n      {[\"Rooms\", \"Direct\"].map((item) => (\n        <CotopiaButton variant={\"link\"} key={item}>\n          {item}\n        </CotopiaButton>\n      ))}\n    </div>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport { X } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Dialog = DialogPrimitive.Root;\n\nconst DialogTrigger = DialogPrimitive.Trigger;\n\nconst DialogPortal = DialogPrimitive.Portal;\n\nconst DialogClose = DialogPrimitive.Close;\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 bg-black/80 z-[10] data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n));\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName;\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg z-[10]\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className='absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground'>\n        <X className='h-4 w-4' />\n        <span className='sr-only'>Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n));\nDialogContent.displayName = DialogPrimitive.Content.displayName;\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n);\nDialogHeader.displayName = \"DialogHeader\";\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n);\nDialogFooter.displayName = \"DialogFooter\";\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n));\nDialogTitle.displayName = DialogPrimitive.Title.displayName;\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nDialogDescription.displayName = DialogPrimitive.Description.displayName;\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n};\n","import { Dialog, DialogContent, DialogTrigger } from \"@/components/ui/dialog\";\nimport { ReactNode, useState } from \"react\";\n\ntype Props = {\n  trigger: (open: () => void) => ReactNode;\n  children?: (open: () => void, close: () => void) => ReactNode;\n  className?: string;\n  hasClose?: boolean;\n};\nexport default function ModalBox({\n  trigger,\n  children,\n  className,\n  hasClose = true,\n}: Props) {\n  const [isOpen, setIsOpen] = useState(false);\n  const handleClose = () => {\n    setIsOpen(false);\n  };\n\n  const handleOpen = () => {\n    setIsOpen(true);\n  };\n\n  let finalClassName = className ?? \"\";\n\n  if (!hasClose) finalClassName += ` [&_.right-4]:hidden`;\n\n  return (\n    <Dialog open={isOpen} onOpenChange={setIsOpen}>\n      <DialogTrigger asChild>{trigger(handleOpen)}</DialogTrigger>\n      <DialogContent className={finalClassName ?? \"\"}>\n        {children ? children(handleOpen, handleClose) : null}\n      </DialogContent>\n    </Dialog>\n  );\n}\n\n//Export full Modal\nexport function FullModalBox({ ...props }: Props) {\n  let clss = \"max-w-full max-h-[calc(100vh-200px)] overflow-y-auto z-[10]\";\n  if (props?.className) clss += ` ${props.className}`;\n\n  return <ModalBox {...props} className={clss} />;\n}\n","import CotopiaButton from \"@/components/shared-ui/c-button\";\nimport CotopiaInput from \"@/components/shared-ui/c-input\";\nimport useLoading from \"@/hooks/use-loading\";\nimport axiosInstance from \"@/services/axios\";\nimport { useFormik } from \"formik\";\nimport { Plus } from \"lucide-react\";\nimport { toast } from \"sonner\";\nimport * as Yup from \"yup\";\n\ntype Props = {\n  workspace_id: string | number;\n  onSubmit: () => void;\n};\n\nexport default function AddChannelForm({ workspace_id, onSubmit }: Props) {\n  const { isLoading, startLoading, stopLoading } = useLoading();\n\n  const { touched, errors, getFieldProps, handleSubmit } = useFormik({\n    initialValues: {\n      title: \"\",\n    },\n    validationSchema: Yup.object().shape({\n      title: Yup.string().required(\"Title is required\"),\n    }),\n    onSubmit: async (values, actions) => {\n      startLoading();\n      axiosInstance\n        .post(`/chats`, {\n          type: \"group\",\n          title: values.title,\n          workspace_id,\n        })\n        .then((res) => {\n          if (onSubmit) onSubmit();\n          stopLoading();\n          toast.success(\"Channel created.\");\n        })\n        .catch((err) => {\n          stopLoading();\n        });\n    },\n  });\n\n  return (\n    <form\n      onSubmit={handleSubmit}\n      className='flex flex-col gap-y-4 items-start w-full'\n    >\n      <CotopiaInput\n        {...getFieldProps(\"title\")}\n        hasError={!!touched.title && !!errors.title}\n        helperText={!!touched.title && !!errors.title && errors.title}\n        placeholder='Title'\n      />\n      <CotopiaButton\n        loading={isLoading}\n        type='submit'\n        className='!px-4'\n        startIcon={<Plus size={20} />}\n      >\n        Create Channel\n      </CotopiaButton>\n    </form>\n  );\n}\n","import CotopiaButton from \"@/components/shared-ui/c-button\";\nimport ModalBox, { FullModalBox } from \"@/components/shared/modal-box\";\nimport React from \"react\";\nimport AddChannelForm from \"./form\";\nimport CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport { Plus } from \"lucide-react\";\n\ntype Props = {\n  workspace_id: string | number;\n};\n\nexport default function AddChat({ workspace_id }: Props) {\n  return (\n    <ModalBox\n      trigger={(open) => (\n        <div className='w-full'>\n          <CotopiaIconButton\n            className='text-gray-600 absolute bottom-4 right-4 z-10 shadow-lg w-12 h-12'\n            variant={\"ghost\"}\n            onClick={open}\n          >\n            <Plus size={24} />\n          </CotopiaIconButton>\n        </div>\n      )}\n    >\n      {(open, close) => (\n        <AddChannelForm workspace_id={workspace_id} onSubmit={close} />\n      )}\n    </ModalBox>\n  );\n}\n","import { ReactNode } from \"react\";\nimport { useSlides } from \"..\";\n\ntype Props = {\n  children: ReactNode;\n  index: number;\n};\nexport default function Slide({ children, index }: Props) {\n  const { width, camera } = useSlides();\n\n  return (\n    <div\n      style={{\n        width: width,\n        left: width * index,\n        opacity: camera === index + 1 ? 1 : 0,\n      }}\n      className='absolute flex flex-grow top-0 transition-all overflow-hidden'\n    >\n      {children}\n    </div>\n  );\n}\n","import {\n  createContext,\n  ReactNode,\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport Slide from \"./slide\";\n\ntype Props = {\n  children: ReactNode;\n};\n\nconst SlideContext = createContext<{\n  slides: ReactNode[];\n  push: (slide: ReactNode) => void;\n  back: () => void;\n  width: number;\n  camera: number;\n}>({\n  slides: [],\n  push: (slide: ReactNode) => {},\n  back: () => {},\n  width: 0,\n  camera: 0,\n});\n\nexport const useSlides = () => useContext(SlideContext);\n\nexport default function SlidePusher({ children }: Props) {\n  const parentRef = useRef<HTMLDivElement>(null);\n  const [width, setWidth] = useState(0);\n\n  useEffect(() => {\n    if (!parentRef?.current) return;\n\n    setWidth(parentRef.current.getBoundingClientRect().width);\n  }, []);\n\n  const [camera, setCamera] = useState(0);\n\n  const [slides, setSlides] = useState<ReactNode[]>([]);\n\n  const moveForward = () => {\n    setTimeout(() => {\n      setCamera((prev) => prev + 1);\n    }, 100);\n  };\n\n  const moveBack = () => {\n    setTimeout(() => {\n      setCamera((prev) => {\n        if (prev > 0) return prev - 1;\n\n        return 0;\n      });\n    }, 100);\n  };\n\n  const handlePushSlide = (slide: ReactNode) => {\n    setSlides((prev) => [...prev, slide]);\n    moveForward();\n  };\n\n  const handleBackSlide = () => {\n    setSlides((prev) => {\n      prev.pop();\n\n      return prev;\n    });\n\n    moveBack();\n  };\n\n  useEffect(() => {\n    if (slides.length === 0 && children) handlePushSlide(children);\n  }, [children]);\n\n  return (\n    <SlideContext.Provider\n      value={{\n        width,\n        camera,\n        slides,\n        push: handlePushSlide,\n        back: handleBackSlide,\n      }}\n    >\n      <div className='relative h-full flex-grow'>\n        <div\n          ref={parentRef}\n          className='viewport flex flex-row w-full h-full absolute top-0 left-0 transition-all'\n          style={{\n            transform: `translateX(${-1 * (camera - 1) * width}px)`,\n          }}\n        >\n          {slides.map((x, key) => (\n            <Slide key={key} index={key}>\n              {x}\n            </Slide>\n          ))}\n        </div>\n      </div>\n    </SlideContext.Provider>\n  );\n}\n","import {\n  addMessage,\n  getChats,\n  seenMessage,\n  updateMessage,\n} from \"@/store/slices/chat-slice\";\nimport { useAppDispatch, useAppSelector } from \"@/store\";\nimport { Chat2ItemType } from \"@/types/chat2\";\nimport { UserType } from \"@/types/user\";\nimport moment from \"moment\";\nimport { RefObject, useEffect } from \"react\";\nimport { dispatch as busDispatch } from \"use-bus\";\nimport useAuth from \"../auth\";\n//@ts-ignore\nimport { useSocket } from \"@/routes/private-wrarpper\";\nimport { __BUS } from \"@/const/bus\";\n\nfunction generateTempChat({\n  chat_id,\n  user_id,\n  text,\n}: {\n  chat_id: number;\n  user_id: number;\n  text: string;\n}) {\n  const nonce_id = moment().unix() * 1000;\n\n  //@ts-ignore\n  return {\n    chat_id,\n    created_at: null,\n    deleted_at: null,\n    files: [],\n    is_edited: null,\n    is_pinned: 0,\n    links: [],\n    mentions: [],\n    nonce_id,\n    reply_to: null,\n    seen: false,\n    text,\n    updated_at: nonce_id,\n    user: user_id,\n    is_delivered: false,\n    is_rejected: false,\n    is_pending: false,\n  } as Chat2ItemType;\n}\n\nexport const useChat2 = (props?: {\n  chat_id?: string | number;\n  workspace_id?: number;\n  hasInitFetch?: boolean;\n  chatRef?: RefObject<HTMLDivElement> | undefined;\n}) => {\n  const { user } = useAuth();\n\n  const hasInitFetch = props?.hasInitFetch ?? true;\n  const workspace_id = props?.workspace_id;\n  const chat_id = props?.chat_id;\n\n  const socket = useSocket();\n\n  const { chats, error, loading, participants } = useAppSelector(\n    (store) => store.chat\n  );\n\n  const dispatch = useAppDispatch();\n\n  useEffect(() => {\n    if (hasInitFetch === true && workspace_id)\n      dispatch(getChats({ workspace_id }));\n  }, [workspace_id, hasInitFetch]);\n\n  useSocket(\"updateMessage\", (data: Chat2ItemType) =>\n    console.log(\"data\", data)\n  );\n\n  const seenFn = (message: Chat2ItemType, onSuccess?: () => void) => {\n    socket?.emit(\"seenMessage\", {\n      chat_id: message.chat_id,\n      nonce_id: message.nonce_id,\n    });\n\n    dispatch(\n      seenMessage({ chat_id: message.chat_id, nonce_id: message.nonce_id })\n    );\n\n    if (onSuccess) onSuccess();\n  };\n\n  const send = (\n    {\n      text,\n      mentions,\n      links,\n      files,\n    }: {\n      text: string;\n      mentions?: any[];\n      links?: any[];\n      files?: number[];\n    },\n    onSuccess?: () => void\n  ) => {\n    const message = generateTempChat({\n      chat_id: chat_id as number,\n      user_id: (user as UserType)?.id,\n      text,\n    });\n\n    dispatch(addMessage(message));\n\n    socket?.emit(\"sendMessage\", message, (data: any) => {});\n\n    if (onSuccess) onSuccess();\n    setTimeout(() => {\n      busDispatch(__BUS.scrollEndChatBox);\n    }, 1);\n\n    return message;\n  };\n\n  const add = (message: Chat2ItemType, onSuccess?: () => void) => {\n    dispatch(addMessage(message));\n    if (onSuccess) onSuccess();\n  };\n\n  const update = (message: Chat2ItemType, onSuccess?: () => void) => {\n    socket?.emit(\"sendMessage\", message, (data: any) => {});\n    dispatch(updateMessage(message));\n    if (onSuccess) onSuccess();\n  };\n\n  useSocket(\"messageSeen\", (data: Chat2ItemType) => {\n    dispatch(seenMessage({ chat_id: data.chat_id, nonce_id: data.nonce_id }));\n  });\n\n  const chatKeys = Object.keys(chats);\n\n  return {\n    add,\n    send,\n    update,\n    seen: seenFn,\n    chats: chatKeys.map((x) => chats[x].object),\n    chatObjects: chats,\n    loading,\n    error,\n    participants,\n  };\n};\n","import { ChatType } from \"@/types/chat2\";\n\ntype Props = {\n  title: string;\n  sub_title?: string;\n  description?: string;\n};\nexport default function ChatDetails({ title, sub_title, description }: Props) {\n  return (\n    <div className='flex flex-col gap-y-1 flex-1'>\n      <div className='flex flex-row items-center justify-between'>\n        <strong>{title}</strong>\n        {!!sub_title && (\n          <span className='text-xs text-gray-500'>{sub_title}</span>\n        )}\n      </div>\n      {!!description && (\n        <span className='text-sm text-gray-500'>{description}</span>\n      )}\n    </div>\n  );\n}\n","import { useEffect, useState } from \"react\";\n\nexport type CBadgeProps = {\n  count: number;\n  size?: \"small\" | \"normal\" | \"large\";\n  showAnimate?: boolean;\n  className?: string;\n};\n\nlet timeout: any = undefined;\n\nexport default function CBadge({\n  count,\n  showAnimate = true,\n  size = \"small\",\n  className,\n}: CBadgeProps) {\n  const [hasAnimate, setHasAnimate] = useState(false);\n\n  useEffect(() => {\n    function giveAnimate() {\n      setHasAnimate(true);\n\n      timeout = setTimeout(() => {\n        setHasAnimate(false);\n      }, 1000);\n    }\n\n    if (showAnimate) {\n      giveAnimate();\n    }\n\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, [count, showAnimate]);\n\n  let clss = className ?? \"\";\n\n  switch (size) {\n    case \"small\":\n      clss += ` w-[16px] h-[16px]`;\n      break;\n    case \"normal\":\n      clss += ` w-[24px] h-[24px]`;\n      break;\n    case \"large\":\n      clss += ` w-[32px] h-[32px]`;\n      break;\n  }\n\n  if (count <= 0) return null;\n\n  return (\n    <div\n      className={`rounded-full bg-destructive text-white flex items-center justify-center ${\n        hasAnimate ? \"animate-scale-custom\" : \"\"\n      } ${clss}`}\n    >\n      {count}\n    </div>\n  );\n}\n","import CBadge from \"@/components/shared-ui/c-badge\";\nimport { useMemo } from \"react\";\nimport { useChat } from \"../..\";\nimport { useAppSelector } from \"@/store\";\n\nexport default function UnSeenMessages() {\n  //Getting locale chat item context\n  const { chat } = useChat();\n\n  //Get chats from redux slice\n  const { chats } = useAppSelector((store) => store.chat);\n\n  const unSeenMessages = useMemo(() => {\n    const targetChatUnseenMessages = chats[chat?.id]?.messages?.filter(\n      (x) => x.seen === false\n    );\n\n    return targetChatUnseenMessages;\n  }, [chats, chat?.id]);\n\n  return (\n    <CBadge\n      count={unSeenMessages?.length}\n      className='absolute bottom-2 right-2'\n      size='normal'\n    />\n  );\n}\n","import React from \"react\";\nimport CotopiaAvatar from \"@/components/shared-ui/c-avatar\";\nimport ChatDetails from \"../details\";\nimport { ChatType } from \"@/types/chat2\";\nimport moment from \"moment\";\nimport UnSeenMessages from \"./un-seen-messages\";\nimport { useChat } from \"..\";\n\ntype Props = {};\n\nexport default function ChatPreview() {\n  const { chat } = useChat();\n\n  return (\n    <div className='flex flex-row items-center gap-x-2 w-full'>\n      <CotopiaAvatar title={chat?.title?.slice(0, 1)} className={`w-12 h-12`} />\n      <ChatDetails\n        title={chat?.title}\n        sub_title={\n          chat?.last_message?.updated_at\n            ? moment(chat?.last_message?.updated_at * 1000).format(\"HH:mm\")\n            : undefined\n        }\n        description={chat?.last_message?.text}\n      />\n      <UnSeenMessages />\n    </div>\n  );\n}\n","import CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport { ArrowLeft } from \"lucide-react\";\n\ntype Props = {\n  onClick: () => void;\n};\nexport default function BackHolder({ onClick }: Props) {\n  return (\n    <div>\n      <CotopiaIconButton className='text-black/60' onClick={onClick}>\n        <ArrowLeft />\n      </CotopiaIconButton>\n    </div>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Popover = PopoverPrimitive.Root;\n\nconst PopoverTrigger = PopoverPrimitive.Trigger;\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-[10] w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n));\nPopoverContent.displayName = PopoverPrimitive.Content.displayName;\n\nexport { Popover, PopoverTrigger, PopoverContent };\n","import { ReactNode } from \"react\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"../ui/popover\";\n\ntype Props = {\n  trigger: ReactNode;\n  children: ReactNode;\n  open?: boolean;\n  contentClassName?: string;\n  triggerClassName?: string;\n  align?: \"center\" | \"end\" | \"start\";\n};\nexport default function CotopiaPopover({\n  trigger,\n  children,\n  open,\n  contentClassName,\n  triggerClassName = \"\",\n  align = \"end\",\n}: Props) {\n  return (\n    <Popover open={open}>\n      <PopoverTrigger className={`popover-trigger ${triggerClassName}`}>\n        {trigger}\n      </PopoverTrigger>\n      <PopoverContent align={align} className={contentClassName ?? \"\"}>\n        {children}\n      </PopoverContent>\n    </Popover>\n  );\n}\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","import {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\nimport { TooltipTriggerProps } from \"@radix-ui/react-tooltip\";\nimport { ReactNode } from \"react\";\n\ntype Props = {\n  children: ReactNode;\n  title: string;\n  triggerClassName?: string;\n  tooltipTriggerProps?: TooltipTriggerProps;\n};\nexport default function CotopiaTooltip({\n  children,\n  title,\n  triggerClassName,\n  tooltipTriggerProps,\n}: Props) {\n  return (\n    <TooltipProvider>\n      <Tooltip>\n        <TooltipTrigger\n          {...tooltipTriggerProps}\n          className={triggerClassName ?? \"\"}\n        >\n          {children}\n        </TooltipTrigger>\n        <TooltipContent>\n          <span>{title}</span>\n        </TooltipContent>\n      </Tooltip>\n    </TooltipProvider>\n  );\n}\n","import { UserMinimalType, WorkspaceUserType } from \"./user\"\n\nexport enum AvailabiltyType {\n  \"Video\" = 0,\n  \"Voice\" = 1,\n  \"Text\" = 2,\n}\n\nexport type ScheduleType = {\n  availability_type: AvailabiltyType\n  days: { day: number; times: { start: string; end: string }[] }[]\n  end_time: string\n  id: number\n  is_recurrence: 0 | 1\n  recurrence_end_at: null | string\n  recurrence_start_at: string\n  start_time: string\n  timezone: string\n  user: WorkspaceUserType\n  workspace_id: number\n}\n","import CotopiaTooltip from \"@/components/shared-ui/c-tooltip\";\nimport { getDay } from \"@/lib/utils\";\nimport { ScheduleType } from \"@/types/calendar\";\nimport { Dot } from \"lucide-react\";\nimport moment from \"moment\";\nimport React from \"react\";\n\ntype Props = {\n  schedule: ScheduleType;\n  handleSelect: (day: number) => void;\n  handleDeSelect: (day: number) => void;\n  selectedDay?: number;\n};\n\nexport default function Days({\n  schedule,\n  handleSelect,\n  handleDeSelect,\n  selectedDay,\n}: Props) {\n  const today = moment();\n\n  const days = Array.from(Array(7).keys());\n\n  return (\n    <div className='flex flex-row items-center justify-center w-full gap-x-2'>\n      {days.map((day) => {\n        const currentDay = schedule.days.find((x) => x.day === day);\n\n        const isSelected = !!currentDay;\n\n        const isToday = today.day() === day;\n\n        let clss =\n          \"relative flex flex-col items-center justify-center w-10 h-10 cursor-default rounded-md\";\n\n        if (isSelected)\n          clss += ` border border-blue-500 text-blue-500 cursor-pointer bg-white hover:bg-blue-50`;\n        else clss += ` grayscale opacity-[.4]`;\n\n        let timeOfDayTooltip = \"\";\n\n        if (isSelected)\n          timeOfDayTooltip = currentDay.times\n            .map((x) => `${x.start} - ${x.end}`)\n            .join(\", \");\n\n        if (isSelected && isToday && selectedDay === day) {\n          clss += ` bg-blue-50`;\n        }\n\n        let content = (\n          <div\n            className={clss}\n            onMouseEnter={() => handleSelect(day)}\n            onMouseLeave={() => handleDeSelect(day)}\n          >\n            <span>{getDay(day)[0]}</span>\n            {!!isToday && (\n              <span className='absolute text-blue-500 bottom-[-12px] left-[50%] translate-x-[-50%]'>\n                <Dot />\n              </span>\n            )}\n          </div>\n        );\n\n        return (\n          <>\n            {isSelected ? (\n              <CotopiaTooltip key={day} title={timeOfDayTooltip}>\n                {content}\n              </CotopiaTooltip>\n            ) : (\n              content\n            )}\n          </>\n        );\n      })}\n    </div>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport * as SelectPrimitive from \"@radix-ui/react-select\";\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Select = SelectPrimitive.Root;\n\nconst SelectGroup = SelectPrimitive.Group;\n\nconst SelectValue = SelectPrimitive.Value;\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className='h-4 w-4 opacity-50' />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n));\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName;\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className='h-4 w-4' />\n  </SelectPrimitive.ScrollUpButton>\n));\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName;\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className='h-4 w-4' />\n  </SelectPrimitive.ScrollDownButton>\n));\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName;\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-[1002] max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n));\nSelectContent.displayName = SelectPrimitive.Content.displayName;\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n));\nSelectLabel.displayName = SelectPrimitive.Label.displayName;\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className='absolute left-2 flex h-3.5 w-3.5 items-center justify-center'>\n      <SelectPrimitive.ItemIndicator>\n        <Check className='h-4 w-4' />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n));\nSelectItem.displayName = SelectPrimitive.Item.displayName;\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n));\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName;\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n};\n","import {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\"\n\ntype Props = {\n  label?: string\n  items: { title: string; value: string }[]\n  onChange?: (value: string) => void\n  className?: string\n  defaultValue?: string\n  onInputChange?: boolean\n}\n\nexport default function CSelect({\n  label,\n  className = \"\",\n  items,\n  onChange,\n  defaultValue,\n}: Props) {\n  return (\n    <div className={`flex flex-col gap-y-1 w-full ${className}`}>\n      {!!label && <strong className=\"text-sm\">{label}</strong>}\n      <Select onValueChange={onChange} value={defaultValue}>\n        <SelectTrigger className=\"w-full\">\n          <SelectValue placeholder={\"Select\"} />\n        </SelectTrigger>\n        <SelectContent>\n          <SelectGroup>\n            {items.length === 0 ? (\n              <div className=\"p-2 flex items-center justify-center text-xs\">\n                There is nothing here\n              </div>\n            ) : (\n              items.map((x, index) => (\n                <SelectItem value={x.value} key={index}>\n                  {x.title}\n                </SelectItem>\n              ))\n            )}\n          </SelectGroup>\n        </SelectContent>\n      </Select>\n    </div>\n  )\n}\n","import CSelect from \"@/components/shared-ui/c-select\";\nimport { useCallback, useEffect, useMemo, useState } from \"react\";\n\ntype Props = {\n  defaultValue?: string;\n  onChange?: (time: string) => void;\n  className?: string;\n};\n\nconst generateAllTimes = (): string[] => {\n  const times: string[] = [];\n\n  for (let hour = 0; hour < 24; hour++) {\n    for (let minute = 0; minute < 60; minute += 30) {\n      const formattedHour = hour.toString().padStart(2, \"0\");\n      const formattedMinute = minute.toString().padStart(2, \"0\");\n      times.push(`${formattedHour}:${formattedMinute}`);\n    }\n  }\n\n  return times;\n};\n\nexport default function TimePicker({\n  defaultValue,\n  onChange,\n  className = \"\",\n}: Props) {\n  const [value, setValue] = useState<string>(\"08:00\");\n\n  useEffect(() => {\n    if (defaultValue !== undefined) setValue(defaultValue);\n  }, [defaultValue]);\n\n  const times = useMemo(() => {\n    return generateAllTimes();\n  }, []);\n\n  const handleChangeValue = useCallback(\n    (value: string) => {\n      setValue(value);\n\n      if (onChange) onChange(value);\n    },\n    [onChange]\n  );\n\n  return (\n    <CSelect\n      className={className}\n      items={times.map((x) => ({\n        title: x,\n        value: x,\n      }))}\n      defaultValue={defaultValue ? defaultValue : value}\n      onChange={handleChangeValue}\n    />\n  );\n}\n","import { getDay } from \"date-fns\";\nimport { ScheduleDayType } from \"..\";\nimport TimePicker from \"./time-picker\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { Minus } from \"lucide-react\";\n\ntype Props = {\n  dayTime: ScheduleDayType[\"times\"][0];\n  onChange: (dayTime: ScheduleDayType[\"times\"][0]) => void;\n};\nexport default function DayTime({ dayTime, onChange }: Props) {\n  const [time, setTime] = useState<ScheduleDayType[\"times\"][0]>({\n    from: \"\",\n    to: \"\",\n  });\n  useEffect(() => {\n    if (dayTime !== undefined) setTime(dayTime);\n  }, [dayTime]);\n\n  const handleChange = useCallback(\n    (type: \"from\" | \"to\", value: string) => {\n      setTime((prev) => {\n        const nValue = { ...prev, [type]: value };\n\n        if (onChange) onChange(nValue);\n\n        return nValue;\n      });\n    },\n    [onChange]\n  );\n\n  return (\n    <div className='flex flex-row gap-x-4 items-center'>\n      <TimePicker\n        defaultValue={time?.from}\n        onChange={(time: string) => handleChange(\"from\", time)}\n      />\n      <div>\n        <Minus size={12} />\n      </div>\n      <TimePicker\n        defaultValue={time?.to}\n        onChange={(time: string) => handleChange(\"to\", time)}\n      />\n    </div>\n  );\n}\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","import { v4 as uuidv4 } from \"uuid\";\n\nimport { Switch } from \"@/components/ui/switch\";\nimport { SwitchProps } from \"@radix-ui/react-switch\";\n\ntype Props = SwitchProps & { label?: string };\n\nexport default function CotopiaSwitch({ label, ...rest }: Props) {\n  const switchId = rest?.id ?? uuidv4();\n\n  return (\n    <div className='flex flex-row items-center gap-x-4'>\n      <Switch id={switchId} {...rest} />\n      <label className='cursor-pointer text-sm' htmlFor={switchId}>\n        {label}\n      </label>\n    </div>\n  );\n}\n","import { ScheduleDayType } from \"..\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport DayTime from \"./time\";\nimport CotopiaSwitch from \"@/components/shared-ui/c-switch\";\nimport { getDay } from \"@/lib/utils\";\nimport CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport { Plus, Trash } from \"lucide-react\";\nimport { AvailabiltyType } from \"@/types/calendar\";\n\ntype Props = {\n  day?: ScheduleDayType;\n  onChange: (day: ScheduleDayType) => void;\n  index: number;\n};\n\nfunction DayPlus({ onClick }: { onClick: () => void }) {\n  return (\n    <CotopiaIconButton className='text-black' onClick={onClick}>\n      <Plus size={12} />\n    </CotopiaIconButton>\n  );\n}\n\nfunction DayRemove({ onClick }: { onClick: () => void }) {\n  return (\n    <CotopiaIconButton className='text-black' onClick={onClick}>\n      <Trash size={12} />\n    </CotopiaIconButton>\n  );\n}\n\nexport const initSheduleTimes = { from: \"09:00\", to: \"16:00\" };\n\nexport default function Day({ day, onChange, index }: Props) {\n  const [value, setValue] = useState<ScheduleDayType>({\n    index: 0,\n    times: [initSheduleTimes],\n    availability_type: AvailabiltyType.Voice,\n    selected: false,\n  });\n  useEffect(() => {\n    if (day !== undefined) setValue(day);\n  }, [day]);\n\n  const handleAddDay = useCallback(() => {\n    setValue((prev) => {\n      const nValue = {\n        ...prev,\n        times: [...(prev?.times ?? []), initSheduleTimes],\n      };\n\n      if (onChange) onChange(nValue);\n\n      return nValue;\n    });\n  }, [onChange]);\n\n  const handleRemove = useCallback(\n    (index: number) => {\n      setValue((prev) => {\n        const nValue = {\n          ...prev,\n          times: prev.times.filter((x, itemIndex) => index !== itemIndex),\n        };\n\n        if (onChange) onChange(nValue);\n\n        return nValue;\n      });\n    },\n    [onChange]\n  );\n\n  const handleChangeTime = (\n    index: number,\n    value: ScheduleDayType[\"times\"][0]\n  ) => {\n    setValue((prev) => {\n      prev.times[index] = value;\n\n      if (onChange) onChange(prev);\n\n      return prev;\n    });\n  };\n\n  const handleToggleSelectDay = (value: boolean) => {\n    setValue((prev) => {\n      const nValue = { ...prev, selected: value };\n\n      if (onChange) onChange(nValue);\n\n      return nValue;\n    });\n  };\n\n  return (\n    <div className='flex flex-row items-start gap-x-2'>\n      <div className='min-w-[200px] mt-2'>\n        <CotopiaSwitch\n          label={getDay(index)}\n          checked={value.selected}\n          onCheckedChange={handleToggleSelectDay}\n        />\n      </div>\n      <div className='flex flex-col gap-y-4 w-full'>\n        {value?.times.map((item, key) => (\n          <div key={key} className='flex flex-row items-center gap-x-2'>\n            <DayTime\n              dayTime={item}\n              onChange={(dayTime) => handleChangeTime(key, dayTime)}\n            />\n            {key === 0 ? (\n              <DayPlus onClick={handleAddDay} />\n            ) : (\n              <DayRemove onClick={() => handleRemove(key)} />\n            )}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n","import { ReactNode } from \"react\";\n\ntype Props = {\n  title: ReactNode;\n  children: ReactNode;\n  className?: string;\n};\nexport default function TitleEl({ title, children, className }: Props) {\n  return (\n    <div className={`flex flex-col gap-y-2 ${className}`}>\n      <strong>{title}</strong>\n      {children}\n    </div>\n  );\n}\n","import { CBadgeItemType } from \"..\";\nimport CotopiaButton from \"../../c-button\";\n\ntype Props = {\n  item: CBadgeItemType;\n  isChecked: boolean;\n  onSelect: (value: string | number) => void;\n};\nexport default function CBadgeItem({ item, isChecked, onSelect }: Props) {\n  return (\n    <CotopiaButton\n      onClick={() => onSelect(item.value)}\n      variant={isChecked ? \"default\" : \"outline\"}\n      className='min-w-[80px]'\n      startIcon={item.icon}\n    >\n      {item.title}\n    </CotopiaButton>\n  );\n}\n","import { ReactNode, useEffect, useState } from \"react\";\nimport CBadgeItem from \"./item\";\n\nexport type CBadgeValueType = number | string;\n\nexport type CBadgeItemType = {\n  title: string;\n  icon?: ReactNode;\n  value: CBadgeValueType;\n};\n\ntype Props = {\n  items: CBadgeItemType[];\n  defaultSelected?: CBadgeValueType[];\n  onChange: (value: CBadgeValueType[]) => void;\n  isSingular?: boolean;\n};\nexport default function CBadgeItems({\n  items,\n  defaultSelected,\n  onChange,\n  isSingular,\n}: Props) {\n  const [selected, setSelected] = useState<CBadgeValueType[]>([]);\n  useEffect(() => {\n    if (defaultSelected !== undefined) setSelected(defaultSelected);\n  }, [defaultSelected]);\n\n  const handleSelect = (value: CBadgeValueType) => {\n    let nValue: CBadgeValueType[] = [];\n\n    if (isSingular) {\n      nValue = [value];\n\n      setSelected(nValue);\n\n      if (onChange) onChange(nValue);\n\n      return;\n    }\n\n    if (selected.includes(value)) {\n      nValue = selected.filter((x) => x !== value);\n    } else {\n      nValue = [...selected, value];\n    }\n\n    if (onChange) onChange(nValue);\n\n    setSelected(nValue);\n  };\n  if (items.length === 0) return null;\n\n  return (\n    <div className='flex flex-row items-center gap-2 flex-wrap'>\n      {items.map((item) => (\n        <CBadgeItem\n          item={item}\n          key={item.value}\n          isChecked={selected.includes(item.value)}\n          onSelect={handleSelect}\n        />\n      ))}\n    </div>\n  );\n}\n","import CBadgeItems from \"@/components/shared-ui/c-badge-items\";\nimport { AvailabiltyType } from \"@/types/calendar\";\nimport { Mic, Pencil, Video } from \"lucide-react\";\n\ntype Props = {\n  value?: AvailabiltyType;\n  onChange: (change: AvailabiltyType) => void;\n};\nexport default function AvailabilityType({ value, onChange }: Props) {\n  return (\n    <CBadgeItems\n      items={[\n        {\n          title: \"Video\",\n          value: AvailabiltyType.Video,\n          icon: <Video size={16} />,\n        },\n        {\n          title: \"Voice\",\n          value: AvailabiltyType.Voice,\n          icon: <Mic size={16} />,\n        },\n        {\n          title: \"Text\",\n          value: AvailabiltyType.Text,\n          icon: <Pencil size={16} />,\n        },\n      ]}\n      onChange={(value) => onChange && onChange(+value[0])}\n      defaultSelected={value !== undefined ? [value] : []}\n      isSingular\n    />\n  );\n}\n","import CotopiaButton from \"@/components/shared-ui/c-button\";\nimport useLoading from \"@/hooks/use-loading\";\nimport axiosInstance from \"@/services/axios\";\nimport { Trash } from \"lucide-react\";\nimport { toast } from \"sonner\";\n\ntype Props = {\n  eventId: number;\n  onDelete: () => void;\n};\nexport default function DeleteEvent({ eventId, onDelete }: Props) {\n  const { startLoading, stopLoading, isLoading } = useLoading();\n\n  const handleDelete = () => {\n    startLoading();\n    axiosInstance\n      .delete(`/schedules/${eventId}`)\n      .then((res) => {\n        toast.success(\"Event has been deleted\");\n        if (onDelete) onDelete();\n        stopLoading();\n      })\n      .catch(() => {\n        stopLoading();\n      });\n  };\n\n  return (\n    <CotopiaButton\n      onClick={handleDelete}\n      startIcon={<Trash size={16} />}\n      className='min-w-[160px] !border-red-500 !text-red-500'\n      variant={\"outline\"}\n      loading={isLoading}\n    >\n      {`Delete event`}\n    </CotopiaButton>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\nimport { DayPicker } from \"react-day-picker\";\n\nimport { cn } from \"@/lib/utils\";\nimport { buttonVariants } from \"@/components/ui/button\";\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>;\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-8 w-8 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ ...props }) => <ChevronLeft className='h-4 w-4' />,\n        IconRight: ({ ...props }) => <ChevronRight className='h-4 w-4' />,\n      }}\n      {...props}\n    />\n  );\n}\nCalendar.displayName = \"Calendar\";\n\nexport { Calendar };\n","import React, { useEffect, useMemo, useState } from \"react\"\nimport CotopiaPopover from \"../c-popover\"\nimport CotopiaInput, { CotopiaInputProps } from \"../c-input\"\nimport { Calendar } from \"@/components/ui/calendar\"\nimport moment from \"moment\"\n\ntype Props = {\n  onChange?: (date: Date) => void\n  defaultDate?: Date\n  format?: string\n  className?: string\n  inputProps?: CotopiaInputProps\n}\n\nexport default function CDateInput({\n  onChange,\n  defaultDate,\n  format = \"YYYY-MM-DD\",\n  className = \"\",\n  inputProps,\n}: Props) {\n  const [date, setDate] = useState<Date>()\n  useEffect(() => {\n    if (defaultDate !== undefined) setDate(defaultDate)\n  }, [defaultDate])\n  const handleChange = (date: Date) => {\n    setDate(date)\n    if (onChange) onChange(date)\n  }\n\n  const formatedDate = useMemo(() => {\n    if (date === undefined) return \"\"\n\n    return moment(date).format(format)\n  }, [date])\n\n  return (\n    <CotopiaPopover\n      triggerClassName={className}\n      trigger={<CotopiaInput {...inputProps} value={formatedDate} />}\n    >\n      <Calendar selected={date} onDayClick={handleChange} />\n    </CotopiaPopover>\n  )\n}\n","\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Day from \"./day\";\nimport CotopiaButton from \"@/components/shared-ui/c-button\";\nimport { Save } from \"lucide-react\";\nimport useLoading from \"@/hooks/use-loading\";\nimport TitleEl from \"@/components/shared/title-el\";\nimport AvailabilityType from \"./availability\";\nimport { AvailabiltyType } from \"@/types/calendar\";\nimport { toast } from \"sonner\";\nimport DeleteEvent from \"../delete-event\";\nimport CotopiaSwitch from \"@/components/shared-ui/c-switch\";\nimport CDateInput from \"@/components/shared-ui/c-date-input\";\nimport moment from \"moment\";\nimport { useRoomContext } from \"@/components/shared/room/room-context\";\nimport axiosInstance from \"@/services/axios\";\n\nexport type ScheduleDayType = {\n  index: number;\n  times: { from: string; to: string }[];\n  availability_type: AvailabiltyType;\n  selected: boolean;\n};\n\n//Todo - Refactor defaultId and defaultValue to schedule object\ntype Props = {\n  onClose: () => void;\n  defaultId?: number;\n  defaultValue?: {\n    availability_type: AvailabiltyType;\n    days: { [key: number]: ScheduleDayType };\n    is_recurrence?: boolean;\n    recurrence_start?: string;\n    recurrence_end?: string;\n  };\n  onDelete?: () => void;\n  onCreated?: () => void;\n};\n\nexport default function AddScheduleContent({\n  onClose,\n  defaultId,\n  defaultValue,\n  onDelete,\n  onCreated,\n}: Props) {\n  const { workspace_id } = useRoomContext();\n\n  const isEdit = defaultValue !== undefined && defaultId !== undefined;\n\n  const [recurrenceDates, setRecurrenceDates] = useState<{\n    start_at?: string;\n    ends_at?: string;\n  }>();\n\n  const [isRecurrence, setIsRecurrence] = useState<boolean>(false);\n\n  const [availability, setAvailability] = useState<AvailabiltyType>(\n    AvailabiltyType.Voice\n  );\n\n  const [daysValue, setDaysValue] = useState<{\n    [key: number]: ScheduleDayType;\n  }>();\n\n  useEffect(() => {\n    if (defaultValue !== undefined) {\n      const { availability_type, days } = defaultValue;\n\n      setAvailability(availability_type);\n      setDaysValue(days);\n\n      setIsRecurrence(defaultValue?.is_recurrence ?? false);\n      if (defaultValue?.recurrence_end)\n        setRecurrenceDates((prev) => ({\n          ...prev,\n          ends_at: defaultValue?.recurrence_end,\n        }));\n      if (defaultValue?.recurrence_start)\n        setRecurrenceDates((prev) => ({\n          ...prev,\n          start_at: defaultValue?.recurrence_start,\n        }));\n    }\n  }, [defaultValue]);\n\n  const days = Array.from(Array(7).keys());\n\n  useEffect(() => {\n    if (daysValue !== undefined) return;\n  }, [daysValue]);\n\n  const handleChangeDay = (index: number, day: ScheduleDayType) => {\n    setDaysValue((prev) => {\n      const prevDays: any = prev !== undefined ? prev : {};\n\n      prevDays[index] = day;\n\n      return prevDays;\n    });\n  };\n\n  const { startLoading, stopLoading, isLoading } = useLoading();\n  const handleSubmitEvent = () => {\n    const userTimeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n\n    if (daysValue === undefined) return;\n\n    startLoading();\n    let payload: { [key: string]: any } = {\n      is_recurrence: isRecurrence,\n      timezone: userTimeZone,\n      availability_type: availability,\n      workspace_id,\n    };\n\n    if (isRecurrence) {\n      if (recurrenceDates?.start_at)\n        payload[\"recurrence_start_at\"] = recurrenceDates?.start_at;\n      if (recurrenceDates?.ends_at)\n        payload[\"recurrence_end_at\"] = recurrenceDates?.ends_at;\n    }\n\n    const daysArray = Object.keys(daysValue)\n      .map((x) => ({ day: daysValue[+x], dayIndex: x }))\n      .filter((x) => x.day.selected)\n      .map((x) => ({\n        day: +x.dayIndex,\n        times: x.day.times.map((a) => ({\n          start: a.from,\n          end: a.to,\n        })),\n      }));\n\n    payload[\"days\"] = daysArray;\n\n    axiosInstance({\n      url: isEdit ? `/schedules/${defaultId}` : `/schedules`,\n      method: isEdit ? \"PUT\" : \"POST\",\n      data: payload,\n    })\n      .then((res) => {\n        toast.success(\n          isEdit ? \"Event has been updated\" : \"Event has been created\"\n        );\n        if (!isEdit) {\n          if (onCreated) onCreated();\n        }\n        stopLoading();\n      })\n      .catch(() => {\n        stopLoading();\n      });\n  };\n\n  return (\n    <div className='flex flex-col gap-y-8'>\n      <TitleEl title='Availability Type'>\n        <AvailabilityType value={availability} onChange={setAvailability} />\n      </TitleEl>\n      <TitleEl title='Days'>\n        <div className='flex flex-col gap-y-6'>\n          {days.map((dayNumber, index) => {\n            const day = daysValue?.[dayNumber];\n            return (\n              <div className='day' key={index}>\n                <Day\n                  index={index}\n                  day={day}\n                  onChange={(dayValue) => handleChangeDay(index, dayValue)}\n                />\n                <hr className='mt-6' />\n              </div>\n            );\n          })}\n        </div>\n      </TitleEl>\n      <TitleEl title='Times' className='flex flex-col gap-y-4'>\n        <CotopiaSwitch\n          label='Is this event recurrence?'\n          checked={isRecurrence}\n          onCheckedChange={setIsRecurrence}\n        />\n        {isRecurrence && (\n          <>\n            <CDateInput\n              inputProps={{\n                label: \"Start at\",\n              }}\n              defaultDate={\n                recurrenceDates?.start_at\n                  ? moment(recurrenceDates.start_at).toDate()\n                  : undefined\n              }\n              onChange={(date) =>\n                setRecurrenceDates((prev) => ({\n                  ...prev,\n                  start_at: moment(date).format(\"YYYY-MM-DD HH:mm:ss\"),\n                }))\n              }\n            />\n            <CDateInput\n              inputProps={{\n                label: \"Ends at\",\n              }}\n              defaultDate={\n                recurrenceDates?.ends_at\n                  ? moment(recurrenceDates.ends_at).toDate()\n                  : undefined\n              }\n              onChange={(date) =>\n                setRecurrenceDates((prev) => ({\n                  ...prev,\n                  ends_at: moment(date).format(\"YYYY-MM-DD HH:mm:ss\"),\n                }))\n              }\n            />\n          </>\n        )}\n      </TitleEl>\n      <div className='flex flex-row justify-end gap-x-2'>\n        <CotopiaButton\n          variant={\"outline\"}\n          className='min-w-[120px]'\n          onClick={onClose}\n        >\n          Close\n        </CotopiaButton>\n        {isEdit && (\n          <DeleteEvent\n            eventId={defaultId}\n            onDelete={() => onDelete && onDelete()}\n          />\n        )}\n        <CotopiaButton\n          onClick={handleSubmitEvent}\n          startIcon={<Save size={16} />}\n          className='min-w-[160px]'\n          loading={isLoading}\n          disabled={daysValue === undefined}\n        >\n          {`${isEdit ? \"Update\" : \"Create\"} Event`}\n        </CotopiaButton>\n      </div>\n    </div>\n  );\n}\n","import CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport CotopiaTooltip from \"@/components/shared-ui/c-tooltip\";\nimport { FullModalBox } from \"@/components/shared/modal-box\";\nimport { AvailabiltyType, ScheduleType } from \"@/types/calendar\";\nimport { Edit } from \"lucide-react\";\nimport AddScheduleContent, {\n  ScheduleDayType,\n} from \"../../../add-schedule/content\";\nimport { useMemo } from \"react\";\n\ntype Props = {\n  schedule: ScheduleType;\n  onDelete?: () => void;\n};\nexport default function EditButton({ schedule, onDelete }: Props) {\n  const defaultValue = useMemo(() => {\n    const finalDays: { [key: number]: ScheduleDayType } = {};\n\n    for (let item of schedule.days) {\n      finalDays[item.day] = {\n        availability_type: schedule.availability_type,\n        index: item.day,\n        selected: true,\n        times: item?.times?.map((x) => ({ from: x.start, to: x.end })) ?? [],\n      };\n    }\n\n    return {\n      availability_type: schedule.availability_type,\n      days: finalDays,\n      is_recurrence: schedule.is_recurrence === 1,\n      recurrence_start: schedule.recurrence_start_at ?? undefined,\n      recurrence_end: schedule.recurrence_end_at ?? undefined,\n    };\n  }, [schedule]);\n\n  return (\n    <FullModalBox\n      trigger={(open) => (\n        <CotopiaTooltip title='Edit schedule'>\n          <CotopiaIconButton\n            onClick={open}\n            className='text-black/60 hover:text-black w-8 h-8'\n          >\n            <Edit size={12} />\n          </CotopiaIconButton>\n        </CotopiaTooltip>\n      )}\n      className='w-[640px]'\n    >\n      {(open, close) => (\n        <AddScheduleContent\n          onClose={close}\n          defaultId={schedule.id}\n          defaultValue={defaultValue}\n          onDelete={() => {\n            if (onDelete) onDelete();\n            close();\n          }}\n        />\n      )}\n    </FullModalBox>\n  );\n}\n","import { getDay } from \"@/lib/utils\";\nimport { ScheduleType } from \"@/types/calendar\";\nimport { useMemo } from \"react\";\n\ntype Props = {\n  selectedDay: number;\n  item: ScheduleType;\n};\nexport default function ScheduleOverview({ selectedDay, item }: Props) {\n  const currentDay = item.days.filter((x) => x.day === selectedDay);\n\n  const labelOutput = useMemo(() => {\n    let output = `${getDay(selectedDay)}`;\n\n    if (currentDay.length > 0) {\n      output += ` : `;\n\n      for (let day of currentDay) {\n        let index = 0;\n        for (let time of day.times) {\n          output += ` ${time.start} - ${time.end}`;\n          if (index < day.times.length - 1) output += `, `;\n          index++;\n        }\n      }\n    }\n\n    return output;\n  }, [selectedDay, currentDay, item]);\n\n  if (currentDay.length === 0) return null;\n\n  return (\n    <div className='flex flex-row items-center text-xs'>{labelOutput}</div>\n  );\n}\n","import { AvailabiltyType, ScheduleType } from \"@/types/calendar\";\nimport Days from \"./days\";\nimport CotopiaTooltip from \"@/components/shared-ui/c-tooltip\";\nimport { Mic, Pencil, Repeat, Video } from \"lucide-react\";\nimport EditButton from \"./edit\";\nimport ScheduleOverview from \"@/components/shared/shedule-overview\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport moment from \"moment\";\n\ntype Props = {\n  schedule: ScheduleType;\n  onDelete?: () => void;\n  justView?: boolean;\n};\n\nlet icons = {\n  [AvailabiltyType.Text]: <Pencil size={12} />,\n  [AvailabiltyType.Video]: <Video size={12} />,\n  [AvailabiltyType.Voice]: <Mic size={12} />,\n};\n\nexport default function ScheduleItem({ schedule, onDelete, justView }: Props) {\n  const today = moment();\n  const todayDay = today.day();\n\n  const [selectedDay, setSelectedDay] = useState<number>();\n  const handleSelect = useCallback((item: number) => setSelectedDay(item), []);\n  const handleDeSelect = useCallback(\n    (item: number) => setSelectedDay(todayDay),\n    [todayDay]\n  );\n\n  useEffect(() => {\n    for (let scheduleDays of schedule.days) {\n      if (todayDay === scheduleDays.day) {\n        setSelectedDay(todayDay);\n        break;\n      }\n    }\n  }, [schedule, todayDay]);\n\n  return (\n    <div className='flex flex-col gap-y-4 items-start w-full p-4 border rounded-md shadow-md'>\n      <div className='flex flex-row justify-between items-center w-full'>\n        <CotopiaTooltip\n          title={`Available with ${\n            AvailabiltyType[schedule.availability_type]\n          }`}\n        >\n          <strong className='italic text-xs text-black/60 flex flex-row items-center gap-x-1'>\n            {`${schedule.timezone}`}\n            {icons[schedule.availability_type]}\n          </strong>\n        </CotopiaTooltip>\n        <div className='flex flex-row items-center gap-x-2'>\n          {!!!justView && (\n            <EditButton schedule={schedule} onDelete={onDelete} />\n          )}\n          {!!schedule.is_recurrence && (\n            <CotopiaTooltip title='Recurrence'>\n              <Repeat size={12} className='text-black/60' />\n            </CotopiaTooltip>\n          )}\n        </div>\n      </div>\n      <Days\n        schedule={schedule}\n        handleDeSelect={handleDeSelect}\n        handleSelect={handleSelect}\n        selectedDay={selectedDay}\n      />\n      <div className='min-h-[24px]'>\n        {selectedDay !== undefined && (\n          <ScheduleOverview item={schedule} selectedDay={selectedDay} />\n        )}\n      </div>\n    </div>\n  );\n}\n","import { ScheduleType } from \"@/types/calendar\";\nimport ScheduleItem from \"../room/tools/top-left/schedule-button/shapes/handler/schedule-item\";\nimport NotFound from \"../layouts/not-found\";\n\ntype Props = {\n  items: ScheduleType[];\n  onDelete?: () => void;\n  justView?: boolean;\n};\nexport default function Schedules({ items, onDelete, justView = true }: Props) {\n  if (items.length === 0)\n    return (\n      <NotFound\n        title='There is no schedule for this user yet!'\n        className='py-6'\n      />\n    );\n\n  return (\n    <div className='mb-6 flex flex-col gap-y-2'>\n      {items.map((x) => (\n        <ScheduleItem\n          schedule={x}\n          key={x.id}\n          onDelete={onDelete}\n          justView={justView}\n        />\n      ))}\n    </div>\n  );\n}\n","import React, { ReactNode } from \"react\";\nimport CotopiaIconButton from \"../shared-ui/c-icon-button\";\nimport { CircleMinus } from \"lucide-react\";\n\ntype Props = {\n  title: string;\n  children: ReactNode;\n  onClose?: () => void;\n  className?: string;\n};\nexport default function BoxHolder({\n  title,\n  children,\n  onClose,\n  className,\n}: Props) {\n  return (\n    <div className={`flex flex-col gap-y-2 ${className ?? \"\"}`}>\n      <div className='flex flex-row items-center justify-between'>\n        <strong>{title}</strong>\n        {!!onClose && (\n          <CotopiaIconButton\n            onClick={onClose}\n            className='text-yellow-600 !w-[14px] !h-[14px] !px-1'\n          >\n            <CircleMinus size={14} />\n          </CotopiaIconButton>\n        )}\n      </div>\n      <hr />\n      <div>{children}</div>\n    </div>\n  );\n}\n","import { useApi } from \"@/hooks/swr\";\nimport { useMemo } from \"react\";\nimport { useUserDetail } from \"..\";\nimport { ScheduleType } from \"@/types/calendar\";\nimport FullLoading from \"@/components/shared/full-loading\";\nimport Schedules from \"@/components/shared/schedules\";\nimport { capitalizeWords, estimateTotalHoursBySchedules } from \"@/lib/utils\";\nimport BoxHolder from \"@/components/shared/box-holder\";\n\ntype Props = {\n  justView?: boolean;\n};\n\nexport default function SchedulesList({ justView = true }: Props) {\n  const { user } = useUserDetail();\n\n  const { data, isLoading } = useApi(`/users/${user?.id}/schedules`);\n  const schedules: ScheduleType[] = data !== undefined ? data?.data : [];\n\n  const totalHours = useMemo(() => {\n    return estimateTotalHoursBySchedules(schedules);\n  }, [schedules]);\n\n  if (data === undefined || isLoading) return <FullLoading />;\n\n  return (\n    <>\n      <BoxHolder\n        title={`${capitalizeWords(\n          user?.username ?? \"\"\n        )}'s schedules (${totalHours}h) per week`}\n        onClose={() => {}}\n      >\n        <Schedules items={schedules} justView={justView} />\n      </BoxHolder>\n    </>\n  );\n}\n","import CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport CotopiaTooltip from \"@/components/shared-ui/c-tooltip\";\nimport { Calendar } from \"lucide-react\";\nimport React from \"react\";\nimport { useUserDetail } from \"..\";\nimport { capitalizeWords } from \"@/lib/utils\";\nimport ModalBox from \"@/components/shared/modal-box\";\nimport SchedulesList from \"./list\";\n\nexport default function UserSchedules() {\n  const { user } = useUserDetail();\n\n  let userLabel = user?.name;\n\n  if (!!!userLabel) userLabel = user?.username;\n\n  if (userLabel) userLabel = capitalizeWords(userLabel);\n\n  const boxLabel = `${userLabel}'s schedules`;\n\n  return (\n    <ModalBox\n      hasClose={false}\n      trigger={(open) => (\n        <CotopiaTooltip title={boxLabel}>\n          <CotopiaIconButton\n            onClick={open}\n            size={\"icon\"}\n            className='text-black w-6 h-6'\n          >\n            <Calendar size={16} />\n          </CotopiaIconButton>\n        </CotopiaTooltip>\n      )}\n      className='w-[424px]'\n    >\n      {(open, close) => {\n        return <SchedulesList justView />;\n      }}\n    </ModalBox>\n  );\n}\n","import CotopiaTooltip from \"@/components/shared-ui/c-tooltip\";\nimport { Laugh } from \"lucide-react\";\nimport React from \"react\";\n\nexport default function UserMood() {\n  return (\n    <CotopiaTooltip title='Happy!'>\n      <Laugh size={16} />\n    </CotopiaTooltip>\n  );\n}\n","\"use client\";\nimport CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport CotopiaTooltip from \"@/components/shared-ui/c-tooltip\";\nimport { LocateFixed } from \"lucide-react\";\nimport { useStoreApi, useReactFlow } from \"@xyflow/react\";\nimport { useUserDetail } from \".\";\nimport { useCallback } from \"react\";\nimport { useRoomContext } from \"../../room-context\";\nimport { useSocket } from \"@/routes/private-wrarpper\";\nimport useAuth from \"@/hooks/auth\";\nimport { VARZ } from \"@/const/varz\";\nimport { dispatch } from \"use-bus\";\nimport { __BUS } from \"@/const/bus\";\n\ninterface Props {}\n\nconst getAroundPoints = (r: number, margin: number) => {\n  //get the random angle between 0 and 2Pi (360deg)\n  const angle = Math.random() * 2 * Math.PI;\n  //calc distance from center of circle\n  const distance = r + margin;\n  //clac the distance from the center with the sin cos ratio in the x and y axis\n\n  const xPosition = Math.cos(angle);\n  const yPosition = Math.sin(angle);\n\n  let x = distance * xPosition;\n  let y = distance * yPosition;\n  if (xPosition < 0) {\n    x -= margin;\n  } else {\n    x += margin;\n  }\n  if (yPosition < 0) {\n    y -= margin;\n  } else {\n    y += margin;\n  }\n\n  return { x, y };\n};\n\nconst UserNavigate = (props: Props) => {\n  const socket = useSocket();\n\n  const { user } = useUserDetail();\n  const { user: myAccount } = useAuth();\n\n  const { room } = useRoomContext();\n  const rf = useReactFlow();\n\n  const nodes = rf.getNodes();\n\n  const navOnUserHandler = useCallback(() => {\n    if (!user || !socket || !myAccount) return;\n    const targetUser = nodes.find((n) => n.id === user.username);\n\n    const jailNode = nodes.find((n) => n.type === VARZ.jailNodeType);\n    const bgNode = nodes.find((n) => n.type === VARZ.backgroundNodeType);\n\n    const bgNodeWidth = bgNode?.measured?.width ?? 0;\n    const jailNodeWidth = jailNode?.measured?.width ?? 0;\n\n    const bgNodeHeight = bgNode?.measured?.height ?? 0;\n    const jailNodeHeight = jailNode?.measured?.height ?? 0;\n\n    const wDiff = (bgNodeWidth - jailNodeWidth) * 1.5;\n    const hDiff = (bgNodeHeight - jailNodeHeight) / 1.5;\n\n    const h = targetUser?.measured?.height;\n    const w = targetUser?.measured?.width;\n    const xdimension = targetUser?.position.x;\n    const ydimension = targetUser?.position.y;\n\n    if (h && w && xdimension && ydimension) {\n      const radius = w / 2;\n\n      const x = xdimension + radius;\n      const y = ydimension + radius;\n      const zoom = 1.5;\n\n      rf.setCenter(x - wDiff, y - hDiff, { zoom, duration: 1000 });\n\n      //calc radius of target user participant\n      const { x: aroundX, y: aroundY } = getAroundPoints(\n        radius,\n        VARZ.teleportMargin\n      );\n      let finalXCordinate = xdimension + aroundX;\n      let finalYCordinate = ydimension + aroundY;\n\n      const newCoords = `${finalXCordinate},${finalYCordinate}`;\n\n      const sendingObject = {\n        room_id: room?.id,\n        coordinates: newCoords,\n        username: myAccount.username,\n      };\n      socket.emit(\"updateCoordinates\", sendingObject);\n      dispatch({\n        type: __BUS.changeMyUserCoord,\n        data: {\n          ...myAccount,\n          coordinates: newCoords,\n        },\n      });\n    }\n  }, [user, nodes, myAccount?.username]);\n\n  return (\n    <CotopiaTooltip title='User navigate'>\n      <CotopiaIconButton\n        onClick={navOnUserHandler}\n        size={\"icon\"}\n        className='text-black w-6 h-6'\n      >\n        <LocateFixed size={16} />\n      </CotopiaIconButton>\n    </CotopiaTooltip>\n  );\n};\n\nexport default UserNavigate;\n","import CotopiaAvatar from \"@/components/shared-ui/c-avatar\";\nimport UserSchedules from \"./schedules\";\nimport { useUserDetail } from \".\";\nimport UserMood from \"./mood\";\nimport UserNavigate from \"./navigate\";\nimport { useRoomContext } from \"../../room-context\";\nimport useAuth from \"@/hooks/auth\";\n\nexport default function UserCover() {\n  const { user, roomId } = useUserDetail();\n\n  const { user: myAccount } = useAuth();\n\n  const { room_id: currentRoomId } = useRoomContext();\n\n  const inCurrentRoom = roomId === currentRoomId;\n\n  const isMineAccount = myAccount?.id === user?.id;\n\n  return (\n    <div className='relative pb-[40px]'>\n      <div className='h-[80px] bg-black/70 w-full'></div>\n      <CotopiaAvatar\n        src={user?.avatar?.url}\n        className='absolute w-[80px] h-[80px] bottom-0 left-4 border-4 border-white'\n      />\n      <div className='absolute bottom-2 right-2 flex flex-row items-center gap-x-2'>\n        {inCurrentRoom && !isMineAccount && <UserNavigate />}\n        <UserMood />\n        <UserSchedules />\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useUserDetail } from \".\";\nimport moment from \"moment\";\n\nexport default function UserDate() {\n  const { user } = useUserDetail();\n\n  const createdAt = moment();\n\n  return (\n    <span className='text-[8px] font-light text-black/50'>{`Since ${createdAt.format(\n      \"YYYY\"\n    )}`}</span>\n  );\n}\n","import { UserMinimalType, WorkspaceUserType } from \"@/types/user\";\nimport UserCover from \"./cover\";\nimport { createContext, useContext } from \"react\";\nimport UserDate from \"./user-date\";\n\ntype Props = {\n  user: UserMinimalType | WorkspaceUserType;\n  roomId?: number;\n};\n\nconst UserDetailContext = createContext<{\n  user?: UserMinimalType | WorkspaceUserType;\n  roomId?: number | undefined;\n}>({\n  user: undefined,\n  roomId: undefined,\n});\nexport const useUserDetail = () => useContext(UserDetailContext);\n\nexport default function Details({ user, roomId }: Props) {\n  return (\n    <UserDetailContext.Provider value={{ user, roomId }}>\n      <div className='w-full max-w-full flex flex-col select-none'>\n        <UserCover />\n        <div className='p-4 pt-0 flex flex-col gap-y-2'>\n          <div className='flex flex-col'>\n            <strong data-testid='username-detail-card' className='capitalize'>\n              {user.name}\n            </strong>\n            <div className='flex flex-row items-center justify-between'>\n              <span className='text-xs font-light'>{user.username}</span>\n              <UserDate />\n            </div>\n          </div>\n          {/* <SendingDirect /> */}\n        </div>\n      </div>\n    </UserDetailContext.Provider>\n  );\n}\n","import { UserMinimalType, WorkspaceUserType } from \"@/types/user\";\nimport { ReactNode } from \"react\";\nimport CotopiaPopover from \"@/components/shared-ui/c-popover\";\nimport Details from \"./details\";\n\ntype Props = {\n  user: UserMinimalType | WorkspaceUserType;\n  children: ReactNode;\n  roomId?: number;\n};\nexport default function ParticipantDetails({ user, roomId, children }: Props) {\n  return (\n    <CotopiaPopover\n      trigger={children}\n      contentClassName='p-0 overflow-hidden border-0 m-0 shadow-md'\n    >\n      <Details roomId={roomId} user={user} />\n    </CotopiaPopover>\n  );\n}\n","import CotopiaAvatar from \"@/components/shared-ui/c-avatar\";\nimport ParticipantDetails from \"@/components/shared/room/participant-detail\";\nimport { capitalizeWords } from \"@/lib/utils\";\nimport { Chat2ItemType } from \"@/types/chat2\";\nimport { UserType } from \"@/types/user\";\nimport { useChatItem } from \".\";\n\ntype Props = {\n  chat: Chat2ItemType;\n};\nexport default function ChatUserOverView({ chat }: Props) {\n  const { getUser } = useChatItem();\n\n  const user = getUser(chat.user);\n\n  if (!user) return null;\n\n  return (\n    <ParticipantDetails user={user}>\n      <CotopiaAvatar\n        className='w-9 h-9'\n        src={user?.avatar?.url}\n        title={capitalizeWords(user.username)?.[0] ?? \"\"}\n      />\n    </ParticipantDetails>\n  );\n}\n","import { Chat2ItemType } from \"@/types/chat2\";\nimport moment from \"moment\";\n\ntype Props = {\n  chat: Chat2ItemType;\n};\nexport default function ChatDate({ chat }: Props) {\n  return (\n    <div className='felx flex-col items-end w-full text-right'>\n      <span className='text-xs text-black/60'>\n        {moment(chat.nonce_id).format(\"HH:mm\")}\n      </span>\n    </div>\n  );\n}\n","import { Chat2ItemType } from \"@/types/chat2\";\nimport ChatDate from \"./date\";\nimport { useChatItem } from \"..\";\nimport Linkify from \"linkify-react\";\nimport useAuth from \"@/hooks/auth\";\n\ntype Props = {\n  chat: Chat2ItemType;\n};\nexport default function ChatItemContent({ chat }: Props) {\n  const { user: myAccount } = useAuth();\n\n  const { getUser } = useChatItem();\n\n  const user = getUser(chat.user);\n\n  const isMyUser = myAccount?.id === user?.id;\n\n  const linkElement = (\n    attributes: { [attr: string]: any },\n    content: string,\n    type: \"mention\" | \"link\"\n  ) => {\n    let clss = \"text-blue-600 whitespace-pre-wrap\";\n    if (type === \"link\") {\n      clss += \" hover:underline\";\n    }\n\n    let view = content;\n\n    return (\n      <a\n        className={clss}\n        style={{\n          overflowWrap: \"break-word\",\n        }}\n        target={type === \"link\" ? \"_blank\" : \"_self\"}\n        {...attributes}\n      >\n        {view}\n      </a>\n    );\n  };\n\n  return (\n    <div className='flex flex-1 flex-col bg-black/5 rounded-xl rounded-bl-none p-2 max-w-full w-full'>\n      {!!!isMyUser && <strong>{user?.name}</strong>}\n      <p\n        className='text-wrap mb-3 w-full'\n        dir='auto'\n        style={{\n          overflowWrap: \"break-word\",\n          wordBreak: \"break-word\",\n          whiteSpace: \"normal\",\n        }}\n      >\n        {chat.text.split(\"\\n\").map((line: string, index) => (\n          <Linkify\n            options={{\n              nl2br: true,\n              render: {\n                url: ({ attributes, content }) =>\n                  linkElement(attributes, content, \"link\"),\n                mention: ({ attributes, content }) =>\n                  linkElement(attributes, content, \"mention\"),\n              },\n              formatHref: {\n                mention: () => \"#\",\n              },\n            }}\n          >\n            <span key={index}>\n              {line}\n              <br />\n            </span>\n          </Linkify>\n        ))}\n      </p>\n      <ChatDate chat={chat} />\n    </div>\n  );\n}\n","import { Chat2ItemType } from \"@/types/chat2\";\nimport ChatUserOverView from \"./user-overview\";\nimport ChatItemContent from \"./content\";\nimport { UserMinimalType } from \"@/types/user\";\nimport { createContext, useContext, useEffect, useRef, useState } from \"react\";\nimport { useChat2 } from \"@/hooks/chat/use-chat-2\";\n\ntype Props = {\n  item: Chat2ItemType;\n  getUser: (user_id: number) => UserMinimalType | undefined;\n  isMine?: boolean;\n};\n\nconst ChatItemContext = createContext<{\n  getUser: (user_id: number) => UserMinimalType | undefined;\n}>({ getUser: (user_id) => undefined });\n\nexport const useChatItem = () => useContext(ChatItemContext);\n\nexport default function ChatItem({ item, getUser, isMine }: Props) {\n  const { seen } = useChat2();\n\n  const divRef = useRef<HTMLDivElement>(null);\n\n  const [isVisible, setIsVisible] = useState(false);\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        setIsVisible(entry.isIntersecting);\n      },\n      { threshold: 0.5 } // Trigger when 50% of the element is visible\n    );\n\n    if (divRef.current) {\n      observer.observe(divRef.current);\n    }\n\n    return () => {\n      if (divRef.current) {\n        observer.unobserve(divRef.current);\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    //Should remove item.nonce_id !== 0 in the feuture (just for legacy messages)\n    if (isVisible && item?.seen === false && item.nonce_id !== 0 && !isMine) {\n      seen(item);\n    }\n  }, [item, isVisible, isMine, seen]);\n\n  return (\n    <ChatItemContext.Provider value={{ getUser }}>\n      <div\n        ref={divRef}\n        className={`message-item p-2 flex flex-row items-end gap-x-2`}\n      >\n        <ChatUserOverView chat={item} />\n        <ChatItemContent chat={item} />\n      </div>\n    </ChatItemContext.Provider>\n  );\n}\n","import React from \"react\";\nimport FullLoading from \"../../full-loading\";\n\nexport default function FetchingProgress() {\n  return (\n    <div className='absolute top-0 flex items-center justify-center right-0 left-0'>\n      <FullLoading />\n    </div>\n  );\n}\n","import CBadge from \"@/components/shared-ui/c-badge\";\nimport CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport { __BUS } from \"@/const/bus\";\nimport { useAppDispatch } from \"@/store\";\nimport { seenAllMessages } from \"@/store/slices/chat-slice\";\nimport { Chat2ItemType } from \"@/types/chat2\";\nimport { ChevronDown } from \"lucide-react\";\nimport { dispatch as busDispatch } from \"use-bus\";\n\ntype Props = {\n  items: Chat2ItemType[];\n};\nexport default function UnSeenHandlers({ items }: Props) {\n  const dispatch = useAppDispatch();\n\n  const chat_id = items?.[0]?.chat_id;\n\n  const unSeenCount = items.filter((x) => x.seen === false).length;\n\n  const handleReachMessages = () => {\n    if (chat_id) {\n      dispatch(seenAllMessages({ chat_id }));\n      busDispatch(__BUS.scrollEndChatBox);\n    }\n  };\n\n  if (unSeenCount === 0) return null;\n\n  return (\n    <CotopiaIconButton\n      onClick={handleReachMessages}\n      className='absolute bottom-4 right-4'\n    >\n      <CBadge\n        size='large'\n        count={unSeenCount}\n        className='absolute top-[-28px] left-[50%] translate-x-[-50%]'\n      />\n      <ChevronDown className='text-black/60' />\n    </CotopiaIconButton>\n  );\n}\n","import ChatItem from \"./item\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { useVirtualizer, Virtualizer } from \"@tanstack/react-virtual\";\nimport { Chat2ItemType } from \"@/types/chat2\";\nimport FetchingProgress from \"./fetching-progress\";\nimport { UserMinimalType } from \"@/types/user\";\nimport useBus from \"use-bus\";\nimport UnSeenHandlers from \"./un-seen-handlers\";\nimport useAuth from \"@/hooks/auth\";\nimport { __BUS } from \"@/const/bus\";\n\ntype Props = {\n  items: Chat2ItemType[];\n  onFetchNewMessages?: () => Promise<void>;\n  marginFetching?: number;\n  getUser: (user_id: number) => UserMinimalType | undefined;\n  onGetVirtualizer?: (vir: Virtualizer<HTMLDivElement, Element>) => void;\n};\n\nexport default function Items({\n  items,\n  marginFetching = 1000,\n  onFetchNewMessages,\n  getUser,\n  onGetVirtualizer,\n}: Props) {\n  const { user: profile } = useAuth();\n\n  const isScrollToTop = useRef(true);\n  const parentRef = useRef<HTMLDivElement>(null);\n\n  const latestMessage = useRef<Chat2ItemType>();\n\n  const [isFetching, setIsFetching] = useState(false);\n\n  const messages = [...items].reverse();\n\n  // Virtualizer setup\n  const rowVirtualizer = useVirtualizer({\n    count: messages.length,\n    getScrollElement: () => parentRef.current,\n    estimateSize: () => 100, // Estimated height of each message\n    measureElement: (el) => el.getBoundingClientRect().height,\n  });\n\n  useBus(\n    __BUS.scrollEndChatBox,\n    () => {\n      if (items.length === 0) return;\n\n      // Scroll to the latest message when a new message is added\n      rowVirtualizer.scrollToIndex(items.length, {\n        align: \"end\",\n        behavior: \"smooth\",\n      });\n    },\n    [items.length, rowVirtualizer]\n  );\n\n  useEffect(() => {\n    if (!rowVirtualizer) return;\n\n    if (onGetVirtualizer) onGetVirtualizer(rowVirtualizer);\n  }, [onGetVirtualizer, rowVirtualizer]);\n\n  useEffect(() => {\n    if (isScrollToTop.current === false) return;\n\n    if (items.length === 0) return;\n\n    rowVirtualizer.scrollToIndex(items.length, {\n      align: \"end\",\n    });\n\n    isScrollToTop.current = false;\n  }, [items.length, rowVirtualizer]);\n\n  // Detect scroll position to fire the onFetchNewMessages event\n  useEffect(() => {\n    const handleScroll = async () => {\n      const scrollTop = parentRef.current?.scrollTop || 0;\n\n      // Trigger fetching if the user is within 1000px from the top and not already fetching\n      if (scrollTop <= marginFetching && !isFetching && onFetchNewMessages) {\n        setIsFetching(true); // Set fetching status\n        try {\n          latestMessage.current = items[items.length - 1];\n          await onFetchNewMessages(); // Fetch new messages\n        } finally {\n          setTimeout(() => {\n            setIsFetching(false);\n          }, 2000);\n        }\n      }\n    };\n\n    const scrollElement = parentRef.current;\n    if (scrollElement) {\n      scrollElement.addEventListener(\"scroll\", handleScroll);\n    }\n\n    return () => {\n      if (scrollElement) {\n        scrollElement.removeEventListener(\"scroll\", handleScroll);\n      }\n    };\n  }, [onFetchNewMessages, isFetching, marginFetching, rowVirtualizer]);\n\n  useEffect(() => {\n    if (!!!latestMessage.current) return;\n\n    const itemIndex = items.findIndex(\n      (x) => x.id === latestMessage.current?.id\n    );\n\n    if (itemIndex === -1) return;\n\n    rowVirtualizer.scrollToIndex(items.length - (itemIndex + 1), {\n      align: \"start\",\n    });\n\n    setIsFetching(false);\n  }, [items.length, rowVirtualizer]);\n\n  return (\n    <div className='flex-grow relative'>\n      <div\n        ref={parentRef}\n        className='relative flex-grow overflow-y-auto mb-4 space-y-2'\n        style={{ contain: \"strict\", height: \"100%\" }}\n      >\n        {!!isFetching && <FetchingProgress />}\n        <div\n          style={{\n            height: `${rowVirtualizer.getTotalSize()}px`,\n            position: \"relative\",\n          }}\n        >\n          {rowVirtualizer.getVirtualItems().map((virtualRow) => {\n            const message = messages[virtualRow.index];\n            return (\n              <div\n                data-index={virtualRow.index}\n                key={message.id}\n                ref={rowVirtualizer.measureElement}\n                style={{\n                  position: \"absolute\",\n                  top: `${virtualRow.start}px`,\n                  left: 0,\n                  width: \"100%\",\n                }}\n              >\n                <ChatItem\n                  item={message}\n                  key={message.nonce_id}\n                  getUser={getUser}\n                  isMine={message?.user === profile?.id}\n                />\n              </div>\n            );\n          })}\n        </div>\n      </div>\n      <UnSeenHandlers items={items} />\n    </div>\n  );\n}\n","import CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport CotopiaPopover from \"@/components/shared-ui/c-popover\";\nimport { Smile } from \"lucide-react\";\nimport EmojiPicker from \"emoji-picker-react\";\n\ntype Props = {\n  onPick: (emoji: string) => void;\n};\n\nexport default function EmojiHandlerButton({ onPick }: Props) {\n  return (\n    <CotopiaPopover\n      align='end'\n      trigger={\n        <CotopiaIconButton type='button' className='text-black/60'>\n          <Smile />\n        </CotopiaIconButton>\n      }\n      contentClassName='!p-0 !border-0'\n    >\n      <EmojiPicker onEmojiClick={(emoji) => onPick(emoji.emoji)} />\n    </CotopiaPopover>\n  );\n}\n","import CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport { Mic } from \"lucide-react\";\nimport React from \"react\";\n\nexport default function MicButtonHandler() {\n  return (\n    <CotopiaIconButton type='button' className='text-black/60'>\n      <Mic />\n    </CotopiaIconButton>\n  );\n}\n","import CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport { SendHorizonal } from \"lucide-react\";\n\ntype Props = {};\n\nexport default function TextButtonHandler() {\n  return (\n    <CotopiaIconButton type='submit' className='text-black/80'>\n      <SendHorizonal />\n    </CotopiaIconButton>\n  );\n}\n","import MicButtonHandler from \"./mic\";\nimport TextButtonHandler from \"./text\";\n\ntype Props = {\n  text: string;\n};\nexport default function SendHandlerButton({ text }: Props) {\n  let content = <MicButtonHandler />;\n\n  if (text) content = <TextButtonHandler />;\n\n  return <>{content}</>;\n}\n","import React, { useState, useRef, useEffect } from \"react\";\n\ntype Props = {\n  onChange: (value: string) => void;\n  onSend: (value: string) => void;\n  defaultValue?: string;\n};\n\nconst MultilineTextarea: React.FC<Props> = ({\n  defaultValue,\n  onChange,\n  onSend,\n}) => {\n  const [text, setText] = useState<string>(\"\");\n  useEffect(() => {\n    if (defaultValue !== undefined) setText(defaultValue);\n  }, [defaultValue]);\n  const textareaRef = useRef<HTMLTextAreaElement | null>(null);\n\n  useEffect(() => {\n    // Adjust the height of the textarea dynamically based on its content\n    if (textareaRef.current) {\n      textareaRef.current.style.height = \"auto\"; // Reset the height first\n      textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`; // Adjust height based on scroll height\n    }\n  }, [text]);\n\n  const handleKeyDown = (event: React.KeyboardEvent<HTMLTextAreaElement>) => {\n    if (event.key === \"Enter\" && !event.shiftKey) {\n      event.preventDefault(); // Prevent new line on Enter without Shift\n      if (onSend) onSend(text);\n      setText(\"\");\n    }\n  };\n\n  return (\n    <textarea\n      ref={textareaRef}\n      value={text}\n      onChange={(e) => {\n        const value = e.target.value;\n        setText(value);\n        onChange(value);\n      }}\n      onKeyDown={handleKeyDown}\n      placeholder='Type your message here...'\n      rows={1} // Start with one line by default\n      className='outline-none w-full min-h-[32px] overflow-y-auto max-h-[200px] text-sm'\n      style={{ resize: \"none\" }}\n    />\n  );\n};\n\nexport default MultilineTextarea;\n","import React, {\n  FormEvent,\n  FormEventHandler,\n  useCallback,\n  useState,\n} from \"react\";\nimport EmojiHandlerButton from \"./emoji\";\nimport SendHandlerButton from \"./send\";\nimport MultilineTextarea from \"./textarea\";\n\ntype ChatInputProps = {\n  addMessage: (message: string) => void;\n};\n\nconst ChatInput: React.FC<ChatInputProps> = ({ addMessage }) => {\n  const [inputValue, setInputValue] = useState(\"\");\n\n  const handleAddMessage = useCallback((value: string) => {\n    setInputValue(\"\");\n    addMessage(value.trim());\n  }, []);\n\n  const handleSend = (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (inputValue.trim()) {\n      handleAddMessage(inputValue.trim());\n    }\n  };\n\n  const handleAddEmoji = useCallback(\n    (emoji: string) => setInputValue((prev) => `${prev}${emoji}`),\n    []\n  );\n\n  return (\n    <form\n      onSubmit={handleSend}\n      className='flex items-end space-x-2 border border-black/10 rounded-lg p-2 bg-white'\n    >\n      <MultilineTextarea\n        defaultValue={inputValue}\n        onChange={setInputValue}\n        onSend={handleAddMessage}\n      />\n      <div className='flex flex-row items-center'>\n        <EmojiHandlerButton onPick={handleAddEmoji} />\n        <SendHandlerButton text={inputValue} />\n      </div>\n    </form>\n  );\n};\n\nexport default ChatInput;\n","import React, { RefObject } from \"react\";\nimport Items from \"./items\";\nimport ChatInput from \"./input\";\nimport { Chat2ItemType } from \"@/types/chat2\";\nimport { UserMinimalType } from \"@/types/user\";\nimport { Virtualizer } from \"@tanstack/react-virtual\";\n\ntype Props = {\n  items: Chat2ItemType[];\n  addMessage?: (text: string) => void;\n  onFetchNewMessages?: () => Promise<void>;\n  getUser: (user_id: number) => UserMinimalType | undefined;\n  onGetVirtualizer?: (vir: Virtualizer<HTMLDivElement, Element>) => void;\n};\n\nconst Chat2: React.FC<Props> = ({\n  items = [],\n  addMessage,\n  onFetchNewMessages,\n  getUser,\n  onGetVirtualizer,\n}) => {\n  return (\n    <div className='flex flex-col h-full bg-black/[.04] p-4'>\n      {/* Chat message list */}\n      <Items\n        items={items}\n        onFetchNewMessages={onFetchNewMessages}\n        marginFetching={300}\n        getUser={getUser}\n        onGetVirtualizer={onGetVirtualizer}\n      />\n      {/* Chat input */}\n      {addMessage !== undefined && <ChatInput addMessage={addMessage} />}\n    </div>\n  );\n};\n\nexport default Chat2;\n","import React, { useCallback, useEffect, useRef } from \"react\";\nimport { ChatType } from \"@/types/chat2\";\nimport BackHolder from \"./back\";\nimport ChatDetails from \"../details\";\nimport Chat2 from \"@/components/shared/chat-box-2\";\nimport { useChat2 } from \"@/hooks/chat/use-chat-2\";\nimport { UserMinimalType } from \"@/types/user\";\nimport { Virtualizer } from \"@tanstack/react-virtual\";\nimport FullLoading from \"@/components/shared/full-loading\";\nimport { useAppDispatch } from \"@/store\";\nimport { getChatMessages } from \"@/store/slices/chat-slice\";\n\ntype Props = {\n  chat: ChatType;\n  onBack: () => void;\n  getUser: (user_id: number) => UserMinimalType | undefined;\n};\n\nexport default function ChatInnerHolder({ chat, onBack, getUser }: Props) {\n  const chatRef = useRef<Virtualizer<HTMLDivElement, Element>>();\n\n  const { chatObjects, send, seen } = useChat2({ chat_id: chat.id });\n\n  const chatMessages = chatObjects?.[chat.id]?.messages ?? [];\n\n  const handleSendMessage = useCallback(\n    (text: string) => {\n      const message = send({ text });\n      seen(message);\n    },\n    [seen, send]\n  );\n\n  const dispatch = useAppDispatch();\n\n  useEffect(() => {\n    dispatch(getChatMessages({ chat_id: chat.id }));\n  }, [chat?.id]);\n\n  const { loading } = useChat2();\n\n  if (loading) return <FullLoading />;\n\n  return (\n    <div className='flex flex-col gap-y-2 w-full h-[calc(100vh-132px)]'>\n      <div className='flex flex-row items-center gap-x-2'>\n        <BackHolder onClick={onBack} />\n        <ChatDetails title={chat.title} />\n      </div>\n      <Chat2\n        items={chatMessages}\n        addMessage={handleSendMessage}\n        getUser={getUser}\n        onGetVirtualizer={(vir) => (chatRef.current = vir)}\n      />\n    </div>\n  );\n}\n","import { ChatType } from \"@/types/chat2\";\nimport { createContext, useContext } from \"react\";\nimport ChatPreview from \"./preview\";\nimport { useSlides } from \"../../slide-pusher\";\nimport ChatInnerHolder from \"./holder\";\nimport { UserMinimalType } from \"@/types/user\";\n\ntype Props = {\n  chat: ChatType;\n  getUser: (user_id: number) => UserMinimalType | undefined;\n};\n\n//@ts-ignore\nconst ChatContext = createContext<{ chat: ChatType }>({ chat: undefined });\n\nexport const useChat = () => useContext(ChatContext);\n\nexport default function Chat({ chat, getUser }: Props) {\n  const { push, back } = useSlides();\n\n  return (\n    <ChatContext.Provider value={{ chat }}>\n      <div\n        className='flex flex-row items-center gap-x-4 p-3 hover:bg-black/[.02] cursor-pointer relative'\n        onClick={() =>\n          push(<ChatInnerHolder onBack={back} chat={chat} getUser={getUser} />)\n        }\n      >\n        <ChatPreview />\n      </div>\n    </ChatContext.Provider>\n  );\n}\n","import { useRoomContext } from \"@/components/shared/room/room-context\";\nimport { useChat2 } from \"@/hooks/chat/use-chat-2\";\nimport { useCallback, useMemo } from \"react\";\nimport Chat from \"../../../chat\";\nimport FullLoading from \"@/components/shared/full-loading\";\n\nexport default function ChatsWrapper() {\n  const { workspace_id } = useRoomContext();\n\n  //@ts-ignore\n  const { chats, loading, participants } = useChat2({ workspace_id });\n\n  const loadUserByUserId = useCallback(\n    (user_id: number) => {\n      const user = participants.find((x) => x.id === user_id);\n\n      return user;\n    },\n    [participants]\n  );\n\n  const chatSortedByLastMessage = useMemo(() => {\n    return chats.sort(\n      (a, b) => b?.last_message?.nonce_id - a?.last_message?.nonce_id\n    );\n  }, [chats]);\n\n  let content = (\n    <div className='w-full chats-holder flex flex-col gap-y-0'>\n      {chatSortedByLastMessage.map((chat) => (\n        <Chat getUser={loadUserByUserId} chat={chat} key={chat?.id} />\n      ))}\n    </div>\n  );\n\n  if (loading) content = <FullLoading />;\n\n  return content;\n}\n","import AddChat from \"./add-chat\";\nimport SlidePusher from \"@/components/shared/slide-pusher\";\nimport { useChat2 } from \"@/hooks/chat/use-chat-2\";\nimport ChatsWrapper from \"./chats-wrapper\";\nimport { Chat2ItemType } from \"@/types/chat2\";\n//@ts-ignore\nimport { useSocket } from \"@/routes/private-wrarpper\";\n\ntype Props = {\n  workspace_id: number;\n};\nexport default function WorkspaceChats({ workspace_id }: Props) {\n  const { add, update } = useChat2({ workspace_id });\n\n  useSocket(\"messageReceived\", (data: Chat2ItemType) => {\n    add({ ...data, seen: false });\n  });\n\n  useSocket(\"messageUpdated\", (data: Chat2ItemType) => {\n    update(data);\n  });\n\n  let content = (\n    <>\n      <AddChat workspace_id={workspace_id} />\n      <SlidePusher>\n        <ChatsWrapper />\n      </SlidePusher>\n    </>\n  );\n\n  return <div className='flex flex-col gap-y-2'>{content}</div>;\n}\n","import React from \"react\";\nimport WorkspaceChats from \"@/components/shared/user-chats/shapes/workspace-chats\";\nimport { useRoomContext } from \"../../room-context\";\n\nexport default function UserChat() {\n  const { workspace_id } = useRoomContext();\n\n  if (!workspace_id) return null;\n\n  return (\n    <>\n      <WorkspaceChats workspace_id={+workspace_id} />\n    </>\n    // <CTabs\n    //   defaultValue='room'\n    //   onChangeTab={changeTabHandler}\n    //   className='w-full mt-4 [&_.tab-holder]:justify-center [&_.tab-content]:h-[calc(100vh-200px)]'\n    //   items={[\n    //     {\n    //       title: <TabRoomTitle />,\n    //       value: \"room\",\n    //       content: (\n    //         <ChatRoomCtxProvider\n    //           room_id={room_id}\n    //           environment={RoomEnvironmentType.room}\n    //         >\n    //           <UserChatRoom />\n    //         </ChatRoomCtxProvider>\n    //       ),\n    //     },\n    //     {\n    //       title: <DirectTabTitle />,\n    //       value: \"direct\",\n    //       content: <UserChatDirect />,\n    //     },\n    //     {\n    //       title: \"New Chat (Beta)\",\n    //       value: \"new-chat\",\n    //       content: <RoomChats room_id={room_id} />,\n    //     },\n    //   ]}\n    // />\n  );\n}\n","import { ReactNode } from \"react\";\nimport CotopiaAvatar from \"../shared-ui/c-avatar\";\nimport CotopiaTooltip from \"../shared-ui/c-tooltip\";\n\ntype Props = {\n  title: string;\n  toolTipTitle?: string;\n  src?: string;\n  className?: string;\n  wrapper?: React.ComponentType<any>;\n};\n\nexport default function UserAvatar({\n  title,\n  toolTipTitle,\n  src,\n  className = \"\",\n  wrapper: Wrapper, // Rename it for consistency\n}: Props) {\n  let content = (\n    <CotopiaTooltip\n      title={toolTipTitle ? toolTipTitle : title}\n      triggerClassName='flex'\n    >\n      <CotopiaAvatar\n        className={`min-w-8 min-h-8 ${className}`}\n        src={src}\n        title={title ? title?.[0] : undefined}\n      />\n    </CotopiaTooltip>\n  );\n\n  return Wrapper ? <Wrapper>{content}</Wrapper> : content;\n}\n","import { ReactNode } from \"react\"\nimport UserAvatar from \"../user-avatar\"\n\nexport type MinimalParticipantType = {\n  id: number\n  title: string\n  toolTipTitle?: string\n  wrapper?: React.ComponentType<any>\n  className?: string\n  src?: string\n}\n\ntype Props = {\n  items: MinimalParticipantType[]\n  render?: (item: MinimalParticipantType, content: ReactNode) => ReactNode\n}\n\nexport default function Avatars({ items, render }: Props) {\n  return (\n    <div className=\"flex flex-row gap-1 items-start flex-wrap\">\n      {items.map((item, key) => {\n        let content = <UserAvatar {...item} key={key} />\n        return render ? render(item, content) : content\n      })}\n    </div>\n  )\n}\n","import { UserMinimalType, WorkspaceUserType } from \"@/types/user\";\nimport Avatars, { MinimalParticipantType } from \"../avatars\";\nimport { ReactNode } from \"react\";\ntype ParticipantType = WorkspaceUserType | UserMinimalType;\n\nexport type ParticipantsProps = {\n  participants: ParticipantType[];\n  customTitle?: (user: ParticipantType) => string;\n  render?: (item: MinimalParticipantType, content: ReactNode) => ReactNode;\n  avatarClss?: string;\n  className?: string;\n};\n\nexport default function Participants({\n  participants,\n  customTitle,\n  render,\n  avatarClss,\n  className,\n}: ParticipantsProps) {\n  if (participants.length === 0) return null;\n\n  return (\n    <div className={`pb-4 ${className ?? \"\"}`}>\n      <Avatars\n        items={participants.map((x) => ({\n          id: x?.id,\n          src: x?.avatar?.url,\n          title: x?.name ?? \"\",\n          toolTipTitle: customTitle !== undefined ? customTitle(x) : undefined,\n          className: avatarClss,\n          render,\n        }))}\n        render={render}\n      />\n    </div>\n  );\n}\n","import { UserMinimalType } from \"@/types/user\"\nimport Participants, { ParticipantsProps } from \".\"\nimport ParticipantDetails from \"../room/participant-detail\"\n\ntype Props = ParticipantsProps & { roomId?: number }\nexport default function ParticipantsWithPopover(props: Props) {\n  const { participants, roomId, ...rest } = props\n\n  return (\n    <Participants\n      render={(item, content) => {\n        const user = participants.find((p) => item.id === p.id) as\n          | UserMinimalType\n          | undefined\n        if (user === undefined) {\n          return content\n        } else {\n          return (\n            <ParticipantDetails roomId={roomId} user={user}>\n              {content}\n            </ParticipantDetails>\n          )\n        }\n      }}\n      participants={participants}\n      {...rest}\n    />\n  )\n}\n","import TitleEl from \"@/components/shared/title-el\";\nimport React from \"react\";\nimport { useRoomContext } from \"../../../room-context\";\nimport ParticipantsWithPopover from \"@/components/shared/participants/with-popover\";\nexport default function OnlineUsers() {\n  const { leaderboard, workspace_id, usersHaveInProgressJobs } =\n    useRoomContext();\n\n  const usersHaveInProgressJobsId = usersHaveInProgressJobs.map((x) => x.id);\n  const onlineUsers = leaderboard.filter(\n    (x) =>\n      x.user.active === 1 &&\n      x.user.room_id !== null &&\n      x.user.workspace_id === +(workspace_id as string) &&\n      !usersHaveInProgressJobsId.includes(x.user.id)\n  );\n\n  const onlineUsersCount = onlineUsers.length;\n\n  return (\n    <TitleEl title={`Online (${onlineUsersCount})`}>\n      <ParticipantsWithPopover\n        className='!pb-0'\n        participants={onlineUsers.map((x) => x.user)}\n      />\n    </TitleEl>\n  );\n}\n","import { UserType } from \"@/types/user\";\nimport React, { useMemo } from \"react\";\nimport { useRoomContext } from \"../../../room-context\";\nimport * as emoji from \"node-emoji\";\nimport ParticipantsWithPopover from \"@/components/shared/participants/with-popover\";\n\ntype Props = {\n  user: UserType;\n};\n\nexport default function WorkingCard({ user }: Props) {\n  const { workspaceJobs } = useRoomContext();\n\n  const userJobs = useMemo(() => {\n    let jobs = [];\n\n    for (let job of workspaceJobs) {\n      const jobMembers = job.members ?? [];\n      const jobMemberIds = jobMembers.map((x) => x.id);\n\n      if (jobMemberIds.includes(user.id)) {\n        jobs.push(job);\n      }\n    }\n\n    return jobs.filter((x) => x.status === \"in_progress\");\n  }, [workspaceJobs]);\n\n  return (\n    <div className='flex flex-row gap-x-2 items-center'>\n      <ParticipantsWithPopover className='!pb-0' participants={[user]} />\n      <span className='text-sm capitalize'>\n        {userJobs.length > 0 &&\n          userJobs.map((x) => `${x.title} (${x.total_hours})`).join(\", \")}\n      </span>\n    </div>\n  );\n}\n","import TitleEl from \"@/components/shared/title-el\";\nimport { useRoomContext } from \"../../../room-context\";\nimport * as emoji from \"node-emoji\";\nimport WorkingCard from \"./card\";\n\nexport default function WorkingUsers() {\n  const { workingUsers } = useRoomContext();\n\n  return (\n    <TitleEl\n      title={`Working (${workingUsers.length}) ${emoji.get(\"sunglasses\")}`}\n    >\n      <div className='flex flex-col gap-y-2'>\n        {workingUsers.map((item) => (\n          <WorkingCard user={item} key={item.id} />\n        ))}\n      </div>\n    </TitleEl>\n  );\n}\n","import TitleEl from \"@/components/shared/title-el\"\nimport React from \"react\"\nimport { useRoomContext } from \"../../../room-context\"\nimport moment from \"moment\"\nimport { WorkspaceUserType } from \"@/types/user\"\nimport ParticipantsWithPopover from \"@/components/shared/participants/with-popover\"\nimport * as emoji from \"node-emoji\"\n\nexport default function OfflineUsers() {\n  const { workpaceUsers, leaderboard, room_id } = useRoomContext()\n\n  const onlines = leaderboard\n    ?.filter((x) => x.user.status === \"online\" && x.user.room_id !== null)\n    .map((x) => x.user.id)\n\n  const allOfflineParticipants = workpaceUsers\n    .filter((x) => !onlines.includes(x.id))\n    .filter((x) => x.last_login !== null)\n    .sort((a, b) => moment(b.last_login).unix() - moment(a.last_login).unix())\n\n  return (\n    <TitleEl\n      title={`Offline (${allOfflineParticipants.length}) ${emoji.get(\"zzz\")}`}\n    >\n      <ParticipantsWithPopover\n        roomId={room_id}\n        avatarClss=\"grayscale opacity-80 hover:grayscale-0 hover:opacity-100\"\n        participants={allOfflineParticipants.map((x) => x)}\n        customTitle={(x) => {\n          const fromNow = moment((x as WorkspaceUserType).last_login).fromNow()\n          return `${x.name} (${fromNow})`\n        }}\n      />\n    </TitleEl>\n  )\n}\n","import { timeStringToMoment } from \"@/lib/utils\";\nimport { ScheduleType } from \"@/types/calendar\";\nimport moment from \"moment\";\nimport { useEffect, useState } from \"react\";\n\ntype Props = {\n  time: ScheduleType[\"days\"][0][\"times\"][0];\n  onHide: () => void;\n};\nexport default function Time({ time, onHide }: Props) {\n  const [isShow, setIsShow] = useState(true);\n\n  const startMoment = timeStringToMoment(time.start);\n  const endMoment = timeStringToMoment(time.end);\n\n  useEffect(() => {\n    const now = moment();\n\n    if (\n      !(\n        now.diff(startMoment, \"minutes\") > 0 &&\n        now.diff(endMoment, \"minutes\") < 0\n      )\n    ) {\n      setIsShow(false);\n      if (onHide) onHide();\n    }\n  }, [startMoment, endMoment, onHide]);\n\n  if (!isShow) return null;\n\n  return (\n    <span className='text-sm text-black/60'>{`${time.start} - ${time.end}`}</span>\n  );\n}\n","import { ScheduleType } from \"@/types/calendar\";\nimport Time from \"./time\";\n\ntype Props = {\n  times: ScheduleType[\"days\"][0][\"times\"];\n  onHide: () => void;\n};\n\nexport default function TimeShower({ times, onHide }: Props) {\n  if (times.length === 0) return null;\n\n  return (\n    <>\n      {times.map((x, index) => (\n        <Time key={index} time={x} onHide={onHide} />\n      ))}\n    </>\n  );\n}\n","import { AvailabiltyType, ScheduleType } from \"@/types/calendar\";\nimport moment from \"moment\";\nimport { useCallback, useMemo, useState } from \"react\";\nimport { Mic, Pencil, Video } from \"lucide-react\";\nimport TimeShower from \"./time-shower\";\nimport ParticipantsWithPopover from \"../../participants/with-popover\";\n\ntype Props = {\n  schedule: ScheduleType;\n  onHide: () => void;\n};\nexport default function Card({ schedule, onHide }: Props) {\n  const [isHide, setIsHide] = useState(false);\n\n  const handleHide = useCallback(() => {\n    setIsHide(true);\n    if (onHide) onHide();\n  }, [onHide]);\n\n  const today = moment();\n\n  const timeToday = useMemo(() => {\n    const dayTarget = schedule.days.find((x) => x.day === today.day());\n\n    if (dayTarget) {\n      return dayTarget;\n    }\n\n    return undefined;\n  }, [schedule, today.day()]);\n\n  if (timeToday === undefined) return null;\n\n  let icons = {\n    [AvailabiltyType.Text]: <Pencil size={12} />,\n    [AvailabiltyType.Video]: <Video size={12} />,\n    [AvailabiltyType.Voice]: <Mic size={12} />,\n  };\n\n  if (isHide) return null;\n\n  return (\n    <div className='flex flex-row items-center gap-x-2 select-none'>\n      <ParticipantsWithPopover\n        className='!pb-0'\n        participants={[schedule.user]}\n      />\n      <div className='flex flex-row items-center gap-x-1'>\n        <span className='text-xs'>{icons[schedule.availability_type]}</span>\n        <TimeShower times={timeToday.times} onHide={handleHide} />\n      </div>\n    </div>\n  );\n}\n","import { ScheduleType } from \"@/types/calendar\";\nimport Card from \"./card\";\nimport { useEffect, useState } from \"react\";\nimport TitleEl from \"../title-el\";\nimport * as emoji from \"node-emoji\";\n\ntype Props = {\n  schedules: ScheduleType[];\n};\nexport default function SchedulesSummary({ schedules }: Props) {\n  const [localSchedules, setLocalSchedules] = useState<ScheduleType[]>([]);\n  useEffect(() => {\n    if (schedules !== undefined) setLocalSchedules(schedules);\n  }, [schedules]);\n\n  const handleRemoveSchedule = (schedule: ScheduleType) => {\n    setLocalSchedules((prev) => prev.filter((x) => x.id !== schedule.id));\n  };\n\n  if (localSchedules.length === 0) return null;\n\n  return (\n    <TitleEl\n      title={`Scheduled (${localSchedules.length}) ${emoji.get(\"scream\")}`}\n    >\n      <div className='flex flex-col gap-y-2'>\n        {localSchedules.map((sch) => (\n          <Card\n            key={sch.id}\n            schedule={sch}\n            onHide={() => handleRemoveSchedule(sch)}\n          />\n        ))}\n      </div>\n    </TitleEl>\n  );\n}\n","import React from \"react\";\nimport { useRoomContext } from \"../../../room-context\";\nimport SchedulesSummary from \"@/components/shared/schedules-summary\";\nimport moment from \"moment\";\n\nexport default function ScheduledUsers() {\n  const today = moment();\n\n  const { scheduled, workingUsers, onlineUsers } = useRoomContext();\n\n  const onlineUserIds = onlineUsers.map((x) => x.id);\n\n  const finalSchedules = scheduled\n    .filter((x) => x.days.find((a) => a.day === today.day()))\n    .filter((x) => !onlineUserIds.includes(x.user.id));\n\n  return <SchedulesSummary schedules={finalSchedules} />;\n}\n","import OnlineUsers from \"./online\";\nimport WorkingUsers from \"./working\";\nimport OfflineUsers from \"./offline\";\nimport ScheduledUsers from \"./scheduled\";\n\nexport default function WorkspaceUsers() {\n  return (\n    <div className='flex flex-col gap-y-8 py-4'>\n      <WorkingUsers />\n      <OnlineUsers />\n      <ScheduledUsers />\n      <OfflineUsers />\n    </div>\n  );\n}\n","import { ReactNode } from \"react\";\nimport CBadge, { CBadgeProps } from \".\";\n\ntype Props = CBadgeProps & { children: ReactNode };\nexport default function CBadgeSimple({ children, ...rest }: Props) {\n  return (\n    <div className='relative'>\n      <CBadge {...rest} className='absolute top-[-8px] right-[-8px]' />\n      {children}\n    </div>\n  );\n}\n","import CotopiaButton from \"@/components/shared-ui/c-button\";\nimport CotopiaInput from \"@/components/shared-ui/c-input\";\nimport axiosInstance, { FetchDataType } from \"@/services/axios\";\nimport { WorkspaceRoomShortType, WorkspaceRoomType } from \"@/types/room\";\nimport { useFormik } from \"formik\";\nimport { toast } from \"sonner\";\nimport * as Yup from \"yup\";\n\ntype Props = {\n  workspace_id: string;\n  onSubmit: () => void;\n  onCreated: (room: WorkspaceRoomShortType) => void;\n};\nexport default function AddRoomForm({\n  workspace_id,\n  onSubmit,\n  onCreated,\n}: Props) {\n  const { values, touched, errors, isSubmitting, getFieldProps, handleSubmit } =\n    useFormik({\n      initialValues: {\n        title: \"\",\n      },\n      validationSchema: Yup.object().shape({\n        title: Yup.string().required(\"Title is required\"),\n      }),\n      onSubmit: async (values, actions) => {\n        actions.setSubmitting(true);\n        try {\n          const res = await axiosInstance.post<\n            FetchDataType<WorkspaceRoomShortType>\n          >(`/rooms`, {\n            workspace_id,\n            title: values.title,\n          });\n          toast.success(\"Room has been created in your workspace.\");\n          if (onCreated) onCreated(res.data.data);\n          actions.setSubmitting(false);\n          if (onSubmit) onSubmit();\n        } catch (e) {\n          actions.setSubmitting(false);\n        }\n      },\n    });\n\n  return (\n    <form onSubmit={handleSubmit} className='flex flex-col gap-y-6'>\n      <CotopiaInput\n        {...getFieldProps(\"title\")}\n        placeholder='Enter the room title'\n        label='Room title'\n        hasError={!!touched.title && !!errors.title}\n        helperText={!!touched.title && !!errors.title && errors.title}\n      />\n      <CotopiaButton\n        type='submit'\n        disabled={!values.title}\n        loading={isSubmitting}\n      >\n        Create\n      </CotopiaButton>\n    </form>\n  );\n}\n","import CotopiaButton from \"@/components/shared-ui/c-button\";\nimport ModalBox from \"@/components/shared/modal-box\";\nimport { DialogDescription, DialogTitle } from \"@/components/ui/dialog\";\nimport { Plus } from \"lucide-react\";\nimport AddRoomForm from \"./form\";\nimport { WorkspaceRoomShortType } from \"@/types/room\";\n\ntype Props = {\n  workspace_id: string;\n  onAdd: (room: WorkspaceRoomShortType) => void;\n};\nexport default function AddRoom({ workspace_id, onAdd }: Props) {\n  return (\n    <ModalBox\n      trigger={(open) => (\n        <CotopiaButton\n          className='text-gray-600'\n          variant={\"ghost\"}\n          startIcon={<Plus size={16} />}\n          onClick={open}\n        >\n          Add Room\n        </CotopiaButton>\n      )}\n    >\n      {(_, close) => {\n        return (\n          <>\n            <DialogTitle>{`Adding room to workspace`}</DialogTitle>\n            <DialogDescription>{`You are going to create room in your workspace`}</DialogDescription>\n            <AddRoomForm\n              workspace_id={workspace_id}\n              onSubmit={close}\n              onCreated={onAdd}\n            />\n          </>\n        );\n      }}\n    </ModalBox>\n  );\n}\n","\"use client\";\n\nimport { Dialog, DialogContent, DialogTrigger } from \"@/components/ui/dialog\";\nimport { ReactNode, useState } from \"react\";\n\nexport type CDialogProps = {\n  trigger: (open: () => void) => ReactNode;\n  children: (close: () => void) => ReactNode;\n  onClose?: () => void;\n  dialogContentCss?: string;\n};\nexport default function CDialog({\n  trigger,\n  children,\n  onClose,\n  dialogContentCss,\n  ...rest\n}: CDialogProps) {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const handleOpen = () => setIsOpen(true);\n\n  const handleClose = () => {\n    setIsOpen(false);\n    if (onClose) onClose();\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={setIsOpen} modal>\n      <DialogTrigger asChild>{trigger(handleOpen)}</DialogTrigger>\n      <DialogContent className={dialogContentCss}>\n        {children(handleClose)}\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import { ReactNode } from \"react\"\nimport CotopiaButton from \"../../c-button\"\n\nexport type CotopiaPromptType = {\n  title: string\n  description: string\n  onSubmit: () => void\n  onClose: () => void\n  loading?: boolean\n  submitText?: string\n  afterDesc?: ReactNode\n  hasNotAction?: boolean\n}\nexport default function CotopiaPromptContent({\n  title,\n  description,\n  onClose,\n  loading = false,\n  onSubmit,\n  submitText = \"Submit\",\n  afterDesc,\n  hasNotAction = false,\n}: CotopiaPromptType) {\n  return (\n    <div className=\"flex flex-col gap-y-8\">\n      <div className=\"flex flex-col gap-y-2\">\n        <strong className=\"text-xl\">{title}</strong>\n        {!!description && (\n          <p className=\"text-base text-black/60\">{description}</p>\n        )}\n        {!!afterDesc && afterDesc}\n      </div>\n      {hasNotAction === false && (\n        <div className=\"flex flex-row items-center gap-x-2\">\n          <CotopiaButton\n            onClick={onClose}\n            className=\"!px-6\"\n            variant={\"outline\"}\n          >\n            Close\n          </CotopiaButton>\n          <CotopiaButton loading={loading} onClick={onSubmit} className=\"!px-6\">\n            {submitText}\n          </CotopiaButton>\n        </div>\n      )}\n    </div>\n  )\n}\n","import CDialog from \"@/components/shared-ui/c-dialog\";\nimport CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport CotopiaPromptContent from \"@/components/shared-ui/c-prompt/content\";\nimport { useRoomContext } from \"@/components/shared/room/room-context\";\nimport useLoading from \"@/hooks/use-loading\";\nimport axiosInstance from \"@/services/axios\";\nimport { WorkspaceRoomShortType } from \"@/types/room\";\nimport { Trash } from \"lucide-react\";\n\ntype Props = {\n  room: WorkspaceRoomShortType;\n  onDelete: () => void;\n};\n\nexport default function DeleteRoom({ room, onDelete }: Props) {\n  const { startLoading, stopLoading, isLoading } = useLoading();\n\n  const { workspace_id } = useRoomContext();\n\n  const handleDelete = () => {\n    startLoading();\n    axiosInstance\n      .delete(`workspaces/${workspace_id}/rooms/${room.id}`)\n      .then((res) => {\n        stopLoading();\n        if (onDelete) onDelete();\n      })\n      .catch((err) => {\n        stopLoading();\n      });\n  };\n\n  return (\n    <CDialog\n      trigger={(open) => (\n        <CotopiaIconButton onClick={open} disabled={isLoading}>\n          <Trash size={16} className='text-red-600' />\n        </CotopiaIconButton>\n      )}\n    >\n      {(close) => (\n        <CotopiaPromptContent\n          title='Delete room'\n          submitText='Delete'\n          description='Are you sure to delete this room?!'\n          onSubmit={handleDelete}\n          onClose={close}\n        />\n      )}\n    </CDialog>\n  );\n}\n","import CotopiaButton from \"@/components/shared-ui/c-button\";\nimport ParticipantsWithPopover from \"@/components/shared/participants/with-popover\";\nimport { WorkspaceRoomJoinType, WorkspaceRoomShortType } from \"@/types/room\";\nimport { Cast } from \"lucide-react\";\nimport DeleteRoom from \"./delete-room\";\nimport { UserMinimalType, WorkspaceUserType } from \"@/types/user\";\nimport { uniqueById, urlWithQueryParams } from \"@/lib/utils\";\nimport useSetting from \"@/hooks/use-setting\";\nimport useLoading from \"@/hooks/use-loading\";\n//@ts-ignore\nimport { useSocket } from \"@/routes/private-wrarpper\";\nimport axiosInstance, { FetchDataType } from \"@/services/axios\";\nimport { playSoundEffect } from \"@/lib/sound-effects\";\nimport { useNavigate } from \"react-router-dom\";\n\ntype Props = {\n  room: WorkspaceRoomShortType;\n  workspace_id: number;\n  selected_room_id?: number;\n  participants: WorkspaceUserType[];\n};\n\nexport default function WorkspaceRoom({\n  workspace_id,\n  room,\n  selected_room_id,\n  participants,\n}: Props) {\n  const { sounds } = useSetting();\n\n  const navigate = useNavigate();\n\n  const socket = useSocket();\n\n  const { startLoading, stopLoading, isLoading } = useLoading();\n\n  const joinRoomHandler = async () => {\n    if (!socket) return;\n\n    if (selected_room_id !== room.id) {\n      startLoading();\n      socket.emit(\"joinedRoom\", room.id, () => {\n        axiosInstance\n          .get<FetchDataType<WorkspaceRoomJoinType>>(`/rooms/${room.id}/join`)\n          .then((res) => {\n            const livekitToken = res.data.data.token; //Getting livekit token from joinObject\n\n            stopLoading();\n\n            if (sounds.userJoinLeft) playSoundEffect(\"joined\");\n\n            if (livekitToken) {\n              navigate(\n                urlWithQueryParams(\n                  `/workspaces/${workspace_id}/rooms/${room.id}`,\n                  { token: livekitToken, isSwitching: true }\n                )\n              );\n\n              return;\n            }\n          })\n          .catch((err) => {\n            stopLoading();\n          });\n      });\n    }\n  };\n\n  const isSelected = selected_room_id ? room?.id === selected_room_id : false;\n\n  let clss = \"!justify-start !text-left flex-1\";\n  if (isSelected) clss += ` !bg-black/10 !text-black`;\n\n  return (\n    <div className='flex flex-col gap-y-2'>\n      <div className='flex flex-row items-center justify-between gap-x-2'>\n        <CotopiaButton\n          onClick={joinRoomHandler}\n          className={clss}\n          variant={isSelected ? \"default\" : \"ghost\"}\n          startIcon={<Cast className='mr-2' size={16} />}\n          disabled={isLoading}\n          loading={isLoading}\n        >\n          {room.title}\n        </CotopiaButton>\n        <DeleteRoom room={room} onDelete={() => {}} />\n      </div>\n      <ParticipantsWithPopover\n        roomId={room.id}\n        participants={uniqueById(participants) as UserMinimalType[]}\n      />\n    </div>\n  );\n}\n","import { WorkspaceRoomShortType } from \"@/types/room\";\nimport WorkspaceRoom from \"./room\";\nimport TitleEl from \"../../title-el\";\nimport { useRoomContext } from \"../../room/room-context\";\n\ntype Props = {\n  rooms: WorkspaceRoomShortType[];\n  workspace_id: number;\n  selected_room_id?: number;\n};\n\nexport default function WorkspaceRooms({\n  workspace_id,\n  rooms,\n  selected_room_id,\n}: Props) {\n  const { workpaceUsers } = useRoomContext();\n\n  if (rooms.length === 0) return null;\n\n  return (\n    <TitleEl title='Rooms'>\n      {rooms.map((room) => {\n        return (\n          <WorkspaceRoom\n            selected_room_id={selected_room_id}\n            key={room.id}\n            workspace_id={workspace_id}\n            room={room}\n            participants={workpaceUsers.filter(\n              (x) => x.room_id === room.id && x.status === \"online\"\n            )}\n          />\n        );\n      })}\n    </TitleEl>\n  );\n}\n","import FullLoading from \"@/components/shared/full-loading\";\nimport { useApi } from \"@/hooks/swr\";\nimport AddRoom from \"./add-room\";\nimport WorkspaceRooms from \"@/components/shared/workspaces/rooms\";\nimport { WorkspaceRoomShortType } from \"@/types/room\";\nimport { useEffect, useState } from \"react\";\nimport { FetchDataType } from \"@/services/axios\";\nimport { useSocket } from \"@/routes/private-wrarpper\";\nimport { useParams } from \"react-router-dom\";\n\ntype Props = {\n  workspace_id: string;\n};\n\nexport default function WorkspaceRoomsHolder({ workspace_id }: Props) {\n  const { room_id } = useParams();\n\n  const [rooms, setRooms] = useState<WorkspaceRoomShortType[]>([]);\n\n  const { data, isLoading, mutate } = useApi<\n    FetchDataType<WorkspaceRoomShortType[]>\n  >(`/workspaces/${workspace_id}/rooms`);\n  const items = !!data ? data?.data : [];\n\n  useEffect(() => {\n    if (items.length > 0) setRooms(items);\n  }, [items]);\n\n  useSocket(\"workspaceRoomUpdated\", (data: WorkspaceRoomShortType) => {\n    const room: WorkspaceRoomShortType = data;\n    setRooms((prev) =>\n      prev.map((prevRoom) => {\n        if (prevRoom.id === room.id) {\n          return room;\n        }\n\n        return prevRoom;\n      })\n    );\n  });\n\n  const handleAddRoom = (room: WorkspaceRoomShortType) => mutate();\n\n  let content = (\n    <div className='flex flex-col'>\n      <WorkspaceRooms\n        workspace_id={+workspace_id}\n        rooms={rooms}\n        selected_room_id={room_id ? +room_id : undefined}\n      />\n      <AddRoom workspace_id={workspace_id} onAdd={handleAddRoom} />\n    </div>\n  );\n\n  if (isLoading) content = <FullLoading />;\n\n  return content;\n}\n","\"use client\";\n\nimport { useParams } from \"react-router-dom\";\nimport WorkspaceRoomsHolder from \"../[slug]/rooms\";\n\nexport default function WorkspaceSidebar() {\n  const { workspace_id } = useParams();\n\n  return (\n    <div className='flex flex-col gap-y-4 bg-white h-screen overflow-y-auto p-4'>\n      <WorkspaceRoomsHolder workspace_id={workspace_id as string} />\n    </div>\n  );\n}\n","import React, { ReactNode, useState } from \"react\";\nimport CTabs from \"@/components/shared-ui/c-tabs\";\nimport { AudioLines, MessagesSquare, Users } from \"lucide-react\";\nimport SettingsChatAction from \"./chat/action\";\nimport UserChat from \"./chat\";\nimport WorkspaceUsers from \"./users\";\nimport CBadgeSimple from \"@/components/shared-ui/c-badge/c-badge-simple\";\nimport { useAppSelector } from \"@/store\";\nimport WorkspaceSidebar from \"@/routes/private-wrarpper/components/workspaces/sidebar\";\n\nexport default function RoomSettings() {\n  const roomSlice = useAppSelector((state) => state.room);\n\n  const messagesCount = roomSlice?.messages_count ?? { room: [], objects: {} };\n\n  const roomIds = messagesCount.room;\n  const directsIds = Object?.values(messagesCount.directs).flatMap(\n    (item) => item\n  );\n\n  const totalCount = roomIds.length + directsIds.length;\n\n  const [value, setValue] = useState(\"rooms\");\n\n  let title: ReactNode = \"\";\n  switch (value) {\n    case \"chat\":\n      title = <SettingsChatAction />;\n      break;\n  }\n\n  return (\n    <div className='p-6 flex flex-col gap-y-4'>\n      <CTabs\n        title={<div>{title}</div>}\n        defaultValue={value}\n        onChangeTab={setValue}\n        className='[&_.tab-content>*]:px-0'\n        items={[\n          {\n            icon: <AudioLines />,\n            content: <WorkspaceSidebar />,\n            value: \"rooms\",\n          },\n          {\n            icon: (\n              <CBadgeSimple count={totalCount}>\n                <MessagesSquare />\n              </CBadgeSimple>\n            ),\n            content: <UserChat />,\n            value: \"chat\",\n          },\n          {\n            icon: <Users />,\n            content: <WorkspaceUsers />,\n            value: \"users\",\n          },\n        ]}\n      />\n    </div>\n  );\n}\n","import { useParticipants } from \"@livekit/components-react\";\nimport { useRoomContext } from \"../../room-context\";\nimport { UserMinimalType } from \"@/types/user\";\nimport { useSocket } from \"@/routes/private-wrarpper\";\n\nconst DEFAULT_TILE_POSITION = [0, 0];\nconst BOUNDRY_RADIUS = 50;\nconst BOUNDRY_CENTER_X = 500;\nconst BOUNDRY_CENTER_Y = 500;\n\nconst LiveKitAudioManager = () => {\n  const participants = useParticipants();\n\n  const { room } = useRoomContext();\n  const users = room?.participants ?? [];\n\n  const checkBoundaries = () => {\n    for (let i = 0; i < users.length; i++) {\n      for (let j = i + 1; j < users.length; j++) {\n        if (isOverlap(users[i], users[j])) {\n          const volume1 = calculateVolume(users[i]);\n          const volume2 = calculateVolume(users[j]);\n          setVolume(\"\" + users[i].username, volume1);\n          setVolume(\"\" + users[j].username, volume2);\n        } else {\n          setVolume(\"\" + users[i].username, 0);\n          setVolume(\"\" + users[j].username, 0);\n        }\n      }\n    }\n  };\n\n  const isOverlap = (\n    user1: UserMinimalType,\n    user2: UserMinimalType\n  ): boolean => {\n    const user1Coordinates = (\n      user1?.coordinates\n        ? user1?.coordinates?.split(\",\")\n        : DEFAULT_TILE_POSITION\n    )?.map((x) => +x);\n\n    const user2Coordinates = (\n      user2?.coordinates\n        ? user2?.coordinates?.split(\",\")\n        : DEFAULT_TILE_POSITION\n    )?.map((x) => +x);\n\n    const distance = Math.sqrt(\n      Math.pow(user1Coordinates[0] - user2Coordinates[0], 2) +\n        Math.pow(user1Coordinates[1] - user2Coordinates[1], 2)\n    );\n    return distance < 2 * BOUNDRY_RADIUS; //Because we have 2 users\n  };\n\n  const calculateVolume = (user: UserMinimalType): number => {\n    const userCoordinates = (\n      user?.coordinates ? user?.coordinates?.split(\",\") : DEFAULT_TILE_POSITION\n    )?.map((x) => +x);\n\n    const distanceFromCenter = Math.sqrt(\n      Math.pow(userCoordinates[0] - BOUNDRY_CENTER_X, 2) +\n        Math.pow(userCoordinates[1] - BOUNDRY_CENTER_Y, 2)\n    );\n    const maxDistance = BOUNDRY_RADIUS;\n    const volume = distanceFromCenter / maxDistance; // Normalize volume between 0 and 1\n    return Math.min(Math.max(volume, 0), 1); // Ensure volume is between 0 and 1\n  };\n\n  const setVolume = (userName: string, volume: number) => {\n    if (room) {\n      const participant = participants.find((x) => x.identity === userName);\n      if (participant !== undefined) {\n        participant.audioLevel = 100;\n      }\n    }\n  };\n\n  useSocket(\"updateCoordinates\", (data: any) => {\n    checkBoundaries();\n  });\n\n  // useEffect(() => {\n  //   checkBoundaries();\n  // }, [room?.participants]);\n\n  return null;\n};\n\nexport default LiveKitAudioManager;\n","import { useLocalParticipant } from \"@livekit/components-react\";\nimport { Track } from \"livekit-client\";\nimport React, { useEffect } from \"react\";\nimport { useRoomHolder } from \"../..\";\n\nexport default function VideoInit() {\n  const { mediaPermissions } = useRoomHolder();\n\n  const { localParticipant } = useLocalParticipant();\n\n  const voiceTrack = localParticipant.getTrackPublication(Track.Source.Camera);\n\n  const track = voiceTrack?.track;\n\n  useEffect(() => {\n    if (!track) {\n      return;\n    }\n\n    if (mediaPermissions?.video === true) {\n      track.unmute();\n    } else {\n      track.mute();\n      track.stop();\n    }\n  }, [mediaPermissions?.video, track]);\n\n  return null;\n}\n","import { useLocalParticipant } from \"@livekit/components-react\";\nimport { Track } from \"livekit-client\";\nimport React, { useEffect } from \"react\";\nimport { useRoomContext } from \"../../room-context\";\nimport { useRoomHolder } from \"../..\";\n\nexport default function AudioInit() {\n  const { mediaPermissions } = useRoomHolder();\n\n  const { localParticipant } = useLocalParticipant();\n\n  const audioTrack = localParticipant.getTrackPublication(\n    Track.Source.Microphone\n  );\n\n  const track = audioTrack?.track;\n\n  useEffect(() => {\n    if (!track) {\n      return;\n    }\n\n    if (mediaPermissions?.audio === true) {\n      track.unmute();\n    } else {\n      track.mute();\n    }\n  }, [mediaPermissions?.audio, track]);\n\n  return null;\n}\n","import React from \"react\";\nimport VideoInit from \"./video-init\";\nimport AudioInit from \"./audio-init\";\n\nexport default function InitRoom() {\n  return (\n    <>\n      <VideoInit />\n      <AudioInit />\n    </>\n  );\n}\n","import * as React from \"react\";\nimport type { TrackReference } from \"@livekit/components-core\";\nimport { log } from \"@livekit/components-core\";\nimport { RemoteAudioTrack, RemoteTrackPublication } from \"livekit-client\";\nimport { useEnsureTrackRef } from \"@livekit/components-react\";\nimport { useMediaTrackBySourceOrName } from \"./use-media-track-by-source-or-name\";\n\n/** @public */\nexport interface AudioTrackProps\n  extends React.AudioHTMLAttributes<HTMLAudioElement> {\n  /** The track reference of the track from which the audio is to be rendered. */\n  trackRef?: TrackReference;\n\n  onSubscriptionStatusChanged?: (subscribed: boolean) => void;\n  /** Sets the volume of the audio track. By default, the range is between `0.0` and `1.0`. */\n  volume?: number;\n  /**\n   * Mutes the audio track if set to `true`.\n   * @remarks\n   * If set to `true`, the server will stop sending audio track data to the client.\n   * @alpha\n   */\n  muted?: boolean;\n}\n\n/**\n * The AudioTrack component is responsible for rendering participant audio tracks.\n * This component must have access to the participant's context, or alternatively pass it a `Participant` as a property.\n *\n * @example\n * ```tsx\n *   <ParticipantTile>\n *     <AudioTrack trackRef={trackRef} />\n *   </ParticipantTile>\n * ```\n *\n * @see `ParticipantTile` component\n * @public\n */\nexport const AudioTrack = /* @__PURE__ */ React.forwardRef<\n  HTMLAudioElement,\n  AudioTrackProps\n>(function AudioTrack(\n  {\n    trackRef,\n    onSubscriptionStatusChanged,\n    volume,\n    muted,\n    ...props\n  }: AudioTrackProps,\n  ref\n) {\n  const trackReference = useEnsureTrackRef(trackRef);\n\n  const mediaEl = React.useRef<HTMLAudioElement>(null);\n  React.useImperativeHandle(ref, () => mediaEl.current as HTMLAudioElement);\n\n  const {\n    elementProps,\n    isSubscribed,\n    track,\n    publication: pub,\n  } = useMediaTrackBySourceOrName(trackReference, {\n    element: mediaEl,\n    props,\n  });\n\n  React.useEffect(() => {\n    onSubscriptionStatusChanged?.(!!isSubscribed);\n  }, [isSubscribed, onSubscriptionStatusChanged]);\n\n  React.useEffect(() => {\n    if (track === undefined || volume === undefined) {\n      return;\n    }\n    if (track instanceof RemoteAudioTrack) {\n      track.setVolume(volume);\n    } else {\n      log.warn(\"Volume can only be set on remote audio tracks.\");\n    }\n  }, [volume, track]);\n\n  React.useEffect(() => {\n    if (pub === undefined || muted === undefined) {\n      return;\n    }\n    if (pub instanceof RemoteTrackPublication) {\n      pub.setEnabled(!muted);\n    } else {\n      log.warn(\"Can only call setEnabled on remote track publications.\");\n    }\n  }, [muted, pub, track]);\n\n  return <audio ref={mediaEl} {...elementProps} />;\n});\n","\"use client\";\n\nimport { mergeProps } from \"@/lib/utils\";\nimport type { TrackIdentifier } from \"@livekit/components-core\";\nimport { isTrackReference } from \"@livekit/components-core\";\nimport {\n  setupMediaTrack,\n  log,\n  isLocal,\n  getTrackByIdentifier,\n} from \"@livekit/components-core\";\nimport * as React from \"react\";\n\n/** @public */\nexport interface UseMediaTrackOptions {\n  element?: React.RefObject<HTMLMediaElement> | null;\n  props?: React.HTMLAttributes<HTMLVideoElement | HTMLAudioElement>;\n}\n\n/**\n * @internal\n */\nexport function useMediaTrackBySourceOrName(\n  observerOptions: TrackIdentifier,\n  options: UseMediaTrackOptions = {}\n) {\n  const [publication, setPublication] = React.useState(\n    getTrackByIdentifier(observerOptions)\n  );\n\n  const [isMuted, setMuted] = React.useState(publication?.isMuted);\n  const [isSubscribed, setSubscribed] = React.useState(\n    publication?.isSubscribed\n  );\n\n  const [track, setTrack] = React.useState(publication?.track);\n  const [orientation, setOrientation] = React.useState<\n    \"landscape\" | \"portrait\"\n  >(\"landscape\");\n  const previousElement = React.useRef<HTMLMediaElement | undefined | null>();\n\n  const { className, trackObserver } = React.useMemo(() => {\n    return setupMediaTrack(observerOptions);\n  }, [\n    observerOptions.participant.sid ?? observerOptions.participant.identity,\n    observerOptions.source,\n    isTrackReference(observerOptions) && observerOptions.publication.trackSid,\n  ]);\n\n  React.useEffect(() => {\n    const subscription = trackObserver.subscribe((publication) => {\n      log.debug(\"update track\", publication);\n      setPublication(publication);\n      setMuted(publication?.isMuted);\n      setSubscribed(publication?.isSubscribed);\n      setTrack(publication?.track);\n    });\n    return () => subscription?.unsubscribe();\n  }, [trackObserver]);\n\n  React.useEffect(() => {\n    if (track) {\n      if (previousElement.current) {\n        track.detach(previousElement.current);\n      }\n      if (\n        options.element?.current &&\n        !(isLocal(observerOptions.participant) && track?.kind === \"audio\")\n      ) {\n        track.attach(options.element.current);\n      }\n    }\n    previousElement.current = options.element?.current;\n    return () => {\n      if (previousElement.current) {\n        track?.detach(previousElement.current);\n      }\n    };\n  }, [track, options.element]);\n\n  React.useEffect(() => {\n    // Set the orientation of the video track.\n    // TODO: This does not handle changes in orientation after a track got published (e.g when rotating a phone camera from portrait to landscape).\n    if (\n      typeof publication?.dimensions?.width === \"number\" &&\n      typeof publication?.dimensions?.height === \"number\"\n    ) {\n      const orientation_ =\n        publication.dimensions.width > publication.dimensions.height\n          ? \"landscape\"\n          : \"portrait\";\n      setOrientation(orientation_);\n    }\n  }, [publication]);\n\n  return {\n    publication,\n    isMuted,\n    isSubscribed,\n    track,\n    elementProps: mergeProps(options.props, {\n      className,\n      \"data-lk-local-participant\": observerOptions.participant.isLocal,\n      \"data-lk-source\": publication?.source,\n      ...(publication?.kind === \"video\" && {\n        \"data-lk-orientation\": orientation,\n      }),\n    }),\n  };\n}\n","import { getTrackReferenceId, isLocal } from \"@livekit/components-core\";\nimport { useTracks } from \"@livekit/components-react\";\nimport { Track } from \"livekit-client\";\nimport { AudioTrack } from \"./audio-track\";\nimport { useRoomContext } from \"../../room-context\";\nimport useAuth from \"@/hooks/auth\";\nimport { VARZ } from \"@/const/varz\";\nimport { UserMinimalType, WorkspaceUserType } from \"@/types/user\";\n\n/** @public */\nexport interface RoomAudioRendererProps {\n  /** Sets the volume for all audio tracks rendered by this component. By default, the range is between `0.0` and `1.0`. */\n  volume?: number;\n  /**\n   * If set to `true`, mutes all audio tracks rendered by the component.\n   * @remarks\n   * If set to `true`, the server will stop sending audio track data to the client.\n   * @alpha\n   */\n  muted?: boolean;\n}\n\n/**\n * The `RoomAudioRenderer` component is a drop-in solution for adding audio to your LiveKit app.\n * It takes care of handling remote participants audio tracks and makes sure that microphones and screen share are audible.\n *\n * @example\n * ```tsx\n * <LiveKitRoom>\n *   <RoomAudioRenderer />\n * </LiveKitRoom>\n * ```\n * @public\n */\n\nexport function RoomAudioRenderer() {\n  const { user } = useAuth();\n\n  const { room } = useRoomContext();\n  const allParticipants = room?.participants ?? [];\n\n  const updatedMyUser = allParticipants?.find(\n    (x) => x?.username === user?.username\n  );\n\n  const tracks = useTracks(\n    [\n      Track.Source.Microphone,\n      Track.Source.ScreenShareAudio,\n      Track.Source.Unknown,\n    ],\n    {\n      updateOnlyOn: [],\n      onlySubscribed: true,\n    }\n  ).filter(\n    (ref) =>\n      !isLocal(ref.participant) && ref.publication.kind === Track.Kind.Audio\n  );\n\n  return (\n    <div style={{ display: \"none\" }}>\n      {tracks.map((trackRef) => {\n        const trackOwner = allParticipants?.find(\n          (x) => x.username === trackRef?.participant?.identity\n        );\n\n        const { meet, volumePercentage } = doCirclesMeet(\n          updatedMyUser,\n          trackOwner\n        );\n\n        let volume = 1;\n        let isMuted = !meet;\n\n        return (\n          <AudioTrack\n            key={getTrackReferenceId(trackRef)}\n            trackRef={trackRef}\n            volume={volume}\n            muted={isMuted}\n          />\n        );\n      })}\n    </div>\n  );\n}\n\nconst DEFAULT_X = 0;\nconst DEFAULT_Y = 0;\n\nexport function doCirclesMeet(\n  circle1?: UserMinimalType | WorkspaceUserType,\n  circle2?: UserMinimalType | WorkspaceUserType\n) {\n  if (!circle2 || !circle1)\n    return {\n      distance: undefined,\n      meet: false,\n      volumePercentage: 0,\n    };\n\n  const radius = 46; // radius of each circle\n  const radiusHearing = VARZ.voiceAreaRadius - 50;\n\n  const userCoordinate1 = circle1.coordinates?.split(\",\")?.map((x) => +x) ?? [\n    DEFAULT_X,\n    DEFAULT_Y,\n  ];\n  const user1Position = { x: userCoordinate1[0], y: userCoordinate1[1] };\n  const userCoordinate2 = circle2.coordinates?.split(\",\")?.map((x) => +x) ?? [\n    DEFAULT_X,\n    DEFAULT_Y,\n  ];\n  const user2Position = { x: userCoordinate2[0], y: userCoordinate2[1] };\n\n  // Calculate the distance between the centers of the circles\n  const distance = Math.sqrt(\n    Math.pow(user1Position.x - user2Position.x, 2) +\n      Math.pow(user1Position.y - user2Position.y, 2) // Fixed y-coordinate difference calculation\n  );\n\n  // Check if the distance is less than or equal to the sum of the radii\n  const meet = distance <= 2 * radius + radiusHearing;\n\n  const percentage = !meet\n    ? 0\n    : 100 - Math.min((distance / radiusHearing) * 100, 100);\n\n  return { meet, distance, volumePercentage: percentage };\n}\n","import { RoomAudioRenderer } from \"./room-audio-renderer\";\nimport { ReactNode } from \"react\";\n\ntype Props = {\n  children?: ReactNode;\n};\n\nexport default function UserSessions({ children }: Props) {\n  // const { state } = useRoomContext();\n\n  // if (state !== \"connected\") return <FullLoading />;\n\n  return (\n    <>\n      {children}\n      <RoomAudioRenderer />\n    </>\n  );\n}\n","import { ReactNode } from \"react\";\n\ntype Props = {\n  children: ReactNode;\n};\nexport default function ActionsRight({ children }: Props) {\n  return <div className='absolute bottom-0 right-0 z-[2]'>{children}</div>;\n}\n","import CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport {\n  TrackMutedIndicatorProps,\n  useTrackMutedIndicator,\n} from \"@livekit/components-react\";\nimport { Mic, MicOff } from \"lucide-react\";\n\ntype Props = {\n  trackRef: TrackMutedIndicatorProps[\"trackRef\"];\n};\n\nexport default function MicButton({ trackRef }: Props) {\n  const { isMuted } = useTrackMutedIndicator(trackRef);\n\n  return (\n    <CotopiaIconButton className='w-8 h-8 text-black/60'>\n      {isMuted ? <MicOff size={22} /> : <Mic size={22} />}\n    </CotopiaIconButton>\n  );\n}\n","import React from \"react\";\n\nconst LiveKitVoiceFrequency: React.FC = () => {\n  return null;\n};\n\nexport default LiveKitVoiceFrequency;\n","import { ReactNode } from \"react\";\nimport LiveKitVoiceFrequency from \"./voice-effects/test\";\n\ntype Props = {\n  children: ReactNode;\n};\nexport default function SessionWrapper({ children }: Props) {\n  return (\n    <div className='relative'>\n      <LiveKitVoiceFrequency />\n      {/* <VoiceEffects /> */}\n      {children}\n    </div>\n  );\n}\n","import { VARZ } from \"@/const/varz\";\n\ntype Props = {\n  isDragging: boolean;\n};\nexport default function VoiceAreaHearing({ isDragging }: Props) {\n  const diameter = VARZ.voiceAreaRadius * 2;\n\n  let clss =\n    \"w-[0px] h-[0px] transition-all absolute top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] bg-green-500/20 rounded-full\";\n\n  let style = {};\n  if (isDragging) style = { width: diameter, height: diameter };\n\n  return <div className={clss} style={style}></div>;\n}\n","\"use client\";\n\nimport React from \"react\";\nimport ActionsRight from \"./actions-right\";\nimport MicButton from \"./actions-right/mic\";\nimport {\n  AudioTrack,\n  isTrackReference,\n  ParticipantContext,\n  ParticipantTileProps,\n  PinState,\n  TrackRefContext,\n  TrackReferenceOrPlaceholder,\n  useConnectionQualityIndicator,\n  useEnsureTrackRef,\n  useFeatureContext,\n  useMaybeLayoutContext,\n  useMaybeParticipantContext,\n  useMaybeTrackRefContext,\n  useParticipantTile,\n  useTrackMutedIndicator,\n  VideoTrack,\n} from \"@livekit/components-react\";\nimport { ConnectionQuality, Participant, Track } from \"livekit-client\";\nimport { isTrackReferencePlaceholder } from \"@livekit/components-core\";\nimport SessionWrapper from \"./wrapper\";\nimport { useUserTile } from \".\";\nimport CotopiaAvatar from \"@/components/shared-ui/c-avatar\";\nimport { getUserFullname } from \"@/lib/utils\";\nimport VoiceAreaHearing from \"./wrapper/voice-area-hearing\";\nimport CotopiaTooltip from \"@/components/shared-ui/c-tooltip\";\nimport { useRoomContext } from \"@/components/shared/room/room-context\";\nimport ParticipantDetails from \"@/components/shared/room/participant-detail\";\nimport { UserMinimalType, WorkspaceUserType } from \"@/types/user\";\nimport useAuth from \"@/hooks/auth\";\nimport { doCirclesMeet } from \"@/components/shared/room/sessions/room-audio-renderer\";\n\nfunction ParticipantContextIfNeeded(\n  props: React.PropsWithChildren<{\n    participant?: Participant;\n  }>\n) {\n  const hasContext = !!useMaybeParticipantContext();\n  return props.participant && !hasContext ? (\n    <ParticipantContext.Provider value={props.participant}>\n      {props.children}\n    </ParticipantContext.Provider>\n  ) : (\n    <>{props.children}</>\n  );\n}\n\nfunction isTrackReferencePinned(\n  trackReference: TrackReferenceOrPlaceholder,\n  pinState: PinState | undefined\n): boolean {\n  if (typeof pinState === \"undefined\") {\n    return false;\n  }\n  if (isTrackReference(trackReference)) {\n    return pinState.some(\n      (pinnedTrackReference) =>\n        pinnedTrackReference.participant.identity ===\n          trackReference.participant.identity &&\n        isTrackReference(pinnedTrackReference) &&\n        pinnedTrackReference.publication.trackSid ===\n          trackReference.publication.trackSid\n    );\n  } else if (isTrackReferencePlaceholder(trackReference)) {\n    return pinState.some(\n      (pinnedTrackReference) =>\n        pinnedTrackReference.participant.identity ===\n          trackReference.participant.identity &&\n        isTrackReferencePlaceholder(pinnedTrackReference) &&\n        pinnedTrackReference.source === trackReference.source\n    );\n  } else {\n    return false;\n  }\n}\n\nfunction TrackRefContextIfNeeded(\n  props: React.PropsWithChildren<{\n    trackRef?: TrackReferenceOrPlaceholder;\n  }>\n) {\n  const hasContext = !!useMaybeTrackRefContext();\n  return props.trackRef && !hasContext ? (\n    <TrackRefContext.Provider value={props.trackRef}>\n      {props.children}\n    </TrackRefContext.Provider>\n  ) : (\n    <>{props.children}</>\n  );\n}\n\nexport const ParticipantTile = React.forwardRef<\n  HTMLDivElement,\n  ParticipantTileProps & { isDragging: boolean; username: string }\n>(function ParticipantTile(\n  {\n    trackRef,\n    children,\n    onParticipantClick,\n    disableSpeakingIndicator,\n    isDragging,\n    username,\n    ...htmlProps\n  }: ParticipantTileProps & { isDragging: boolean; username: string },\n  ref\n) {\n  const trackReference = useEnsureTrackRef(trackRef);\n\n  const { elementProps } = useParticipantTile({\n    htmlProps,\n    disableSpeakingIndicator,\n    onParticipantClick,\n    trackRef: trackReference,\n  });\n\n  const layoutContext = useMaybeLayoutContext();\n\n  const autoManageSubscription = useFeatureContext()?.autoSubscription;\n\n  const handleSubscribe = React.useCallback(\n    (subscribed: boolean) => {\n      if (\n        trackReference.source &&\n        !subscribed &&\n        layoutContext &&\n        layoutContext.pin.dispatch &&\n        isTrackReferencePinned(trackReference, layoutContext.pin.state)\n      ) {\n        layoutContext.pin.dispatch({ msg: \"clear_pin\" });\n      }\n    },\n    [trackReference, layoutContext]\n  );\n\n  const livekitIdentity = trackReference.participant?.identity;\n\n  const { isMuted } = useTrackMutedIndicator(trackRef);\n\n  const isSpeaking = trackReference?.participant?.isSpeaking;\n\n  let clss =\n    \"relative z-[10] user-circle transition-all w-full h-full [&_.lk-participant-tile]:!absolute [&_.lk-participant-tile]:w-full [&_.lk-participant-tile]:h-full [&_.lk-participant-tile]:top-0 [&_.lk-participant-tile]:left-0 rounded-full p-1 [&_video]:h-full [&_video]:object-cover [&_video]:rounded-full [&_video]:h-full [&_video]:w-full w-[96px] h-[96px] flex flex-col items-center justify-center\";\n\n  const { user } = useAuth();\n\n  const { room } = useRoomContext();\n\n  const participants = room?.participants ?? [];\n\n  const updatedMyUser = participants?.find(\n    (x) => x?.username === user?.username\n  );\n\n  const targetUser = participants?.find((x) => x?.username === username);\n\n  const userFullName = getUserFullname(targetUser);\n\n  let trackContent = null;\n\n  if (isTrackReference(trackReference)) {\n    //Default state\n    trackContent = (\n      //@ts-ignore\n      <AudioTrack\n        trackRef={trackReference}\n        onSubscriptionStatusChanged={handleSubscribe}\n      />\n    );\n\n    if (\n      trackReference.publication?.kind === \"video\" &&\n      trackReference.source === Track.Source.Camera\n    ) {\n      trackContent = (\n        //@ts-ignore\n        <VideoTrack\n          trackRef={trackReference}\n          onSubscriptionStatusChanged={handleSubscribe}\n          manageSubscription={autoManageSubscription}\n        />\n      );\n    }\n  }\n\n  let showAvatar = true;\n\n  //I heet the circles? checking\n  const { meet } = doCirclesMeet(updatedMyUser, targetUser);\n\n  if (!isMuted && trackRef?.source === Track.Source.Camera && meet)\n    showAvatar = false;\n\n  //Scale down the user profile if user isn't in user's area\n  if (!meet) clss += ` scale-[0.6]`;\n\n  //Highlight user circle in different states\n  if (isSpeaking && meet) {\n    clss += ` bg-green-700`;\n  }\n\n  if (!isSpeaking) {\n    clss += ` bg-black/10`;\n  }\n\n  if (!meet) {\n    clss += ` bg-gray-600`;\n  }\n\n  const { quality } = useConnectionQualityIndicator({\n    participant: trackReference.participant,\n  });\n\n  let finalTitle = userFullName;\n\n  if (quality === ConnectionQuality.Lost || quality === ConnectionQuality.Poor)\n    finalTitle = \"Poor connection!\";\n\n  return (\n    <CotopiaTooltip title={finalTitle}>\n      <ParticipantDetails\n        roomId={room?.id as number}\n        user={targetUser as WorkspaceUserType | UserMinimalType}\n      >\n        <>\n          <VoiceAreaHearing isDragging={isDragging} />\n          <div className={clss}>\n            <div className='relative w-[86px] h-[86px] rounded-full flex flex-col items-center justify-center'>\n              {showAvatar && (\n                <CotopiaAvatar\n                  className='absolute top-0 left-0 w-full h-full z-[1]'\n                  src={targetUser?.avatar?.url ?? \"\"}\n                  title={userFullName?.[0] ?? livekitIdentity?.[0]}\n                />\n              )}\n              <div className={``}>\n                <div\n                  ref={ref}\n                  style={{ position: \"relative\" }}\n                  {...elementProps}\n                >\n                  <TrackRefContextIfNeeded trackRef={trackReference}>\n                    <ParticipantContextIfNeeded\n                      participant={trackReference.participant}\n                    >\n                      {children ?? <>{trackContent}</>}\n                    </ParticipantContextIfNeeded>\n                  </TrackRefContextIfNeeded>\n                </div>\n              </div>\n            </div>\n            <ActionsRight>\n              <MicButton\n                trackRef={{\n                  participant: trackReference.participant,\n                  source: Track.Source.Microphone,\n                }}\n              />\n            </ActionsRight>\n          </div>\n        </>\n      </ParticipantDetails>\n    </CotopiaTooltip>\n  );\n});\n\ntype Props = {\n  defaultIsDragging: boolean;\n  username: string;\n};\n\nexport default function DraggableCircle({\n  defaultIsDragging,\n  username,\n}: Props) {\n  const { track } = useUserTile();\n\n  return (\n    <SessionWrapper>\n      <ParticipantTile\n        trackRef={track as any}\n        username={username}\n        isDragging={defaultIsDragging}\n      />\n    </SessionWrapper>\n  );\n}\n","import { cn } from \"@/lib/utils\";\nimport { ConnectionQuality } from \"livekit-client\";\nimport { TriangleAlert } from \"lucide-react\";\n\ntype Props = {\n  quality: ConnectionQuality;\n};\nexport default function Layer({ quality }: Props) {\n  if (quality === ConnectionQuality.Unknown) return null;\n  if (quality === ConnectionQuality.Excellent) return null;\n  if (quality === ConnectionQuality.Good) return null;\n\n  let icon = <TriangleAlert size={32} />;\n\n  return (\n    <div\n      className={cn(\n        \"absolute top-0 left-0 w-full h-full rounded-full bg-yellow-500/40 text-yellow-700 z-[1000] flex items-center justify-center\"\n      )}\n    >\n      {icon}\n    </div>\n  );\n}\n","import { ConnectionQuality } from \"livekit-client\";\nimport { ReactNode } from \"react\";\nimport Layer from \"./layer\";\n\ntype Props = {\n  quality: ConnectionQuality;\n  children: ReactNode;\n};\nexport default function WithConnectionQuality({ children, quality }: Props) {\n  return (\n    <div className='relative'>\n      <Layer quality={quality} />\n      {children}\n    </div>\n  );\n}\n","\"use client\";\n\nimport {\n  ParticipantContext,\n  ParticipantTileProps,\n  TrackRefContext,\n  TrackReferenceOrPlaceholder,\n  useConnectionQualityIndicator,\n  useMaybeParticipantContext,\n  useMaybeTrackRefContext,\n} from \"@livekit/components-react\";\nimport { createContext, useContext, useMemo } from \"react\";\nimport { TrackReferenceType } from \"@/types/track-reference\";\nimport { ConnectionQuality, Participant } from \"livekit-client\";\nimport DraggableCircle from \"./draggable-circle\";\nimport WithConnectionQuality from \"./with-connection-quality\";\n\nfunction SpacialParticipantContextIfNeeded(\n  props: React.PropsWithChildren<{\n    participant?: Participant;\n  }>\n) {\n  const hasContext = !!useMaybeParticipantContext();\n\n  return props.participant && !hasContext ? (\n    <ParticipantContext.Provider value={props.participant}>\n      {props.children}\n    </ParticipantContext.Provider>\n  ) : (\n    <>{props.children}</>\n  );\n}\n\nconst SessionContext = createContext<{\n  track?: TrackReferenceType;\n  draggable: boolean;\n}>({\n  track: undefined,\n  draggable: false,\n});\n\nexport const useUserTile = () => useContext(SessionContext);\n\nexport function TrackRefContextIfNeeded(\n  props: React.PropsWithChildren<{\n    trackRef?: TrackReferenceType;\n  }>\n) {\n  const hasContext = !!useMaybeTrackRefContext();\n  return props.trackRef && !hasContext ? (\n    <TrackRefContext.Provider value={props.trackRef as any}>\n      {props.children}\n    </TrackRefContext.Provider>\n  ) : (\n    <>{props.children}</>\n  );\n}\n\ntype Props = {\n  participant?: Participant;\n  track?: TrackReferenceOrPlaceholder;\n  draggable?: boolean;\n  isDragging?: boolean;\n  username: string;\n};\nexport default function UserSession({\n  participant,\n  track,\n  draggable = false,\n  isDragging = false,\n  username,\n}: Props) {\n  const trackRef = track;\n\n  const maybeTrackRef = useMaybeTrackRefContext();\n\n  const trackReference: TrackReferenceType = useMemo(() => {\n    let latestTrack = {\n      participant: trackRef?.participant ?? maybeTrackRef?.participant,\n      source: trackRef?.source ?? maybeTrackRef?.source,\n      publication: trackRef?.publication ?? maybeTrackRef?.publication,\n    };\n\n    return latestTrack;\n  }, [maybeTrackRef, trackRef]);\n\n  const { quality } = useConnectionQualityIndicator({ participant });\n\n  return (\n    <TrackRefContextIfNeeded trackRef={trackReference}>\n      <SpacialParticipantContextIfNeeded\n        participant={participant ?? trackReference?.participant}\n      >\n        <SessionContext.Provider value={{ track: trackReference, draggable }}>\n          <WithConnectionQuality quality={quality}>\n            <DraggableCircle\n              defaultIsDragging={isDragging}\n              username={username}\n            />\n          </WithConnectionQuality>\n        </SessionContext.Provider>\n      </SpacialParticipantContextIfNeeded>\n    </TrackRefContextIfNeeded>\n  );\n}\n","import { useMemo } from \"react\";\nimport { useParticipants, useTracks } from \"@livekit/components-react\";\nimport { RoomEvent, Track } from \"livekit-client\";\nimport UserSession from \"@/routes/private-wrarpper/components/session\";\n\nconst UserNode = (props: any) => {\n  const { data, dragging } = props;\n\n  const tracks = useTracks(\n    [\n      { source: Track.Source.Camera, withPlaceholder: true },\n      { source: Track.Source.ScreenShare, withPlaceholder: false },\n    ],\n    {\n      updateOnlyOn: [\n        RoomEvent.ActiveSpeakersChanged,\n        RoomEvent.Reconnected,\n        RoomEvent.Reconnecting,\n        RoomEvent.MediaDevicesChanged,\n        RoomEvent.LocalTrackPublished,\n        RoomEvent.TrackUnsubscribed,\n      ],\n      onlySubscribed: true,\n    }\n  );\n  const participants = useParticipants();\n\n  const participant = useMemo(() => {\n    return participants.find((x) => x.identity === data.username);\n  }, [participants]);\n\n  const track = useMemo(() => {\n    if (!data?.username) return undefined;\n\n    if (tracks.length === 0) return undefined;\n\n    return tracks.find((x) => x.participant.identity === data.username);\n  }, [tracks, data.username]);\n\n  return (\n    <>\n      <UserSession\n        participant={participant}\n        track={track}\n        draggable={data?.draggable ?? false}\n        isDragging={dragging}\n        username={data?.username ?? \"\"}\n      />\n    </>\n  );\n};\n\nexport default UserNode;\n","import { useEffect } from \"react\";\n\ntype Callback = () => void;\n\nfunction useKeyPress(targetKey: string, callback: Callback) {\n  useEffect(() => {\n    const handleKeyPress = (event: KeyboardEvent) => {\n      if (event.key === targetKey) {\n        callback();\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyPress);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyPress);\n    };\n  }, [targetKey, callback]);\n}\n\nexport default useKeyPress;\n","import { ReactNode, useEffect } from \"react\"\nimport { SquareArrowOutDownRight } from \"lucide-react\"\n\ninterface Props {\n  children: ReactNode\n}\n\nconst ResizableWrapper = ({ children }: Props) => {\n  let bulletClss = \"w-[48px] h-[48px] bg-white shadow-lg rounded-full absolute\"\n\n  let bulletsNode = (\n    <div\n      className={`resizer m-1 z-[2] flex items-center justify-center cursor-nwse-resize right-[-10px] bottom-[-10px]  ${bulletClss}`}\n    >\n      <SquareArrowOutDownRight size={26} />\n    </div>\n  )\n\n  useEffect(() => {\n    const makeResizable = (selector: string) => {\n      const element = document.querySelector(selector) as HTMLElement\n      const resizerNode = document.querySelector(selector + \" .resizer\")\n      if (element === null || resizerNode === null) return\n      const minimum_size = 20\n      let start_width = 0\n      let start_height = 0\n      let start_mouse_x = 0\n      let start_mouse_y = 0\n      let aspect_ratio = 1 // Default aspect ratio\n\n      function resize(e: MouseEvent) {\n        e.preventDefault()\n        e.stopPropagation()\n        if (resizerNode && element) {\n          const delta_x = e.clientX - start_mouse_x\n          const delta_y = e.clientY - start_mouse_y\n\n          const available_delta =\n            Math.abs(delta_x) > Math.abs(delta_y) ? delta_x : delta_y\n          let new_width = start_width + available_delta\n          let new_height = new_width / aspect_ratio\n\n          // Ensure the new dimensions are above the minimum size\n          if (new_width > minimum_size && new_height > minimum_size) {\n            element.style.width = new_width + \"px\"\n            element.style.height = new_height + \"px\"\n          }\n        }\n      }\n      function stopResize() {\n        window.removeEventListener(\"mousemove\", resize)\n      }\n      resizerNode.addEventListener(\"mousedown\", function (e: any) {\n        e.preventDefault()\n        e.stopPropagation()\n        start_width = parseFloat(\n          getComputedStyle(element, null)\n            .getPropertyValue(\"width\")\n            .replace(\"px\", \"\")\n        )\n        start_height = parseFloat(\n          getComputedStyle(element, null)\n            .getPropertyValue(\"height\")\n            .replace(\"px\", \"\")\n        )\n        aspect_ratio = start_width / start_height // Calculate the aspect ratio\n\n        start_mouse_x = e.clientX\n        start_mouse_y = e.clientY\n        window.addEventListener(\"mousemove\", resize)\n        window.addEventListener(\"mouseup\", stopResize)\n      })\n    }\n    makeResizable(\".resizable\")\n  }, [])\n\n  return (\n    <div className=\"resizable relative [&_.resizer]:opacity-0 [&_.resizer]:hover:opacity-100\">\n      {bulletsNode}\n      {children}\n    </div>\n  )\n}\n\nexport default ResizableWrapper\n","import CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport { TrackReference, VideoTrack } from \"@livekit/components-react\";\nimport { Expand, Maximize2, Minimize, Minimize2, X } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { dispatch } from \"use-bus\";\nimport { useRoomContext } from \"../../room-context\";\nimport useKeyPress from \"@/hooks/use-key-press\";\nimport { createPortal } from \"react-dom\";\nimport ResizableWrapper from \"@/components/shared/resizable-wrapper\";\nimport useAuth from \"@/hooks/auth\";\nimport { doCirclesMeet } from \"../../sessions/room-audio-renderer\";\nimport { __BUS } from \"@/const/bus\";\n\ntype Props = {\n  track: TrackReference;\n};\nexport default function ScreenShareCard({ track }: Props) {\n  const { room } = useRoomContext();\n\n  const { user } = useAuth();\n\n  const [isFullScreen, setIsFullScreen] = useState(false);\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  let clss =\n    \"w-[400px] h-[160px] relative transition-all [&_.actions]:hover:opacity-100 [&_.actions]:hover:visible\";\n\n  if (isFullScreen) {\n    clss += ` !fixed bg-black !w-screen !h-screen top-0 left-0 bottom-0 right-0 z-[1000] [&_video]:w-full [&_video]:h-full`;\n  } else if (isExpanded) {\n    clss += ` fixed !w-[1200px] !h-[480px]`;\n  }\n\n  const liveKitIdentity = track?.participant?.identity;\n\n  const targetUser = room?.participants?.find(\n    (a) => a.username === liveKitIdentity\n  );\n\n  const myTargetUser = room?.participants?.find(\n    (a) => a.username === user?.username\n  );\n\n  const myScreenShare = liveKitIdentity === user?.username;\n\n  const { meet } = doCirclesMeet(myTargetUser, targetUser);\n\n  const handleStopShareScreen = () => dispatch(__BUS.stopMyScreenSharing);\n\n  useKeyPress(\"Escape\", () => setIsFullScreen(false));\n\n  if (!meet) return null;\n\n  //@ts-ignore\n  const videoContent = <VideoTrack trackRef={track} />;\n\n  let content = (\n    <div className={clss}>\n      <div className='actions absolute top-4 left-4 flex flex-row items-center gap-x-2 opacity-0 invisible transition-all'>\n        <CotopiaIconButton\n          className='text-black/60 z-10'\n          onClick={() => setIsFullScreen((prev) => !prev)}\n        >\n          {isFullScreen ? <Minimize2 /> : <Maximize2 />}\n        </CotopiaIconButton>\n        <CotopiaIconButton\n          className='text-black/60 z-10'\n          onClick={() => setIsExpanded((prev) => !prev)}\n        >\n          {isExpanded ? <Minimize /> : <Expand />}\n        </CotopiaIconButton>\n        {!!myScreenShare && (\n          <CotopiaIconButton\n            className='text-black/60 z-10'\n            onClick={handleStopShareScreen}\n          >\n            <X />\n          </CotopiaIconButton>\n        )}\n      </div>\n      {!isFullScreen && !isExpanded ? (\n        <ResizableWrapper>\n          <div className=' rounded-lg overflow-hidden'>{videoContent}</div>\n        </ResizableWrapper>\n      ) : (\n        videoContent\n      )}\n    </div>\n  );\n\n  return isFullScreen\n    ? createPortal(content, document.getElementById(\"portal\") as any)\n    : content;\n}\n","import { ReactNode } from \"react\";\n\ntype Props = {\n  children: ReactNode;\n};\n\nexport default function TopLeftTools({ children }: Props) {\n  return <div className='absolute top-4 left-4 z-10'>{children}</div>;\n}\n","import { ReactNode } from \"react\";\n\ntype Props = {\n  children?: ReactNode;\n};\n\nexport default function ToolbarTopRight({ children }: Props) {\n  return <div className='absolute top-4 right-4 z-10'>{children}</div>;\n}\n","import { ReactNode } from \"react\";\n\ntype Props = {\n  children?: ReactNode;\n};\nexport default function ToolbarBottomLeft({ children }: Props) {\n  return <div className='absolute bottom-4 left-4 z-10'>{children}</div>;\n}\n","import { ReactNode } from \"react\";\n\ntype Props = {\n  children: ReactNode;\n};\nexport default function ToolbarBottomRight({ children }: Props) {\n  return <div className='absolute bottom-4 right-4 z-10'>{children}</div>;\n}\n","import { ReactNode } from \"react\";\n\ntype Props = {\n  children?: ReactNode;\n};\nexport default function ToolbarBottomMiddle({ children }: Props) {\n  return (\n    <div className='absolute bottom-4 left-[50%] translate-x-[-50%] z-10'>\n      {children}\n    </div>\n  );\n}\n","import React, { ReactNode } from \"react\";\nimport ToolbarTopLeft from \"./top-left\";\nimport ToolbarTopRight from \"./top-right\";\nimport ToolbarBottomLeft from \"./bottom-left\";\nimport ToolbarBottomRight from \"./bottom-right\";\nimport ToolbarBottomMiddle from \"./bottom-middle\";\nimport { useRoomContext } from \"../room-context\";\n\ntype Props = {\n  topLeft?: ReactNode;\n  topRight?: ReactNode;\n  bottomLeft?: ReactNode;\n  bottomMiddle?: ReactNode;\n  bottomRight?: ReactNode;\n};\n\nexport default function Toolbar({\n  topLeft,\n  topRight,\n  bottomLeft,\n  bottomRight,\n  bottomMiddle,\n}: Props) {\n  const { sidebar } = useRoomContext();\n\n  let clss = \"relative h-screen w-full\";\n\n  // if (sidebar) {\n  //   clss += ` w-[calc(100%-380px)]`;\n  // } else {\n  //   clss += ` w-full`;\n  // }\n\n  return (\n    <div className={clss}>\n      <ToolbarTopLeft>{topLeft}</ToolbarTopLeft>\n      <ToolbarTopRight>{topRight}</ToolbarTopRight>\n      <ToolbarBottomLeft>{bottomLeft}</ToolbarBottomLeft>\n      <ToolbarBottomMiddle>{bottomMiddle}</ToolbarBottomMiddle>\n      <ToolbarBottomRight>{bottomRight}</ToolbarBottomRight>\n    </div>\n  );\n}\n","\"use client\";\n\nimport FullLoading from \"@/components/shared/full-loading\";\nimport Section from \"@/components/shared/section\";\nimport Workspaces from \"@/components/shared/workspaces/workspaces\";\nimport { useApi } from \"@/hooks/swr\";\nimport { FetchDataType } from \"@/services/axios\";\nimport { WorkspaceType } from \"@/types/workspace\";\n\ntype Props = {\n  className?: string;\n};\n\nexport default function WorkspaceList({ className }: Props) {\n  const { data, isLoading } =\n    useApi<FetchDataType<WorkspaceType[]>>(`/workspaces`);\n  const items: WorkspaceType[] = !!data ? data?.data : [];\n\n  let content = <Workspaces items={items} />;\n\n  if (isLoading) content = <FullLoading />;\n\n  return (\n    <div className='flex flex-col gap-y-4'>\n      <div className={`flex flex-col gap-y-4 p-6 ${className ?? \"\"}`}>\n        <Section title='Workspaces'>{content}</Section>\n      </div>\n    </div>\n  );\n}\n","import CotopiaButton from \"@/components/shared-ui/c-button\";\nimport { FullModalBox } from \"@/components/shared/modal-box\";\nimport { Grid2X2 } from \"lucide-react\";\nimport React from \"react\";\nimport Workspaces from \"./workspaces\";\n\nexport default function WorkspaceButton() {\n  return (\n    <FullModalBox\n      trigger={(open) => (\n        <CotopiaButton\n          onClick={open}\n          startIcon={<Grid2X2 />}\n          className='bg-white hover:bg-white text-black rounded-xl'\n        >\n          Workspaces\n        </CotopiaButton>\n      )}\n      className='w-[640px]'\n    >\n      {(open, close) => <Workspaces />}\n    </FullModalBox>\n  );\n}\n","import useKeyPress from \"@/hooks/use-key-press\";\nimport { ReactNode, useRef, useState } from \"react\";\n\ntype Props = {\n  trigger: (open: () => void) => ReactNode;\n  children?: (\n    style: { top: number; left: number; zIndex: number },\n    open: () => void,\n    close: () => void\n  ) => ReactNode;\n  className?: string;\n};\nexport default function PopupBox({ trigger, children, className }: Props) {\n  const triggerRef = useRef<HTMLDivElement>(null);\n\n  const [isOpen, setIsOpen] = useState(false);\n  const handleClose = () => {\n    setIsOpen(false);\n    setTriggerPosition(undefined);\n  };\n\n  useKeyPress(\"Escape\", handleClose);\n\n  const [triggerPosition, setTriggerPosition] = useState<{\n    top: number;\n    left: number;\n    height: number;\n    width: number;\n  }>();\n\n  const handleOpen = () => {\n    if (isOpen) return;\n\n    const triggerRect = triggerRef.current?.getBoundingClientRect();\n\n    const top = triggerRect?.top ?? 0;\n    const left = triggerRect?.left ?? 0;\n    const height = triggerRect?.height ?? 0;\n    const width = triggerRect?.width ?? 0;\n\n    if (top === undefined || left === undefined) return;\n\n    setIsOpen(true);\n    setTriggerPosition({ top, left, height, width });\n  };\n\n  let triggerClss = \"trigger transition-all\";\n  let modalClss = \"modaloverlay transition-all\";\n\n  if (isOpen) triggerClss += ` fixed z-20 scale-[1.05]`;\n  if (isOpen)\n    modalClss += ` fixed z-10 top-0 left-0 w-screen h-screen bg-black/50 backdrop-blur-sm`;\n\n  return (\n    <>\n      {!!isOpen && (\n        <div\n          className='placeholder-trigger'\n          style={{ ...triggerPosition }}\n        ></div>\n      )}\n      <div\n        className={triggerClss}\n        style={triggerPosition ? triggerPosition : {}}\n        ref={triggerRef}\n      >\n        {trigger(handleOpen)}\n      </div>\n      {isOpen && <div className={modalClss} onClick={handleClose}></div>}\n      {!!children &&\n        isOpen &&\n        children(\n          {\n            top: (triggerPosition?.top ?? 0) + (triggerPosition?.height ?? 0),\n            left: triggerPosition?.left,\n            zIndex: 21,\n          } as {\n            top: number;\n            left: number;\n            zIndex: 21;\n          },\n          handleOpen,\n          handleClose\n        )}\n    </>\n  );\n}\n","\"use client\";\n\nimport CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport { CircleMinus, Minimize } from \"lucide-react\";\nimport { ReactNode } from \"react\";\nimport BoxHolder from \"../../box-holder\";\n\ntype Props = {\n  children: ReactNode;\n  onClose: () => void;\n  top: number;\n  left: number;\n  zIndex?: number;\n  width?: number;\n  title: string;\n};\nexport default function PopupBoxChild({\n  children,\n  onClose,\n  top,\n  left,\n  zIndex,\n  width = 300,\n  title,\n}: Props) {\n  return (\n    <div\n      className='bg-background rounded-lg p-4 fixed mt-4'\n      style={{\n        width,\n        top: top,\n        left: left,\n        zIndex: zIndex ?? 100,\n      }}\n    >\n      <BoxHolder title={title} onClose={onClose}>\n        {children}\n      </BoxHolder>\n    </div>\n  );\n}\n","import CotopiaButton from \"@/components/shared-ui/c-button\";\nimport { FullModalBox } from \"@/components/shared/modal-box\";\nimport { Plus } from \"lucide-react\";\nimport React from \"react\";\nimport AddScheduleContent from \"./content\";\n\ntype Props = {\n  onDelete: () => void;\n  onCreated: () => void;\n};\n\nexport default function AddScheduleButton({ onDelete, onCreated }: Props) {\n  return (\n    <FullModalBox\n      trigger={(open) => (\n        <CotopiaButton startIcon={<Plus />} onClick={open}>\n          Add Schedule\n        </CotopiaButton>\n      )}\n      className='w-[640px]'\n    >\n      {(open, close) => (\n        <AddScheduleContent\n          onClose={close}\n          onCreated={() => {\n            if (onCreated) onCreated();\n            close();\n          }}\n        />\n      )}\n    </FullModalBox>\n  );\n}\n","import { useApi } from \"@/hooks/swr\";\nimport AddScheduleButton from \"../add-schedule\";\nimport { ScheduleType } from \"@/types/calendar\";\nimport FullLoading from \"@/components/shared/full-loading\";\nimport Schedules from \"@/components/shared/schedules\";\nimport { useEffect } from \"react\";\nimport { FetchDataType } from \"@/services/axios\";\n\ntype Props = {\n  onGetMySchedules?: (schedules: ScheduleType[]) => void;\n};\n\nexport default function ShapesHandler({ onGetMySchedules }: Props) {\n  const { data, isLoading, mutate } =\n    useApi<FetchDataType<ScheduleType[]>>(`/users/me/schedules`);\n\n  const schedules = data !== undefined ? data?.data : [];\n\n  useEffect(() => {\n    if (onGetMySchedules) onGetMySchedules(schedules);\n  }, [onGetMySchedules, schedules]);\n\n  let content = null;\n\n  if (schedules.length > 0)\n    content = (\n      <Schedules justView={false} items={schedules} onDelete={mutate} />\n    );\n\n  if (isLoading || data === undefined) return <FullLoading />;\n\n  return (\n    <div className='flex flex-col gap-y-2 items-end'>\n      {content}\n      <AddScheduleButton onDelete={mutate} onCreated={mutate} />\n    </div>\n  );\n}\n","import CotopiaButton from \"@/components/shared-ui/c-button\";\nimport PopupBox from \"@/components/shared/popup-box\";\nimport PopupBoxChild from \"@/components/shared/popup-box/child\";\nimport { CalendarDays } from \"lucide-react\";\nimport React, { useCallback, useMemo, useState } from \"react\";\nimport ShapesHandler from \"./shapes/handler\";\nimport { ScheduleType } from \"@/types/calendar\";\nimport { estimateTotalHoursBySchedules } from \"@/lib/utils\";\n\nexport default function ScheduleButton() {\n  const [myTotalSchedules, setMyTotalSchedules] = useState<ScheduleType[]>([]);\n  const onGetMySchedules = useCallback((schedules: ScheduleType[]) => {\n    setMyTotalSchedules(schedules);\n  }, []);\n\n  const totalHours = useMemo(() => {\n    return estimateTotalHoursBySchedules(myTotalSchedules);\n  }, [myTotalSchedules]);\n\n  return (\n    <PopupBox\n      trigger={(open) => (\n        <CotopiaButton\n          onClick={open}\n          startIcon={<CalendarDays />}\n          className='bg-white hover:bg-white text-black rounded-xl'\n        >\n          Schedule\n        </CotopiaButton>\n      )}\n      className='w-[551px]'\n    >\n      {(triggerPosition, open, close) => (\n        <PopupBoxChild\n          top={triggerPosition.top}\n          left={triggerPosition.left}\n          zIndex={triggerPosition.zIndex}\n          onClose={close}\n          title={`Schedule (${totalHours ?? 0}h) per week`}\n          width={400}\n        >\n          <ShapesHandler onGetMySchedules={onGetMySchedules} />\n        </PopupBoxChild>\n      )}\n    </PopupBox>\n  );\n}\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","\"use client\"\n\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown\"\nimport React, { useCallback, useEffect, useRef, useState } from \"react\"\nimport CotopiaButton from \"../c-button\"\nimport { ChevronDown } from \"lucide-react\"\n\nexport type DropdownItemType = { title: string; value: string }\ninterface Props {\n  items: DropdownItemType[]\n  onSelect?: (item: DropdownItemType) => void\n  defaultValue?: string\n  className?: string\n}\n\nconst CotopiaDropdown = ({\n  items,\n  onSelect,\n  defaultValue,\n  className = \" \",\n}: Props) => {\n  const [value, setValue] = useState(\"Choose\")\n\n  const triggerRef = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    if (defaultValue !== undefined) setValue(defaultValue)\n  }, [defaultValue])\n\n  const selectItemHandler = useCallback(\n    (item: DropdownItemType) => {\n      setValue(item.title)\n      if (onSelect) onSelect(item)\n    },\n    [onSelect]\n  )\n\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger className=\"border rounded-md  w-full\">\n        <div\n          ref={triggerRef}\n          className=\"flex w-full p-2 px-4 items-center justify-between\"\n        >\n          <span>{value}</span>\n          <ChevronDown size={16} />\n        </div>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent\n        style={{\n          width: triggerRef?.current ? triggerRef.current?.clientWidth : \"100%\",\n        }}\n        className={`z-[10000] ${className}`}\n      >\n        <div className=\"flex flex-col gap-y-2\">\n          {items.map((item, key) => {\n            return (\n              <DropdownMenuItem\n                className=\"cursor-pointer\"\n                onSelect={() => selectItemHandler(item)}\n                key={key + 1}\n              >\n                {item.title}\n              </DropdownMenuItem>\n            )\n          })}\n        </div>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  )\n}\n\nexport default CotopiaDropdown\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport interface TextareaProps\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","import { Textarea, TextareaProps } from \"@/components/ui/textarea\";\n\ntype Props = TextareaProps & {\n  label?: string;\n  helperText?: string | boolean;\n  hasError?: boolean;\n  required?: boolean;\n};\n\nexport default function CotopiaTextarea({\n  label,\n  helperText,\n  hasError,\n  required = false,\n  ...rest\n}: Props) {\n  let inputClasss = rest?.className ?? \"\";\n  let helperTextClss = \"text-sm font-normal text-black/60\";\n\n  if (hasError) {\n    inputClasss += ` border !ring-red-600 border-red-600`;\n    helperTextClss += ` text-red-600`;\n  }\n\n  return (\n    <div className='flex flex-col gap-y-2 w-full'>\n      {label && (\n        <div className='flex flex-row items-center gap-x-1'>\n          <strong className='font-semibold text-black/[.87] text-base'>\n            {label}\n          </strong>\n          {!!required && <span className='text-red-500'>*</span>}\n        </div>\n      )}\n      <Textarea {...rest} className={inputClasss} />\n      {helperText && (\n        <span data-testid='hint-text' className={helperTextClss}>\n          {helperText}\n        </span>\n      )}\n    </div>\n  );\n}\n","import CotopiaButton from \"@/components/shared-ui/c-button\";\nimport useLoading from \"@/hooks/use-loading\";\nimport axiosInstance from \"@/services/axios\";\nimport { Trash } from \"lucide-react\";\nimport { toast } from \"sonner\";\n\ninterface Props {\n  onDelete?: () => void;\n  jobId: number;\n}\n\nconst DeleteJobHandler = ({ jobId, onDelete }: Props) => {\n  const { startLoading, stopLoading, isLoading } = useLoading();\n\n  const handleDelete = () => {\n    startLoading();\n    axiosInstance\n      .delete(`/jobs/${jobId}`)\n      .then((res) => {\n        toast.success(\"Job has been deleted\");\n        if (onDelete) onDelete();\n        stopLoading();\n      })\n      .catch(() => {\n        stopLoading();\n      });\n  };\n\n  return (\n    <CotopiaButton\n      onClick={handleDelete}\n      startIcon={<Trash size={16} />}\n      className='w-full !border-red-500 !text-red-500'\n      variant={\"outline\"}\n      loading={isLoading}\n    >\n      {`Delete job`}\n    </CotopiaButton>\n  );\n};\n\nexport default DeleteJobHandler;\n","import CotopiaButton from \"@/components/shared-ui/c-button\";\nimport CotopiaDropdown from \"@/components/shared-ui/c-dropdown\";\nimport CotopiaInput from \"@/components/shared-ui/c-input\";\nimport CotopiaTextarea from \"@/components/shared-ui/c-textarea\";\nimport TitleEl from \"@/components/shared/title-el\";\nimport useLoading from \"@/hooks/use-loading\";\nimport { JobType } from \"@/types/job\";\nimport { useFormik } from \"formik\";\nimport { Save } from \"lucide-react\";\nimport { toast } from \"sonner\";\nimport * as Yup from \"yup\";\nimport DeleteJobHandler from \"../delete-job\";\nimport axiosInstance from \"@/services/axios\";\n\ninterface Props {\n  onClose: () => void;\n  defaultValue?: JobType;\n  onDelete?: () => void;\n  onCreated?: () => void;\n  workspaceId?: string;\n}\n\nconst dropdownItems = [\n  { title: \"In Progress\", value: \"in_progress\" },\n  { title: \"Completed\", value: \"completed\" },\n  { title: \"Paused\", value: \"paused\" },\n  { title: \"Started\", value: \"started\" },\n];\n\nconst ManageJobContent = ({\n  defaultValue,\n  workspaceId,\n  onCreated,\n  onDelete,\n  onClose,\n}: Props) => {\n  const isEdit = defaultValue !== undefined;\n  const { isLoading, stopLoading, startLoading } = useLoading();\n  const {\n    errors,\n    getFieldProps,\n    handleSubmit,\n    values,\n    setFieldValue,\n    touched,\n  } = useFormik<{\n    title: string;\n    description: string;\n    status: string;\n    estimate?: number;\n  }>({\n    enableReinitialize: true,\n    initialValues: {\n      title: defaultValue ? defaultValue.title : \"\",\n      description: defaultValue ? defaultValue.description : \"\",\n      status: defaultValue ? defaultValue.status : \"\",\n      estimate: defaultValue ? defaultValue.estimate : undefined,\n    },\n    validationSchema: Yup.object().shape({\n      title: Yup.string().required(\"please enter job title\"),\n    }),\n    onSubmit: async (values) => {\n      const { ...rest } = values;\n\n      try {\n        let payload: { [key: string]: string | number | undefined } = {\n          ...rest,\n          workspace_id: workspaceId,\n        };\n\n        if (!isEdit) payload[\"status\"] = \"in_progress\";\n        startLoading();\n        await axiosInstance({\n          url: isEdit ? `/jobs/${defaultValue.id}` : `/jobs`,\n          method: isEdit ? \"PUT\" : \"POST\",\n          data: payload,\n        });\n        toast.success(\n          isEdit\n            ? \"Job has been updated successfully\"\n            : \"Job has been created successfully\"\n        );\n        if (onCreated) onCreated();\n        stopLoading();\n      } catch (error) {\n        stopLoading();\n      }\n    },\n  });\n\n  const isSubmitDisabled = !values.title;\n\n  return (\n    <form onSubmit={handleSubmit} className='flex flex-col gap-y-5 px-4'>\n      <TitleEl title='Title'>\n        <CotopiaInput\n          {...getFieldProps(\"title\")}\n          hasError={!!touched.title && !!errors.title}\n          helperText={!!touched.title && errors.title}\n          placeholder='Enter Job Title'\n        />\n      </TitleEl>\n      <TitleEl title='Estimate Time (Hours)'>\n        <div className='flex items-center gap-x-4 justify-between'>\n          <CotopiaInput\n            {...getFieldProps(\"estimate\")}\n            hasError={!!touched.estimate && !!errors.estimate}\n            helperText={!!touched.estimate && errors.estimate}\n            placeholder='Estimate time'\n          />\n        </div>\n      </TitleEl>\n\n      {isEdit && (\n        <TitleEl title='Status'>\n          <CotopiaDropdown\n            onSelect={(item) => setFieldValue(\"status\", item.value)}\n            defaultValue={\n              dropdownItems.find((x) => x.value === values?.status)?.title\n            }\n            items={dropdownItems}\n          />\n        </TitleEl>\n      )}\n\n      <TitleEl title='Description'>\n        <CotopiaTextarea\n          {...getFieldProps(\"description\")}\n          placeholder='Enter job Description'\n          rows={5}\n          className='resize-none'\n        />\n      </TitleEl>\n      <div className='flex flex-row justify-end gap-x-2'>\n        <CotopiaButton variant={\"outline\"} className='w-full' onClick={onClose}>\n          Close\n        </CotopiaButton>\n        {isEdit && (\n          <DeleteJobHandler jobId={defaultValue.id} onDelete={onDelete} />\n        )}\n        <CotopiaButton\n          type='submit'\n          className='w-full'\n          startIcon={<Save size={16} />}\n          loading={isLoading}\n          disabled={isSubmitDisabled}\n        >\n          {`${isEdit ? \"Update\" : \"Create\"} Job`}\n        </CotopiaButton>\n      </div>\n    </form>\n  );\n};\n\nexport default ManageJobContent;\n","import CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport CotopiaTooltip from \"@/components/shared-ui/c-tooltip\";\nimport { FullModalBox } from \"@/components/shared/modal-box\";\nimport { Edit } from \"lucide-react\";\nimport { JobType } from \"@/types/job\";\nimport ManageJobContent from \"../../../add-job/content\";\n\ntype Props = {\n  job: JobType;\n  fetchAgain?: () => void;\n};\nexport default function EditJobButton({ job, fetchAgain }: Props) {\n  return (\n    <FullModalBox\n      trigger={(open) => (\n        <CotopiaTooltip title='Edit Job'>\n          <CotopiaIconButton\n            onClick={open}\n            className='text-black/60 hover:text-black w-8 h-8'\n          >\n            <Edit size={16} />\n          </CotopiaIconButton>\n        </CotopiaTooltip>\n      )}\n      className='w-[440px]'\n    >\n      {(open, close) => (\n        <ManageJobContent\n          onClose={close}\n          defaultValue={job}\n          onCreated={() => {\n            if (fetchAgain) fetchAgain();\n            close();\n          }}\n          onDelete={() => {\n            if (fetchAgain) fetchAgain();\n            close();\n          }}\n        />\n      )}\n    </FullModalBox>\n  );\n}\n","export type StatusBoxVariant =\n  | \"success\"\n  | \"info\"\n  | \"error\"\n  | \"warning\"\n  | \"default\"\n\ntype Props = {\n  variant: StatusBoxVariant\n  label: string\n  alpha?: string\n}\nexport default function StatusBox({\n  variant = \"info\",\n  label,\n  alpha = \"0.1\",\n}: Props) {\n  let bgColor = \"rgba(0,0,0,1)\"\n  let textColor = `rgba(0,0,0,${alpha})`\n\n  switch (variant) {\n    case \"success\":\n      textColor = \"rgba(56,142,60,1)\"\n      bgColor = `rgba(56,142,60,${alpha})`\n      break\n    case \"info\":\n      textColor = \"rgba(2,136,209,1)\"\n      bgColor = `rgba(2,136,209,${alpha})`\n      break\n    case \"warning\":\n      textColor = \"rgba(243, 156, 18, 1)\"\n      bgColor = `rgba(243, 156, 18, ${alpha})`\n      break\n    case \"error\":\n      textColor = \"rgba(230,74,25,1)\"\n      bgColor = `rgba(230,74,25,${alpha})`\n      break\n    default:\n    case \"default\":\n      textColor = \"rgba(0,0,0,1)\"\n      bgColor = `rgba(0,0,0,${alpha})`\n  }\n\n  return (\n    <div\n      className={`w-auto inline-flex py-[4px] px-[10px] rounded-[32px] text-[12px] font-medium`}\n      style={{\n        backgroundColor: bgColor,\n        color: textColor,\n      }}\n    >\n      {label}\n    </div>\n  )\n}\n","import { JobStatuType } from \"@/types/job\";\nimport type { StatusBoxVariant } from \"@/components/shared/status-box\";\nimport StatusBox from \"@/components/shared/status-box\";\ninterface Props {\n  status: JobStatuType;\n}\n\nconst JobStatus = ({ status }: Props) => {\n  let statusVariant: StatusBoxVariant = \"default\";\n\n  let label = \"\";\n\n  switch (status) {\n    case \"in_progress\":\n      label = \"In progress\";\n      statusVariant = \"info\";\n      break;\n    case \"paused\":\n      label = \"Paused\";\n      statusVariant = \"warning\";\n      break;\n    case \"completed\":\n      label = \"Completed\";\n      statusVariant = \"success\";\n      break;\n\n    default:\n      break;\n  }\n\n  return <StatusBox variant={statusVariant} label={label} />;\n};\n\nexport default JobStatus;\n","import CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport useLoading from \"@/hooks/use-loading\";\nimport axiosInstance from \"@/services/axios\";\nimport { JobType } from \"@/types/job\";\nimport { PlayCircle } from \"lucide-react\";\nimport { toast } from \"sonner\";\n\ntype Props = {\n  job: JobType;\n  onStart?: () => void;\n};\nexport default function PlayJob({ job, onStart }: Props) {\n  const { startLoading, stopLoading, isLoading } = useLoading();\n\n  const handlePlay = () => {\n    startLoading();\n    axiosInstance\n      .put(`/jobs/${job.id}`, { status: \"in_progress\" })\n      .then((res) => {\n        toast.success(\"Job has been started\");\n        stopLoading();\n        if (onStart) onStart();\n      })\n      .catch(() => {\n        stopLoading();\n      });\n  };\n\n  return (\n    <CotopiaIconButton\n      onClick={handlePlay}\n      disabled={isLoading}\n      className='text-black/60 hover:text-black w-8 h-8'\n    >\n      <PlayCircle className='text-blue-600' size={16} />\n    </CotopiaIconButton>\n  );\n}\n","import CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport useLoading from \"@/hooks/use-loading\";\nimport axiosInstance from \"@/services/axios\";\nimport { JobType } from \"@/types/job\";\nimport { PauseCircle } from \"lucide-react\";\nimport { toast } from \"sonner\";\n\ntype Props = {\n  job: JobType;\n  onPause?: () => void;\n};\nexport default function PauseJob({ job, onPause }: Props) {\n  const { startLoading, stopLoading, isLoading } = useLoading();\n\n  const handlePaused = () => {\n    startLoading();\n    axiosInstance\n      .put(`/jobs/${job.id}`, { status: \"paused\" })\n      .then((res) => {\n        toast.success(\"Job has been stopped\");\n        stopLoading();\n        if (onPause) onPause();\n      })\n      .catch(() => {\n        stopLoading();\n      });\n  };\n\n  return (\n    <CotopiaIconButton\n      onClick={handlePaused}\n      disabled={isLoading}\n      className='text-black/60 hover:text-black w-8 h-8'\n    >\n      <PauseCircle className='text-yellow-600' size={16} />\n    </CotopiaIconButton>\n  );\n}\n","import CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport useLoading from \"@/hooks/use-loading\";\nimport axiosInstance from \"@/services/axios\";\nimport { JobType } from \"@/types/job\";\nimport { Trash } from \"lucide-react\";\nimport { toast } from \"sonner\";\n\ntype Props = {\n  job: JobType;\n  onDelete?: () => void;\n};\nexport default function DeleteJob({ job, onDelete }: Props) {\n  const { startLoading, stopLoading, isLoading } = useLoading();\n\n  const handleDelete = () => {\n    startLoading();\n    axiosInstance\n      .delete(`/jobs/${job.id}`)\n      .then((res) => {\n        toast.success(\"Job has been deleted\");\n        if (onDelete) onDelete();\n        stopLoading();\n      })\n      .catch(() => {\n        stopLoading();\n      });\n  };\n\n  return (\n    <CotopiaIconButton\n      onClick={handleDelete}\n      disabled={isLoading}\n      className='text-black/60 hover:text-black w-8 h-8'\n    >\n      <Trash className='text-red-600' size={16} />\n    </CotopiaIconButton>\n  );\n}\n","import CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport useLoading from \"@/hooks/use-loading\";\nimport axiosInstance from \"@/services/axios\";\nimport { JobType } from \"@/types/job\";\nimport { CheckCircle, Trash } from \"lucide-react\";\nimport { toast } from \"sonner\";\n\ntype Props = {\n  job: JobType;\n  onDone?: () => void;\n};\nexport default function DoneJob({ job, onDone }: Props) {\n  const { startLoading, stopLoading, isLoading } = useLoading();\n\n  const handleDone = () => {\n    startLoading();\n    axiosInstance\n      .put(`/jobs/${job.id}`, { status: \"completed\" })\n      .then((res) => {\n        toast.success(\"Job has been completed\");\n        if (onDone) onDone();\n        stopLoading();\n      })\n      .catch(() => {\n        stopLoading();\n      });\n  };\n\n  return (\n    <CotopiaIconButton\n      onClick={handleDone}\n      disabled={isLoading}\n      className='text-black/60 hover:text-black w-8 h-8'\n    >\n      <CheckCircle className='text-green-600' size={16} />\n    </CotopiaIconButton>\n  );\n}\n","import { JobType } from \"@/types/job\";\nimport PlayJob from \"./play\";\nimport PauseJob from \"./pause\";\nimport DeleteJob from \"./delete\";\nimport DoneJob from \"./done\";\n\ntype Props = {\n  job: JobType;\n  onDelete?: () => void;\n  onStart?: () => void;\n  onPause?: () => void;\n  onDone?: () => void;\n};\nexport default function JobActions({\n  job,\n  onPause,\n  onDelete,\n  onStart,\n  onDone,\n}: Props) {\n  return (\n    <div className='flex flex-row items-center'>\n      {job.status === \"paused\" && <PlayJob onStart={onStart} job={job} />}\n      {job.status === \"in_progress\" && <PauseJob onPause={onPause} job={job} />}\n      <DeleteJob job={job} onDelete={onDelete} />\n      <DoneJob job={job} onDone={onDone} />\n    </div>\n  );\n}\n","\"use client\";\nimport { JobType } from \"@/types/job\";\nimport EditJobButton from \"./edit\";\nimport { limitChar } from \"@/lib/utils\";\nimport TimeOverShower from \"./time-over-shower\";\nimport JobStatus from \"./job-status\";\nimport JobActions from \"./job-actions\";\n\ninterface Props {\n  item: JobType;\n  mutate?: () => void;\n}\n\nconst JobItem = ({ item, mutate }: Props) => {\n  return (\n    <div className='flex flex-col gap-y-2 items-start w-full p-4 border rounded-md shadow-md'>\n      <div className='flex w-full justify-between flex-row items-center gap-x-2'>\n        <strong className='italic text-base text-black/[0.78]'>\n          {item.title}\n        </strong>\n        <div className='flex flex-row items-center'>\n          <JobActions\n            job={item}\n            onPause={mutate}\n            onStart={mutate}\n            onDelete={mutate}\n            onDone={mutate}\n          />\n          <EditJobButton job={item} fetchAgain={mutate} />\n        </div>\n      </div>\n      <p className='text-sm text-black/60'>\n        {limitChar(item.description, 100)}\n      </p>\n      <div className='flex w-full items-center justify-between mt-2 '>\n        <JobStatus status={item.status} />\n        {/* <TimeOverShower date={item.end_at} /> */}\n      </div>\n    </div>\n  );\n};\n\nexport default JobItem;\n","import CotopiaButton from \"@/components/shared-ui/c-button\"\nimport { FullModalBox } from \"@/components/shared/modal-box\"\nimport { Plus } from \"lucide-react\"\nimport ManageJobContent from \"./content\"\n\ninterface Props {\n  onDelete?: () => void\n  onCreated?: () => void\n  workspaceId?: string\n}\n\nconst AddJobHandler = ({ onCreated, workspaceId }: Props) => {\n  if (workspaceId === undefined) return null\n  return (\n    <FullModalBox\n      trigger={(open) => (\n        <CotopiaButton startIcon={<Plus />} onClick={open}>\n          Add Job\n        </CotopiaButton>\n      )}\n      className=\"w-[450px]\"\n    >\n      {(open, close) => {\n        return (\n          <ManageJobContent\n            workspaceId={workspaceId}\n            onClose={close}\n            onCreated={() => {\n              if (onCreated) onCreated()\n              close()\n            }}\n          />\n        )\n      }}\n    </FullModalBox>\n  )\n}\n\nexport default AddJobHandler\n","\"use client\";\n\nimport { useRoomContext } from \"@/components/shared/room/room-context\";\nimport { useApi } from \"@/hooks/swr\";\nimport JobItem from \"./job-item\";\nimport FullLoading from \"@/components/shared/full-loading\";\nimport AddJobHandler from \"../add-job\";\nimport { urlWithQueryParams } from \"@/lib/utils\";\nimport { FetchDataType } from \"@/services/axios\";\n\ninterface Props {}\n\nconst JobList = (props: Props) => {\n  const { workspace_id } = useRoomContext();\n\n  const { data, isLoading, mutate } = useApi<FetchDataType<any>>(\n    urlWithQueryParams(`/users/me/jobs`, { workspace_id }),\n    undefined,\n    { isPaused: () => workspace_id === undefined }\n  );\n\n  let jobItems: any[] = (data && data?.data) ?? [];\n\n  let content = (\n    <div className='flex flex-col w-full gap-y-2 max-h-[350px] py-2 overflow-auto'>\n      {jobItems.map((item, key) => {\n        return <JobItem mutate={mutate} item={item} key={key + 1} />;\n      })}\n    </div>\n  );\n\n  const loading = data === undefined || isLoading;\n\n  if (!loading && jobItems.length === 0)\n    content = (\n      <span className='w-full font-medium text-center py-4'>\n        There is no job to show!\n      </span>\n    );\n\n  if (loading) return <FullLoading />;\n\n  return (\n    <div className='flex w-full flex-col gap-y-6 items-end'>\n      {content}\n      <AddJobHandler workspaceId={workspace_id} onCreated={mutate} />\n    </div>\n  );\n};\n\nexport default JobList;\n","import CotopiaButton from \"@/components/shared-ui/c-button\"\nimport PopupBox from \"@/components/shared/popup-box\"\nimport PopupBoxChild from \"@/components/shared/popup-box/child\"\nimport { Briefcase } from \"lucide-react\"\nimport React from \"react\"\nimport JobList from \"./shapes/job-list\"\n\nexport default function JobButton() {\n  return (\n    <PopupBox\n      trigger={(open) => (\n        <CotopiaButton\n          onClick={open}\n          startIcon={<Briefcase size={22} />}\n          className=\"bg-white hover:bg-white text-black rounded-xl\"\n        >\n          Jobs\n        </CotopiaButton>\n      )}\n    >\n      {(triggerPosition, open, close) => (\n        <PopupBoxChild\n          onClose={close}\n          title=\"Jobs\"\n          width={400}\n          zIndex={triggerPosition.zIndex}\n          top={triggerPosition.top}\n          left={triggerPosition.left}\n        >\n          <JobList />\n        </PopupBoxChild>\n      )}\n    </PopupBox>\n  )\n}\n","import WorkspaceButton from \"./workspace-button\"\nimport ScheduleButton from \"./schedule-button\"\nimport JobButton from \"./job-button\"\n\nexport default function TopLeftTools() {\n  return (\n    <div className=\"flex flex-row items-center gap-x-2\">\n      <WorkspaceButton />\n      <ScheduleButton />\n      <JobButton />\n    </div>\n  )\n}\n","import {\n  Dialog,\n  DialogContent,\n  DialogOverlay,\n  DialogTrigger,\n} from \"@/components/ui/dialog\";\nimport { ReactNode, useState } from \"react\";\nimport CotopiaPromptContent, { CotopiaPromptType } from \"./content\";\nimport useBus from \"use-bus\";\nimport { __BUS } from \"@/const/bus\";\n\ntype PartiallyOptional<T, K extends keyof T> = Omit<T, K> & Partial<Pick<T, K>>;\n\ntype WithPortalProps = {\n  isPortal?: true;\n  trigger: (open: () => void) => ReactNode;\n};\n\ntype WithoutPortalProps = {\n  isPortal: false;\n  trigger?: (open: () => void) => ReactNode;\n};\n\ntype RemaindPropTypes = {\n  afterDesc?: ReactNode;\n  open?: boolean;\n};\n\ntype Props = RemaindPropTypes &\n  (WithPortalProps | WithoutPortalProps) &\n  PartiallyOptional<CotopiaPromptType, \"onClose\">;\nexport default function CotopiaPrompt({\n  trigger,\n  afterDesc,\n  open = false,\n  isPortal = true,\n  ...rest\n}: Props) {\n  const [isOpen, setIsOpen] = useState(open);\n\n  const handleOpen = () => setIsOpen(true);\n\n  const handleClose = () => {\n    setIsOpen(false);\n    if (rest?.onClose) rest.onClose();\n  };\n\n  const handleSubmit = () => {\n    if (rest?.onSubmit) rest.onSubmit();\n  };\n\n  useBus(__BUS.closePrompt, () => {\n    handleClose();\n  });\n\n  let view = null;\n\n  if (isPortal && !!trigger) {\n    view = (\n      <>\n        <DialogTrigger asChild>{trigger(handleOpen)}</DialogTrigger>\n        <DialogContent className='sm:max-w-[425px] pt-12'>\n          <CotopiaPromptContent\n            {...rest}\n            onSubmit={handleSubmit}\n            onClose={handleClose}\n            afterDesc={afterDesc}\n          />\n        </DialogContent>\n      </>\n    );\n  }\n\n  if (!isPortal) {\n    view = (\n      <>\n        {trigger ? (\n          <DialogTrigger asChild>{trigger(handleOpen)}</DialogTrigger>\n        ) : null}\n        <DialogOverlay className='z-10' onClick={handleClose} />\n        <div className='fixed left-[50%] top-[50%] z-20 w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg'>\n          <CotopiaPromptContent\n            {...rest}\n            onSubmit={handleSubmit}\n            onClose={handleClose}\n          />\n        </div>\n      </>\n    );\n  }\n\n  return (\n    <Dialog open={isOpen} onOpenChange={setIsOpen}>\n      {view}\n    </Dialog>\n  );\n}\n","import CotopiaAvatar from \"@/components/shared-ui/c-avatar\"\nimport { getUserFullname } from \"@/lib/utils\"\nimport { UserMinimalType, UserType } from \"@/types/user\"\n\ntype Props = {\n  item: UserMinimalType | UserType\n  onPick?: (item: UserMinimalType) => void\n  isSelected?: boolean\n}\n\nexport default function UserCardItem({ item, onPick, isSelected }: Props) {\n  const userFullname = getUserFullname(item)\n  const username = item?.username\n\n  let clss = \"flex flex-row items-center gap-x-4 px-4 py-2 cursor-pointer\"\n\n  if (isSelected) {\n    clss += ` bg-black/[.06] hover:bg-black/[.03]`\n  } else {\n    clss += ` hover:bg-black/[.03]`\n  }\n\n  return (\n    <div onClick={() => onPick && onPick(item)} className={clss}>\n      <CotopiaAvatar\n        src={item.avatar?.url ?? undefined}\n        title={userFullname?.[0]}\n      />\n      <div className=\"flex items-start flex-col\">\n        <strong>{userFullname}</strong>\n        <span>{username}</span>\n      </div>\n    </div>\n  )\n}\n","import { UserMinimalType } from \"@/types/user\";\nimport UserCardItem from \"./item\";\n\ntype Props = {\n  items: UserMinimalType[];\n  onPick?: (item: UserMinimalType) => void;\n  defaultSelectedId?: number;\n};\nexport default function UserList({ items, onPick, defaultSelectedId }: Props) {\n  if (items.length === 0) return null;\n\n  return (\n    <div className='py-2 flex flex-col overflow-hidden max-h-[300px] overflow-y-auto'>\n      {items.map((user) => (\n        <UserCardItem\n          item={user}\n          key={user.id}\n          onPick={onPick}\n          isSelected={defaultSelectedId === user?.id}\n        />\n      ))}\n    </div>\n  );\n}\n","import { useApi } from \"@/hooks/swr\";\nimport { UserMinimalType } from \"@/types/user\";\nimport UserList from \"./list\";\nimport { ReactNode, useEffect, useState } from \"react\";\nimport CotopiaInput from \"@/components/shared-ui/c-input\";\nimport FullLoading from \"../full-loading\";\nimport { FetchDataType } from \"@/services/axios\";\n\ntype Props = {\n  onPick?: (item: UserMinimalType) => void;\n  afterTitle?: ReactNode;\n  defaultSelectedId?: number;\n};\n\nexport default function UserSelector({\n  onPick,\n  afterTitle,\n  defaultSelectedId,\n}: Props) {\n  const [selected, setSelected] = useState<UserMinimalType>();\n  useEffect(() => {\n    if (defaultSelectedId === undefined) setSelected(undefined);\n  }, [defaultSelectedId]);\n\n  const [search, setSearch] = useState(\"\");\n\n  const { data, isLoading } = useApi<FetchDataType<UserMinimalType[]>>(\n    `/users/search`,\n    {\n      method: \"POST\",\n      data: {\n        search,\n      },\n      key: `/users/search/${search}`,\n      isFetch: search !== \"\",\n    }\n  );\n\n  const items = data !== undefined ? data?.data : [];\n\n  const handlePick = (item: UserMinimalType) => {\n    setSearch(\"\");\n    setSelected(item);\n    if (onPick) onPick(item);\n  };\n\n  let content = null;\n\n  if (items.length > 0)\n    content = (\n      <UserList\n        items={items}\n        onPick={handlePick}\n        defaultSelectedId={defaultSelectedId}\n      />\n    );\n\n  if (items.length === 0 && data !== undefined)\n    content = (\n      <strong className='p-4 shadow-md rounded-lg text-sm'>{`Could not find a Cotopia account ${\n        search ? `matching \"${search}\"` : \"\"\n      }`}</strong>\n    );\n\n  if (isLoading) content = <FullLoading />;\n\n  return (\n    <div className='flex flex-col gap-y-4'>\n      <p className='text-black/60'>Search by username, full name, or email</p>\n      {!!afterTitle && afterTitle}\n      {selected === undefined && (\n        <CotopiaInput\n          placeholder='Find people'\n          onChange={(e) => setSearch(e.target.value)}\n          value={search}\n        />\n      )}\n      {content}\n    </div>\n  );\n}\n","import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","import { UserMinimalType } from \"@/types/user\";\nimport { Alert, AlertDescription, AlertTitle } from \"@/components/ui/alert\";\nimport { Trash, UserIcon } from \"lucide-react\";\nimport { getUserFullname } from \"@/lib/utils\";\nimport CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\n\ntype Props = {\n  user: UserMinimalType;\n  onDelete: () => void;\n};\n\nexport default function SelectedUser({ user, onDelete }: Props) {\n  const userFullName = getUserFullname(user);\n\n  return (\n    <Alert>\n      <UserIcon className='h-4 w-4' />\n      <AlertTitle>{userFullName}</AlertTitle>\n      <AlertDescription>\n        {`You are inviting ${userFullName} to the room.`}\n      </AlertDescription>\n      <CotopiaIconButton className='absolute top-1 right-1' onClick={onDelete}>\n        <Trash className='text-black/60' size={20} />\n      </CotopiaIconButton>\n    </Alert>\n  );\n}\n","import CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport copy from \"copy-to-clipboard\";\nimport { Check, Copy } from \"lucide-react\";\nimport { useState } from \"react\";\n\ntype Props = {\n  code: string;\n};\n\nlet timeout: NodeJS.Timeout;\n\nexport default function CopyBtn({ code }: Props) {\n  const [isCopied, setIsCopied] = useState(false);\n\n  const handleCopy = () => {\n    copy(code);\n    setIsCopied(true);\n    clearTimeout(timeout);\n    timeout = setTimeout(() => {\n      setIsCopied(false);\n    }, 2000);\n  };\n\n  return (\n    <CotopiaIconButton\n      onClick={handleCopy}\n      className='text-white !bg-black !rounded-md'\n    >\n      {!isCopied ? <Copy size={16} /> : <Check size={16} />}\n    </CotopiaIconButton>\n  );\n}\n","import { Button } from \"@/components/ui/button\";\nimport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport CotopiaInput from \"@/components/shared-ui/c-input\";\n\nimport CopyBtn from \"@/components/shared/copy-btn\";\nimport { VARZ } from \"@/const/varz\";\n\ntype Props = {\n  code: string;\n  onCopy: () => void;\n  onCancel: () => void;\n};\nexport function CodePicker({ code, onCopy, onCancel }: Props) {\n  const finalCopyUrl = `${VARZ.domain}/invite/${code}`;\n\n  return (\n    <Dialog open>\n      <DialogContent className='sm:max-w-md [&_.opacity-70]:!hidden'>\n        <DialogHeader>\n          <DialogTitle>Share link</DialogTitle>\n          <DialogDescription>\n            Anyone who has this link will be join to this room.\n          </DialogDescription>\n        </DialogHeader>\n        <div className='flex items-center space-x-2'>\n          <CotopiaInput defaultValue={finalCopyUrl} readOnly />\n          <CopyBtn code={finalCopyUrl} />\n        </div>\n        <DialogFooter className='sm:justify-start'>\n          <DialogClose asChild onClick={onCancel}>\n            <Button type='button' variant='secondary'>\n              Close\n            </Button>\n          </DialogClose>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import CotopiaButton from \"@/components/shared-ui/c-button\";\nimport useLoading from \"@/hooks/use-loading\";\nimport { UserRoundPlus } from \"lucide-react\";\nimport { useRoomContext } from \"../../../room-context\";\nimport CotopiaPrompt from \"@/components/shared-ui/c-prompt\";\nimport UserSelector from \"@/components/shared/user-selector\";\nimport { useState } from \"react\";\nimport { UserMinimalType } from \"@/types/user\";\nimport { toast } from \"sonner\";\nimport SelectedUser from \"./selected-user\";\nimport { InviteType } from \"@/types/invite\";\nimport { CodePicker } from \"./code-picker\";\nimport axiosInstance from \"@/services/axios\";\n\nexport default function InviteButtonTool() {\n  const [selectedUser, setSelectedUser] = useState<UserMinimalType>();\n\n  const { room_id } = useRoomContext();\n  const { startLoading, stopLoading, isLoading } = useLoading();\n\n  const [invite, setInvite] = useState<InviteType>();\n\n  const handleInviteUser = () => {\n    if (room_id === undefined) return;\n\n    if (selectedUser === undefined) {\n      toast.error(\"Please select at least a user to invite\");\n      return;\n    }\n\n    startLoading();\n    axiosInstance\n      .post(`/invites`, {\n        model: \"room\",\n        model_id: room_id,\n        user_id: selectedUser.id,\n      })\n      .then((res) => {\n        setInvite(res.data.data);\n        setSelectedUser(undefined);\n        stopLoading();\n      })\n      .catch((res) => {\n        stopLoading();\n      });\n  };\n\n  return (\n    <>\n      {invite !== undefined && (\n        <CodePicker\n          code={invite.code}\n          onCancel={() => setInvite(undefined)}\n          onCopy={() => {}}\n        />\n      )}\n      {invite === undefined && (\n        <CotopiaPrompt\n          onClose={() => {\n            setInvite(undefined);\n          }}\n          onSubmit={handleInviteUser}\n          title='Invite user'\n          description=''\n          // description='You are inviting user to this room, are you sure?'\n          afterDesc={\n            <>\n              <UserSelector\n                defaultSelectedId={selectedUser?.id}\n                onPick={setSelectedUser}\n                afterTitle={\n                  selectedUser !== undefined && (\n                    <SelectedUser\n                      user={selectedUser}\n                      onDelete={() => setSelectedUser(undefined)}\n                    />\n                  )\n                }\n              />\n            </>\n          }\n          trigger={(open) => (\n            <CotopiaButton\n              onClick={open}\n              loading={isLoading}\n              startIcon={<UserRoundPlus />}\n              className='bg-white hover:bg-white text-black rounded-xl'\n            >\n              Invite\n            </CotopiaButton>\n          )}\n        />\n      )}\n    </>\n  );\n}\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","import { AttachmentFileType } from \"@/types/file\";\n\ntype Props = {\n  image: AttachmentFileType;\n};\n\nexport default function Image({ image }: Props) {\n  return (\n    <div\n      className={`w-full uploader-content rounded-full h-[120px] bg-cover cursor-pointer bg-center`}\n      style={{\n        backgroundImage: `url(${image.url})`,\n      }}\n    ></div>\n  );\n}\n","import { Button } from \"@/components/ui/button\";\nimport { File, Link2 } from \"lucide-react\";\nimport { AttachmentFileType } from \"@/types/file\";\nimport { Link } from \"react-router-dom\";\n\ntype Props = {\n  document: AttachmentFileType;\n};\n\nconst BASE_URL = process.env.NEXT_PUBLIC_API_URL;\n\nexport default function Doc({ document }: Props) {\n  return (\n    <div className='uploader-content w-full h-[120px] rounded-full bg-cover cursor-pointer bg-white/[.05]'>\n      <div className='flex flex-col h-full gap-y-4 items-center justify-center'>\n        <File />\n        <span className='whitespace-pre-wrap w-[70%] text-ellipsis overflow-hidden'>\n          {document.path.slice(0, 5)}\n        </span>\n        <Link to={`${BASE_URL}${document.url}`}>\n          <Button type='button'>\n            <Link2 className='mr-2' size={16} />\n            Open File\n          </Button>\n        </Link>\n      </div>\n    </div>\n  );\n}\n","import { Button } from \"@/components/ui/button\";\nimport { VideoIcon } from \"lucide-react\";\n\nimport { AttachmentFileType } from \"@/types/file\";\nimport { Link } from \"react-router-dom\";\n\ntype Props = {\n  video: AttachmentFileType;\n};\n\nconst BASE_URL = process.env.NEXT_PUBLIC_API_URL;\n\nexport default function Video({ video }: Props) {\n  return (\n    <div className='w-full uploader-content h-[120px] bg-cover rounded-full cursor-pointer bg-white/[.05]'>\n      <div className='flex flex-col h-full gap-y-4 items-center justify-center'>\n        <VideoIcon />\n        <span className='whitespace-pre-wrap w-[70%] text-ellipsis overflow-hidden'>\n          {video.path.slice(0, 5)}\n        </span>\n        <Link to={`${BASE_URL}${video.url}`} target='_blank'>\n          <Button type='button'>Open Video</Button>\n        </Link>\n      </div>\n    </div>\n  );\n}\n","import { AttachmentFileType } from \"@/types/file\";\nimport Image from \"./Image\";\nimport Doc from \"./Doc\";\nimport Video from \"./Video\";\n\ntype Props = {\n  file: AttachmentFileType;\n};\n\nconst imagesFormat = [\n  \"image/webp\",\n  \"image/jpg\",\n  \"image/jpeg\",\n  \"image/png\",\n  \"image/svg+xml\",\n];\nconst videoFormat = [\"video/mp4\", \"video/mpeg\"];\nconst documentFormat = [\n  \"text/plain\",\n  \"application/vnd.openxmlformats-\",\n  \"application/msword\",\n];\n\nexport default function UploaderPreview({ file }: Props) {\n  if (imagesFormat.includes(file.mime_type)) return <Image image={file} />;\n  if (documentFormat.includes(file.mime_type)) return <Doc document={file} />;\n  if (videoFormat.includes(file.mime_type)) return <Video video={file} />;\n\n  return null;\n}\n","\"use client\";\n\nimport { Loader, Plus, Trash, Upload } from \"lucide-react\";\nimport { ChangeEvent, useCallback, useEffect, useState } from \"react\";\nimport { toast } from \"sonner\";\nimport { Progress } from \"@/components/ui/progress\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { urlWithQueryParams } from \"@/lib/utils\";\nimport useLoading from \"@/hooks/use-loading\";\nimport UploaderPreview from \"./preview\";\nimport { AttachmentFileType } from \"@/types/file\";\nimport axiosInstance, { FetchDataType } from \"@/services/axios\";\n\ntype Props = {\n  onUpload?: (item: AttachmentFileType) => void;\n  onUploadList?: (items: AttachmentFileType[]) => void;\n  onDelete?: () => void;\n  defaultMedia?: AttachmentFileType;\n  defaultMedias?: AttachmentFileType[];\n  label?: string;\n  upload_text?: string;\n  isMultiple?: boolean;\n  hasWatermark?: boolean;\n  uploaderClass?: string;\n  resetAfterUpload?: boolean;\n};\nexport default function Uploader({\n  label,\n  defaultMedia,\n  onUpload,\n  onUploadList,\n  onDelete,\n  upload_text,\n  isMultiple,\n  hasWatermark = true,\n  uploaderClass,\n  resetAfterUpload = false,\n}: Props) {\n  const [fileUploaded, setFileUploaded] = useState<AttachmentFileType | null>(\n    null\n  );\n  useEffect(() => {\n    setFileUploaded(defaultMedia ?? null);\n  }, [defaultMedia]);\n  const handleDelete = useCallback(\n    async (e: any) => {\n      e.preventDefault();\n      e.stopPropagation();\n      setFileUploaded(null);\n\n      if (defaultMedia) {\n        try {\n          await axiosInstance.delete(`/files/${defaultMedia.id}`);\n        } catch (e) {}\n      }\n\n      if (onDelete) onDelete();\n    },\n    [onDelete, defaultMedia]\n  );\n\n  const { startLoading, stopLoading, isLoading } = useLoading();\n  const handleUploadFile = async (file: File) => {\n    if (!file) {\n      toast.error(\"Please insert valid file\");\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append(\"file\", file);\n\n    setUploadPercent(1);\n    const res = await axiosInstance<FetchDataType<AttachmentFileType>>({\n      url: urlWithQueryParams(`/files`, {\n        watermark: hasWatermark,\n      }),\n      method: \"POST\",\n      data: formData,\n      onUploadProgress: (progressEvent) => {\n        const progress =\n          (progressEvent.loaded * 100) / (progressEvent?.total ?? 0);\n        setUploadPercent(parseInt(progress.toFixed(2)));\n      },\n    });\n\n    if (!resetAfterUpload) setFileUploaded(res.data.data);\n\n    return res;\n  };\n\n  const [uploadPercent, setUploadPercent] = useState(0);\n  const handleUpload = async (e: ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files === null) return;\n\n    if (e.target.files.length > 1) {\n      //Means it is array\n      startLoading();\n      let files: AttachmentFileType[] = [];\n      try {\n        for (let file of e.target.files) {\n          const res = await handleUploadFile(file);\n          if (res?.data?.data) files = [...files, res?.data?.data];\n        }\n        stopLoading();\n      } catch (e) {\n        stopLoading();\n      }\n\n      if (onUploadList && files.length > 0) {\n        onUploadList(files);\n        toast.success(\"All files uploaded\");\n      }\n      return;\n    }\n\n    const targetFile = e.target.files[0];\n\n    try {\n      const res = await handleUploadFile(targetFile);\n\n      if (onUpload && res) {\n        toast.success(\"File has been uploaded succesfully!\");\n        onUpload(res.data.data);\n      }\n    } catch (e) {}\n  };\n\n  let uploaderContent = (\n    <div\n      className={`uploader-content relative w-full h-[120px] flex flex-col items-center justify-center rounded-full bg-black/[.05] hover:bg-black/10 cursor-pointer ${uploaderClass}`}\n    >\n      <div className='flex flex-col gap-y-4 items-center'>\n        <Upload />\n        {!!upload_text && <span>{upload_text}</span>}\n      </div>\n      <input\n        type='file'\n        className='absolute top-0 left-0 w-full h-full opacity-0 cursor-pointer'\n        onChange={handleUpload}\n        multiple={isMultiple ?? false}\n      />\n    </div>\n  );\n\n  if (fileUploaded && !resetAfterUpload) {\n    uploaderContent = <UploaderPreview file={fileUploaded} />;\n  }\n\n  if (isLoading)\n    uploaderContent = (\n      <div className='uploader-content relative w-full h-[240px] flex flex-col items-center justify-center rounded-md bg-black/[.05]'>\n        <Loader className='animate-spin' />\n      </div>\n    );\n\n  return (\n    <div className='flex flex-col w-full gap-y-2'>\n      {!!label && <strong>{label}</strong>}\n      <div className='relative flex flex-col gap-y-2 w-full'>\n        {fileUploaded && (\n          <Button\n            className='absolute top-2 left-2'\n            size={\"icon\"}\n            onClick={handleDelete}\n            type='button'\n          >\n            <Trash />\n          </Button>\n        )}\n        {uploaderContent}\n        {uploadPercent > 0 && uploadPercent < 100 && (\n          <div className='flex flex-row items-center gap-x-4'>\n            <Progress\n              className='!bg-white/10 [&_.bg-primary]:!bg-white/10 h-[6px]'\n              value={uploadPercent}\n            />\n            <strong className='text-white'>{`${uploadPercent}%`}</strong>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","import Uploader from \"@/components/shared/uploader\";\nimport useAuth from \"@/hooks/auth\";\nimport axiosInstance from \"@/services/axios\";\nimport { AttachmentFileType } from \"@/types/file\";\n\nexport default function UploadAvatar() {\n  const { user } = useAuth();\n\n  const handleUpdateAvatar = (file: AttachmentFileType) => {\n    axiosInstance\n      .put(`/users/update`, {\n        avatar_id: file.id,\n      })\n      .then((res) => {});\n  };\n\n  const handleDeleteAvatar = () => {\n    axiosInstance\n      .put(`/users/update`, {\n        avatar_id: undefined,\n      })\n      .then((res) => {});\n  };\n\n  return (\n    <div className='w-[120px] max-w-full'>\n      <Uploader\n        defaultMedia={user?.avatar ?? undefined}\n        onUpload={handleUpdateAvatar}\n        onDelete={handleDeleteAvatar}\n        label='Avatar'\n      />\n    </div>\n  );\n}\n","import CotopiaButton from \"@/components/shared-ui/c-button\";\nimport CotopiaInput from \"@/components/shared-ui/c-input\";\nimport useAuth from \"@/hooks/auth\";\nimport axiosInstance from \"@/services/axios\";\nimport { useFormik } from \"formik\";\nimport { toast } from \"sonner\";\nimport * as Yup from \"yup\";\n\nexport default function UserDetailForm() {\n  const { user } = useAuth();\n\n  const { isSubmitting, touched, errors, getFieldProps, handleSubmit } =\n    useFormik({\n      enableReinitialize: true,\n      initialValues: {\n        name: user?.name ?? \"\",\n      },\n      validationSchema: Yup.object().shape({\n        name: Yup.string().required(\"Name is required\"),\n      }),\n      onSubmit: (values, actions) => {\n        actions.setSubmitting(true);\n        axiosInstance\n          .put(`/users/update`, {\n            name: values.name,\n          })\n          .then((res) => {\n            actions.setSubmitting(false);\n            toast.success(\"Your information has been updated.\");\n          })\n          .catch((err) => {\n            actions.setSubmitting(false);\n          });\n      },\n    });\n\n  return (\n    <form\n      onSubmit={handleSubmit}\n      className='flex flex-col gap-y-16 items-start'\n    >\n      <div className='flex flex-col gap-y-4'>\n        <div className='flex flex-col gap-y-2'>\n          <strong>You can change your user information here</strong>\n          <p className='text-black/60 text-base'>\n            Be careful, changing information here effects your presence\n            everywhere.\n          </p>\n        </div>\n        <CotopiaInput\n          {...getFieldProps(\"name\")}\n          placeholder='Enter the name'\n          label='Your name'\n          hasError={!!touched.name && !!errors.name}\n          helperText={!!touched.name && !!errors.name && errors.name}\n        />\n      </div>\n      <CotopiaButton\n        loading={isSubmitting}\n        type='submit'\n        className='w-[100px] max-w-full'\n      >\n        Save\n      </CotopiaButton>\n    </form>\n  );\n}\n","import Uploader from \"@/components/shared/uploader\";\nimport React from \"react\";\nimport UploadAvatar from \"./upload-avatar\";\nimport UserDetailForm from \"./form\";\n\nexport default function AdditionalInformation() {\n  return (\n    <div className='flex flex-col gap-y-4 items-start'>\n      <UploadAvatar />\n      <UserDetailForm />\n    </div>\n  );\n}\n","import { Switch } from \"@/components/ui/switch\";\nimport { SwitchProps } from \"@radix-ui/react-switch\";\n\ntype Props = SwitchProps & {\n  title: string;\n};\nexport default function TitleSwitch({ title, ...rest }: Props) {\n  return (\n    <div className='flex flex-row items-center justify-between'>\n      <strong>{title}</strong>\n      <Switch {...rest} />\n    </div>\n  );\n}\n","import TitleSwitch from \"@/components/shared/title-switch\";\nimport useSetting from \"@/hooks/use-setting\";\nimport { useAppDispatch } from \"@/store\";\nimport { toggleSoundSettingAction } from \"@/store/slices/setting-slice\";\n\nexport default function GlobalSettings() {\n  const setting = useSetting();\n  const dispatch = useAppDispatch();\n\n  return (\n    <div className='flex flex-col gap-y-4'>\n      <TitleSwitch\n        title='User join/left has sound'\n        checked={setting.sounds.userJoinLeft}\n        onCheckedChange={() =>\n          dispatch(toggleSoundSettingAction({ key: \"userJoinLeft\" }))\n        }\n      />\n      <TitleSwitch\n        title='Message incoming has sound'\n        checked={setting.sounds.messageIncoming}\n        onCheckedChange={() =>\n          dispatch(toggleSoundSettingAction({ key: \"messageIncoming\" }))\n        }\n      />\n    </div>\n  );\n}\n","import CotopiaButton from \"@/components/shared-ui/c-button\";\nimport { useAppDispatch } from \"@/store\";\nimport { logout } from \"@/store/slices/auth/slice\";\n\nexport default function AccountLogout() {\n  const dispatch = useAppDispatch();\n\n  const handleLogout = () => {\n    dispatch(logout());\n  };\n\n  return (\n    <CotopiaButton\n      onClick={handleLogout}\n      variant={\"destructive\"}\n      className='text-white !px-4'\n    >\n      Logout\n    </CotopiaButton>\n  );\n}\n","import CTabs from \"@/components/shared-ui/c-tabs\";\nimport { Cog, UserCog } from \"lucide-react\";\nimport AdditionalInformation from \"./additional-information\";\nimport GlobalSettings from \"./global\";\nimport AccountLogout from \"@/components/shared/account-logout\";\n\nexport default function UserSettings() {\n  return (\n    <div className='p-6 flex flex-col gap-y-4'>\n      <CTabs\n        title={<AccountLogout />}\n        dividerBetweenContentAndTabs\n        defaultValue={\"additional-information\"}\n        items={[\n          {\n            icon: <UserCog />,\n            content: <AdditionalInformation />,\n            value: \"additional-information\",\n          },\n          {\n            icon: <Cog />,\n            content: <GlobalSettings />,\n            value: \"global-settings\",\n          },\n        ]}\n      />\n    </div>\n  );\n}\n","\"use client\";\n\nimport CotopiaAvatar from \"@/components/shared-ui/c-avatar\";\nimport { FullModalBox } from \"@/components/shared/modal-box\";\nimport { getUserFullname } from \"@/lib/utils\";\nimport UserSettings from \"./settings\";\nimport useAuth from \"@/hooks/auth\";\n\ntype Props = {\n  size?: \"normal\" | \"large\";\n};\n\nexport default function UserActionsAvatarButton({ size = \"large\" }: Props) {\n  const { user } = useAuth();\n\n  if (!user) return null;\n\n  let userFullName = getUserFullname(user);\n\n  let avatarClss = \"cursor-pointer\";\n\n  if (size === \"normal\") {\n    avatarClss += ` w-[32px] h-[32px]`;\n  }\n\n  return (\n    <FullModalBox\n      trigger={(open) => (\n        <CotopiaAvatar\n          src={user?.avatar?.url ?? undefined}\n          title={userFullName?.[0]}\n          className={avatarClss}\n          onClick={open}\n        />\n      )}\n      className='w-[640px]'\n    >\n      {(open, close) => <UserSettings />}\n    </FullModalBox>\n  );\n}\n","import UserActionsAvatarButton from \"@/routes/private-wrarpper/components/user-actions/avatar\";\n\nexport default function UserAvatarButtonTool() {\n  return <UserActionsAvatarButton size='normal' />;\n}\n","import CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport useLoading from \"@/hooks/use-loading\";\nimport { LogOut } from \"lucide-react\";\nimport { useRoomContext } from \"../../../room-context\";\nimport axiosInstance from \"@/services/axios\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function UserLogoutButtonTool() {\n  const { workspace_id } = useRoomContext();\n\n  const navigate = useNavigate();\n\n  const { startLoading, stopLoading, isLoading } = useLoading();\n\n  const handleBack = () => {\n    startLoading();\n    axiosInstance\n      .get(`/rooms/leave`)\n      .then((res) => {\n        navigate(`/workspaces/${workspace_id}`);\n        stopLoading();\n      })\n      .catch((err) => {\n        stopLoading();\n      });\n  };\n\n  return (\n    <CotopiaIconButton\n      disabled={isLoading}\n      onClick={handleBack}\n      className='text-red-600'\n    >\n      <LogOut />\n    </CotopiaIconButton>\n  );\n}\n","import CotopiaTooltip from \"@/components/shared-ui/c-tooltip\";\nimport FullLoading from \"@/components/shared/full-loading\";\nimport useLoading from \"@/hooks/use-loading\";\nimport axiosInstance from \"@/services/axios\";\nimport { AttachmentFileType } from \"@/types/file\";\nimport { GalleryItemType } from \"@/types/gallery\";\n\ntype Props = {\n  item: GalleryItemType;\n  room_id: number;\n  workspace_id: string;\n};\n\nexport default function GalleryItem({ item, room_id, workspace_id }: Props) {\n  const { isLoading, startLoading, stopLoading } = useLoading();\n  const handleSetBackground = async () => {\n    startLoading();\n    try {\n      const res = await axiosInstance.post(`/files`, {\n        path: item.source,\n      });\n      const file: AttachmentFileType = res.data.data;\n      await axiosInstance.put(`/rooms/${room_id}`, {\n        background_id: file.id,\n      });\n      stopLoading();\n    } catch (e) {\n      stopLoading();\n    }\n  };\n\n  return (\n    <CotopiaTooltip title={item.title} triggerClassName='w-full'>\n      <div\n        className='w-full h-[115px] relative cursor-pointer hover:opacity-80'\n        onClick={handleSetBackground}\n      >\n        <img src={item.source} alt={item.title} />\n        {isLoading && (\n          <FullLoading\n            className={\n              \"absolute top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] justify-center\"\n            }\n          />\n        )}\n      </div>\n    </CotopiaTooltip>\n  );\n}\n","import { useNextApi } from \"@/hooks/swr\";\nimport { GalleryItemType } from \"@/types/gallery\";\nimport React from \"react\";\nimport GalleryItem from \"./gallery-item\";\nimport FullLoading from \"@/components/shared/full-loading\";\n\ntype Props = {\n  room_id: number;\n  workspace_id: string;\n};\nexport default function Gallery({ room_id, workspace_id }: Props) {\n  const { data, isLoading } = useNextApi(`/api/room/template/gallery`);\n  const galleryItems: GalleryItemType[] = !!data ? data : [];\n\n  let content = (\n    <div className='grid grid-cols-12 gap-2'>\n      {galleryItems.map((gallery) => (\n        <div className='col-span-6 md:col-span-3' key={gallery.id}>\n          <GalleryItem\n            item={gallery}\n            room_id={room_id}\n            workspace_id={workspace_id}\n          />\n        </div>\n      ))}\n    </div>\n  );\n\n  if (galleryItems.length === 0)\n    content = <span>There is no gallery template yet.</span>;\n\n  if (isLoading) content = <FullLoading />;\n\n  return <div className='mt-2'>{content}</div>;\n}\n","import CTabs from \"@/components/shared-ui/c-tabs\";\nimport Gallery from \"./gallery\";\nimport { useRoomContext } from \"@/components/shared/room/room-context\";\n\nexport default function BackgroundSetting() {\n  const { room_id, workspace_id } = useRoomContext();\n\n  if (!room_id) {\n    return null;\n  }\n\n  if (!workspace_id) {\n    return null;\n  }\n\n  return (\n    <CTabs\n      title='Background'\n      titleClassName='text-base text-gray-700'\n      defaultValue='gallery'\n      items={[\n        {\n          title: \"Gallery\",\n          value: \"gallery\",\n          content: <Gallery room_id={room_id} workspace_id={workspace_id} />,\n        },\n        {\n          title: \"Upload\",\n          value: \"upload\",\n          content: <>This feature will be ready in the soon future.</>,\n        },\n      ]}\n    />\n  );\n}\n","import React from \"react\";\n\nexport default function PermissionsSetting() {\n  return <>Permissions</>;\n}\n","import CTabs from \"@/components/shared-ui/c-tabs\";\nimport React from \"react\";\nimport BackgroundSetting from \"./background\";\nimport PermissionsSetting from \"./permissions\";\n\nexport default function RoomSettings() {\n  return (\n    <CTabs\n      title='Room Settings'\n      titleClassName='text-xl'\n      items={[\n        {\n          title: \"Background\",\n          value: \"background\",\n          content: <BackgroundSetting />,\n        },\n        {\n          title: \"Permissions\",\n          value: \"permissions\",\n          content: <PermissionsSetting />,\n        },\n      ]}\n      className='pt-6'\n      dividerBetweenContentAndTabs\n    />\n  );\n}\n","import CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport { FullModalBox } from \"@/components/shared/modal-box\";\nimport { Settings } from \"lucide-react\";\nimport RoomSettings from \"./room-settings\";\n\nexport default function UserSettingsButtonTool() {\n  return (\n    <FullModalBox\n      trigger={(open) => (\n        <CotopiaIconButton onClick={open} className='text-black'>\n          <Settings />\n        </CotopiaIconButton>\n      )}\n      className='w-[800px]'\n    >\n      {(open, close) => <RoomSettings />}\n    </FullModalBox>\n  );\n}\n","import UserAvatarButtonTool from \"./user-avatar\";\nimport UserLogoutButtonTool from \"./user-logout\";\nimport UserSettingsButtonTool from \"./user-settings\";\n\nexport default function UserActionsGroup() {\n  return (\n    <div className='flex flex-row items-center bg-white rounded-xl px-2'>\n      <UserSettingsButtonTool />\n      <UserAvatarButtonTool />\n      <UserLogoutButtonTool />\n    </div>\n  );\n}\n","import CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport { Menu } from \"lucide-react\";\nimport { useRoomContext } from \"../../../room-context\";\nimport CBadge from \"@/components/shared-ui/c-badge\";\nimport { useAppSelector } from \"@/store\";\n\nexport default function UserChatsSettingsButtonTool() {\n  const { openSidebar, closeSidebar, sidebar } = useRoomContext();\n  const handleOpenChat = () => {\n    if (sidebar) {\n      closeSidebar();\n    } else {\n      openSidebar(<></>);\n    }\n  };\n\n  const roomSlice = useAppSelector((state) => state.room);\n\n  const messagesCount = roomSlice?.messages_count ?? { room: [], objects: {} };\n\n  const roomIds = messagesCount.room;\n  const directsIds = Object?.values(messagesCount.directs).flatMap(\n    (item) => item\n  );\n\n  const totalCount = roomIds.length + directsIds.length;\n\n  return (\n    <div className='relative'>\n      <CBadge\n        count={totalCount}\n        className='absolute right-[1px] text-xs top-[1px] z-[2] '\n        size='small'\n      />\n      <CotopiaIconButton className='text-black' onClick={handleOpenChat}>\n        <Menu />\n      </CotopiaIconButton>\n    </div>\n  );\n}\n","import CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport useKeyPress from \"@/hooks/use-key-press\";\nimport { X } from \"lucide-react\";\nimport React from \"react\";\n\ntype Props = {\n  onClick: () => void;\n};\nexport default function CloseSidebar({ onClick }: Props) {\n  useKeyPress(\"Escape\", onClick);\n\n  return (\n    <CotopiaIconButton className='text-black' onClick={onClick}>\n      <X size={20} />\n    </CotopiaIconButton>\n  );\n}\n","import UserChatsSettingsButtonTool from \"./user-chats\";\nimport { useRoomContext } from \"../../../room-context\";\nimport CloseSidebar from \"./close-sidebar\";\n\nexport default function ChatActionsGroup() {\n  const { sidebar, closeSidebar } = useRoomContext();\n\n  return (\n    <div className='flex flex-row items-center bg-white rounded-xl px-2'>\n      {!!sidebar ? (\n        <CloseSidebar onClick={closeSidebar} />\n      ) : (\n        <>\n          <UserChatsSettingsButtonTool />\n          {/* <UserCalendarSettingsButtonTool /> */}\n        </>\n      )}\n    </div>\n  );\n}\n","import { convertMinutesToHHMMSS } from \"@/lib/utils\";\nimport { ReactNode, useEffect, useState } from \"react\";\n\ntype Props = {\n  initialSeconds: number;\n  children: (time: string) => ReactNode;\n};\n\nexport default function Timer({ initialSeconds, children }: Props) {\n  const [seconds, setSeconds] = useState<number>(initialSeconds);\n  useEffect(() => {\n    if (initialSeconds !== undefined) setSeconds(initialSeconds);\n  }, [initialSeconds]);\n\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setSeconds((prevSeconds) => prevSeconds + 1);\n    }, 1000);\n\n    // Cleanup the interval on component unmount\n    return () => clearInterval(timer);\n  }, []);\n\n  return <>{children(convertMinutesToHHMMSS((seconds ?? 0) / 60))}</>;\n}\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","type Props = {\n  rank: number;\n};\nexport default function Rank({ rank }: Props) {\n  let clss =\n    \"rounded-full w-6 h-6 flex flex-col items-center justify-center text-xs\";\n\n  if (rank === 1) {\n    clss += ` bg-yellow-600 text-white`;\n  } else if (rank === 2) {\n    clss += ` bg-gray-400 text-white`;\n  } else if (rank === 3) {\n    clss += ` bg-orange-800 text-white`;\n  } else {\n    clss += ` bg-blue-100`;\n  }\n\n  return <div className={clss}>{rank}</div>;\n}\n","\"use client\";\n\nimport { useRef } from \"react\";\nimport {\n  AnimatePresence,\n  motion,\n  useInView,\n  UseInViewOptions,\n  Variants,\n} from \"framer-motion\";\n\ntype MarginType = UseInViewOptions[\"margin\"];\n\ninterface BlurFadeProps {\n  children: React.ReactNode;\n  className?: string;\n  variant?: {\n    hidden: { y: number };\n    visible: { y: number };\n  };\n  duration?: number;\n  delay?: number;\n  yOffset?: number;\n  inView?: boolean;\n  inViewMargin?: MarginType;\n  blur?: string;\n}\n\nexport default function BlurFade({\n  children,\n  className,\n  variant,\n  duration = 0.4,\n  delay = 0,\n  yOffset = 6,\n  inView = false,\n  inViewMargin = \"-50px\",\n  blur = \"6px\",\n}: BlurFadeProps) {\n  const ref = useRef(null);\n  const inViewResult = useInView(ref, { once: true, margin: inViewMargin });\n  const isInView = !inView || inViewResult;\n  const defaultVariants: Variants = {\n    hidden: { y: yOffset, opacity: 0, filter: `blur(${blur})` },\n    visible: { y: -yOffset, opacity: 1, filter: `blur(0px)` },\n  };\n  const combinedVariants = variant || defaultVariants;\n  return (\n    <AnimatePresence>\n      <motion.div\n        ref={ref}\n        initial=\"hidden\"\n        animate={isInView ? \"visible\" : \"hidden\"}\n        exit=\"hidden\"\n        variants={combinedVariants}\n        transition={{\n          delay: 0.04 + delay,\n          duration,\n          ease: \"easeOut\",\n        }}\n        className={className}\n      >\n        {children}\n      </motion.div>\n    </AnimatePresence>\n  );\n}\n","import { convertMinutesToHHMMSS } from \"@/lib/utils\";\nimport Timer from \"../timer\";\nimport { useRoomContext } from \"@/components/shared/room/room-context\";\nimport UserAvatar from \"@/components/shared/user-avatar\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport Rank from \"./rank\";\nimport BlurFade from \"@/components/magicui/blur-fade\";\nimport { useApi } from \"@/hooks/swr\";\nimport { LeaderboardType } from \"@/types/leaderboard\";\nimport useAuth from \"@/hooks/auth\";\n\nexport default function TimeTrackingDetails() {\n  const { workspace_id } = useRoomContext();\n\n  const { user } = useAuth();\n\n  const { data: leaderboardData } = useApi(\n    `/workspaces/${workspace_id}/leaderboard`\n  );\n\n  const leaderboard: LeaderboardType[] = leaderboardData?.data ?? [];\n\n  let content = (\n    <>\n      {leaderboard\n        .sort((a, b) => b.sum_minutes - a.sum_minutes)\n        .map((item, key) => {\n          const isMe = item.user.id === user?.id;\n\n          let clss =\n            \"flex flex-row items-center justify-between p-2 border-b last:border-0\";\n\n          if (isMe) clss += ` bg-sky-300`;\n\n          const hasCount =\n            (item?.user?.status === \"online\" && item.user?.room_id !== null) ||\n            isMe;\n\n          return (\n            <BlurFade\n              inView\n              className={clss}\n              key={key}\n              delay={0.05 + key * 0.05}\n            >\n              <div className='flex flex-row items-center gap-x-2'>\n                <Rank rank={key + 1} />\n                <UserAvatar\n                  title={item.user?.name}\n                  src={item?.user?.avatar?.url}\n                />\n                <span className='text-xs'>{item.user?.name ?? \"-\"}</span>\n              </div>\n              <div>\n                {hasCount ? (\n                  <Timer initialSeconds={item.sum_minutes * 60}>\n                    {(time) => <strong className='text-xs'>{time}</strong>}\n                  </Timer>\n                ) : (\n                  <span className='text-xs opacity-85'>\n                    {convertMinutesToHHMMSS(item.sum_minutes)}\n                  </span>\n                )}\n              </div>\n            </BlurFade>\n          );\n        })}\n    </>\n  );\n\n  return (\n    <ScrollArea className='h-72 flex flex-col gap-y-4 w-full'>\n      {content}\n    </ScrollArea>\n  );\n}\n","import CotopiaButton from \"@/components/shared-ui/c-button\";\n\nimport { Clock } from \"lucide-react\";\nimport Timer from \"../timer\";\n\ntype Props = {\n  isLoading: boolean;\n  onClick: () => void;\n  defaultSeconds: number;\n};\n\nexport default function TimeTrackingButton({\n  isLoading,\n  onClick,\n  defaultSeconds,\n}: Props) {\n  return (\n    <CotopiaButton\n      loading={isLoading}\n      className='relative bg-white hover:bg-white text-black rounded-xl !pr-6'\n      startIcon={<Clock />}\n      onClick={onClick}\n    >\n      <div className='absolute top-2 right-2 w-2 h-2 bg-red-600 rounded-full animate-pulse'></div>\n      <Timer initialSeconds={defaultSeconds}>\n        {(time) => <span className='min-w-[60px]'>{time}</span>}\n      </Timer>\n    </CotopiaButton>\n  );\n}\n","import useLoading from \"@/hooks/use-loading\";\nimport { useEffect, useState } from \"react\";\nimport { urlWithQueryParams } from \"@/lib/utils\";\nimport PopupBox from \"@/components/shared/popup-box\";\nimport TimeTrackingDetails from \"./details\";\nimport TimeTrackingButton from \"./button\";\nimport PopupBoxChild from \"@/components/shared/popup-box/child\";\nimport axiosInstance from \"@/services/axios\";\n\nexport default function TimeTrackingButtonTool() {\n  const [seconds, setSeconds] = useState<undefined | number>();\n\n  const { startLoading, stopLoading, isLoading } = useLoading();\n  const getActivityTime = () => {\n    startLoading();\n    axiosInstance\n      .get(urlWithQueryParams(`/users/activities`, { period: \"today\" }))\n      .then((res) => {\n        const mins = res.data.data;\n        setSeconds(mins * 60);\n        stopLoading();\n      })\n      .catch((err) => {\n        stopLoading();\n      });\n  };\n  useEffect(() => {\n    getActivityTime();\n  }, []);\n\n  return (\n    <PopupBox\n      trigger={(open) => (\n        <TimeTrackingButton\n          defaultSeconds={seconds ?? 0}\n          onClick={open}\n          isLoading={isLoading}\n        />\n      )}\n    >\n      {(style, open, close) => {\n        return (\n          <PopupBoxChild\n            {...style}\n            onClose={close}\n            title='Leaderboard'\n            width={300}\n          >\n            <TimeTrackingDetails />\n          </PopupBoxChild>\n        );\n      }}\n    </PopupBox>\n  );\n}\n","import React from \"react\";\nimport InviteButtonTool from \"./Invite\";\n// import MeetButtonTool from \"./meet\";\nimport UserActionsGroup from \"./user-actions-group\";\nimport ChatActionsGroup from \"./chat-actions-group\";\nimport TimeTrackingButtonTool from \"./time-tracking\";\n\nexport default function TopRightTools() {\n  return (\n    <div className='flex flex-row items-center gap-x-2'>\n      <TimeTrackingButtonTool />\n      <InviteButtonTool />\n      {/* <MeetButtonTool /> */}\n      <UserActionsGroup />\n      <ChatActionsGroup />\n    </div>\n  );\n}\n","type Props = {\n  height?: number;\n};\nexport default function VerticalDivider({ height = 24 }: Props) {\n  return <div className='w-[1px] bg-black/10' style={{ height }}></div>;\n}\n","import { AttachmentFileType } from \"@/types/file\";\nimport Uploader from \"../uploader\";\nimport { useState } from \"react\";\n\ntype Props = {\n  files: AttachmentFileType[];\n  isMultiple?: boolean;\n  onChange?: (files: AttachmentFileType[]) => void;\n  uploaderClass?: string;\n};\nexport default function UploaderList({\n  files,\n  isMultiple,\n  onChange,\n  uploaderClass,\n}: Props) {\n  const [allFiles, setAllFiles] = useState(files);\n\n  const handleDeleteFile = (x: AttachmentFileType) => {\n    setAllFiles((prev) => {\n      const nValue = prev.filter((i) => i.id !== x.id);\n\n      if (onChange) onChange(nValue);\n\n      return nValue;\n    });\n  };\n\n  const handleAddFiles = (x: AttachmentFileType[]) =>\n    setAllFiles((prev) => {\n      const nValue = [...prev, ...x];\n\n      if (onChange) onChange(nValue);\n\n      return nValue;\n    });\n\n  const handleAddFile = (x: AttachmentFileType) =>\n    setAllFiles((prev) => {\n      const nValue = [...prev, x];\n\n      if (onChange) onChange(nValue);\n\n      return nValue;\n    });\n\n  return (\n    <div className='flex flex-row items-center gap-4 flex-wrap w-full'>\n      <div className='w-[120px]'>\n        <Uploader\n          onUpload={handleAddFile}\n          onUploadList={handleAddFiles}\n          isMultiple={isMultiple}\n          resetAfterUpload\n          uploaderClass={uploaderClass}\n        />\n      </div>\n      {allFiles?.length > 0\n        ? allFiles?.map((x) => (\n            <div className='w-[120px]' key={x.id}>\n              <Uploader\n                defaultMedia={x}\n                onDelete={() => handleDeleteFile(x)}\n                uploaderClass={uploaderClass}\n              />\n            </div>\n          ))\n        : null}\n    </div>\n  );\n}\n","import CotopiaButton from \"@/components/shared-ui/c-button\";\nimport CotopiaInput from \"@/components/shared-ui/c-input\";\nimport CotopiaTextarea from \"@/components/shared-ui/c-textarea\";\nimport TitleEl from \"@/components/shared/title-el\";\nimport UploaderList from \"@/components/shared/uploader-list\";\nimport axiosInstance from \"@/services/axios\";\nimport { AttachmentFileType } from \"@/types/file\";\nimport { useFormik } from \"formik\";\nimport { toast } from \"sonner\";\nimport * as Yup from \"yup\";\n\ntype Props = {\n  onSubmitted: () => void;\n  model_id: string;\n  model_type: string;\n};\n\nexport default function BugReportForm({\n  onSubmitted,\n  model_id,\n  model_type,\n}: Props) {\n  const {\n    values,\n    isSubmitting,\n    touched,\n    errors,\n    getFieldProps,\n    handleSubmit,\n    setFieldValue,\n  } = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      title: \"\",\n      description: \"\",\n      files: [] as AttachmentFileType[],\n    },\n    validationSchema: Yup.object().shape({\n      description: Yup.string().required(\"Report is required\"),\n    }),\n    onSubmit: (values, actions) => {\n      const { files, ...rest } = values;\n\n      actions.setSubmitting(true);\n      axiosInstance\n        .post(`/reports`, {\n          ...rest,\n          files: files.map((x) => x.id),\n          model_id,\n          model_type,\n        })\n        .then((res) => {\n          actions.setSubmitting(false);\n          toast.success(\"Your report has been submitted.\");\n          if (onSubmitted) onSubmitted();\n        })\n        .catch((err) => {\n          actions.setSubmitting(false);\n        });\n    },\n  });\n\n  return (\n    <div className='p-6 flex flex-col gap-y-4 w-full'>\n      <form\n        onSubmit={handleSubmit}\n        className='flex flex-col gap-y-16 items-start w-full'\n      >\n        <div className='flex flex-col gap-y-4 w-full'>\n          <div className='flex flex-col gap-y-2'>\n            <strong>Report a bug</strong>\n            <p className='text-black/60 text-base'>\n              We will review your problem as soon as possible.\n            </p>\n          </div>\n          <CotopiaInput\n            {...getFieldProps(\"title\")}\n            placeholder='Subject'\n            // label='Your report'\n            hasError={!!touched.title && !!errors.title}\n            helperText={!!touched.title && !!errors.title && errors.title}\n          />\n          <CotopiaTextarea\n            {...getFieldProps(\"description\")}\n            placeholder=\"Eg: updating profile doesn't work properly ...\"\n            // label='Your description'\n            hasError={!!touched.description && !!errors.description}\n            helperText={\n              !!touched.description &&\n              !!errors.description &&\n              errors.description\n            }\n          />\n          <TitleEl title='Attachments'>\n            <UploaderList\n              isMultiple\n              files={values.files}\n              onChange={(files) => setFieldValue(\"files\", files)}\n            />\n          </TitleEl>\n        </div>\n        <CotopiaButton\n          loading={isSubmitting}\n          type='submit'\n          className='w-[100px] max-w-full'\n        >\n          Submit\n        </CotopiaButton>\n      </form>\n    </div>\n  );\n}\n","import CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport { FullModalBox } from \"@/components/shared/modal-box\";\nimport { Bug } from \"lucide-react\";\nimport BugReportForm from \"./bug-report\";\nimport { useRoomContext } from \"../../../room-context\";\n\nexport default function ReportBugButtonTool() {\n  const { room_id } = useRoomContext();\n\n  return (\n    <FullModalBox\n      trigger={(open) => (\n        <CotopiaIconButton onClick={open} className='text-black'>\n          <Bug />\n        </CotopiaIconButton>\n      )}\n      className='w-[640px]'\n    >\n      {(open, close) => (\n        <BugReportForm\n          onSubmitted={() => {\n            close();\n          }}\n          model_id={\"\" + room_id}\n          model_type='room'\n        />\n      )}\n    </FullModalBox>\n  );\n}\n","// PingComponent.tsx\nimport CotopiaTooltip from \"@/components/shared-ui/c-tooltip\";\nimport { useSocket } from \"@/routes/private-wrarpper\";\nimport { Signal, SignalHigh, SignalLow, SignalMedium } from \"lucide-react\";\nimport React, { useEffect, useState } from \"react\";\n\nconst PingShower: React.FC = () => {\n  const socket = useSocket();\n  const [ping, setPing] = useState<number>();\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      const start = Date.now();\n\n      socket?.emit(\"ping\", () => {\n        const duration = Date.now() - start;\n        setPing(duration);\n      });\n    }, 1000);\n\n    return () => {\n      clearInterval(interval);\n    };\n  }, []);\n\n  let clss = \"flex flex-row items-center gap-x-2\";\n\n  let icon = <Signal />;\n\n  if (ping) {\n    if (ping < 80) {\n      clss += ` text-green-500`;\n      icon = <Signal />;\n    } else if (ping < 140) {\n      clss += ` text-blue-500`;\n      icon = <SignalHigh />;\n    } else if (ping < 200) {\n      clss += ` text-yellow-700`;\n      icon = <SignalMedium />;\n    } else if (ping > 200) {\n      clss += ` text-red-500`;\n      icon = <SignalLow />;\n    }\n  }\n\n  return (\n    <CotopiaTooltip title={`Ping (${ping})`}>\n      <div className={clss}>\n        {/* <RadioTower /> */}\n        {icon}\n      </div>\n    </CotopiaTooltip>\n  );\n};\n\nexport default PingShower;\n","import VerticalDivider from \"@/components/shared/vertical-divider\";\nimport ReportBugButtonTool from \"./bug\";\nimport PingShower from \"./ping\";\n// import QuestionButtonTool from \"./question\";\n\nexport default function BottomLeftTools() {\n  return (\n    <div className='flex flex-row items-center bg-white rounded-xl px-2 gap-x-2'>\n      {/* <QuestionButtonTool /> */}\n      {/* <VerticalDivider /> */}\n      <ReportBugButtonTool />\n      <VerticalDivider />\n      <PingShower />\n    </div>\n  );\n}\n","import CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport { Plus } from \"lucide-react\";\n\nexport default function AddButtonTool() {\n  return null;\n  return (\n    <CotopiaIconButton className='text-black'>\n      <Plus />\n    </CotopiaIconButton>\n  );\n}\n","import CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport { AudioWaveform } from \"lucide-react\";\n\nexport default function BroadcastButtonTool() {\n  return null;\n\n  return (\n    <CotopiaIconButton className='text-black'>\n      <AudioWaveform size={20} />\n    </CotopiaIconButton>\n  );\n}\n","import CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport { MessageSquare } from \"lucide-react\";\nimport { useRoomContext } from \"../../../room-context\";\n\nexport default function ChatButtonTool() {\n  const { openSidebar, sidebar, closeSidebar } = useRoomContext();\n\n  const handleOpenChat = () => {\n    if (sidebar) {\n      closeSidebar();\n    } else {\n      openSidebar(<></>);\n    }\n  };\n\n  let clss = \"text-black\";\n  if (sidebar) clss += ` !bg-black/5`;\n\n  return (\n    <CotopiaIconButton className={clss} onClick={handleOpenChat}>\n      <MessageSquare size={20} />\n    </CotopiaIconButton>\n  );\n}\n","import CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport { Pencil } from \"lucide-react\";\n\nexport default function EditButtonTool() {\n  return null;\n  return (\n    <CotopiaIconButton className='text-black'>\n      <Pencil size={20} />\n    </CotopiaIconButton>\n  );\n}\n","import CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport { ScreenShare, X } from \"lucide-react\";\nimport { useRoomContext } from \"@livekit/components-react\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport useBus from \"use-bus\";\n\nimport CotopiaTooltip from \"@/components/shared-ui/c-tooltip\";\nimport { __BUS } from \"@/const/bus\";\n\nexport default function ShareScreenButtonTool() {\n  const room = useRoomContext();\n  const [isScreenSharing, setIsScreenSharing] = useState(false);\n\n  const checkIfScreenSharing = useCallback(() => {\n    if (!room) return false;\n    const tracks = room.localParticipant.videoTrackPublications;\n    for (let [_, track] of tracks.entries()) {\n      if (track.source === \"screen_share\") {\n        return true; // Screen share is active\n      }\n    }\n    return false; // No screen share track\n  }, [room]);\n\n  const stopScreenShare = useCallback(async () => {\n    try {\n      await room.localParticipant.setScreenShareEnabled(false);\n      setIsScreenSharing(false); // Update state when screen sharing stops\n    } catch (err) {\n      console.error(\"Error stopping screen share:\", err);\n    }\n  }, [room]);\n\n  const toggleScreenShare = useCallback(async () => {\n    if (!room) return;\n\n    if (isScreenSharing) {\n      return stopScreenShare();\n    }\n\n    try {\n      await room.localParticipant.setScreenShareEnabled(true);\n      setIsScreenSharing(true); // Update state when screen sharing starts\n    } catch (err) {\n      console.error(\"Error starting screen share:\", err);\n    }\n  }, [room, isScreenSharing, stopScreenShare]);\n\n  useBus(__BUS.stopMyScreenSharing, () => {\n    stopScreenShare();\n  });\n\n  // Monitor changes in the room context to update the screen sharing status\n  useEffect(() => {\n    const screenSharingActive = checkIfScreenSharing();\n    setIsScreenSharing(screenSharingActive);\n  }, [room, checkIfScreenSharing]);\n\n  return (\n    <CotopiaTooltip\n      title={isScreenSharing ? `Stop screen sharing` : `Share screen`}\n    >\n      <CotopiaIconButton className='text-black' onClick={toggleScreenShare}>\n        {isScreenSharing ? <X size={20} /> : <ScreenShare size={20} />}\n      </CotopiaIconButton>\n    </CotopiaTooltip>\n  );\n}\n","import CotopiaIconButton from \"@/components/shared-ui/c-icon-button\"\nimport CotopiaTooltip from \"@/components/shared-ui/c-tooltip\"\nimport { useLocalParticipant } from \"@livekit/components-react\"\nimport { Track } from \"livekit-client\"\nimport { Video, VideoOff } from \"lucide-react\"\nimport { useRoomHolder } from \"../../..\"\n\nexport default function VideoButtonTool() {\n  const { enableVideoAccess, disableVideoAccess, stream_loading } =\n    useRoomHolder()\n\n  const { localParticipant } = useLocalParticipant()\n\n  const videoTrack = localParticipant.getTrackPublication(Track.Source.Camera)\n\n  const track = videoTrack?.track\n\n  const isUpstreamPaused = videoTrack?.isMuted ?? true\n\n  const toggleUpstream = async () => {\n    if (!track) {\n      return localParticipant.setCameraEnabled(true), enableVideoAccess()\n    }\n    if (isUpstreamPaused) {\n      enableVideoAccess()\n      track.unmute()\n    } else {\n      disableVideoAccess()\n      track.mute()\n      track.stop()\n    }\n  }\n\n  let title = \"Video Off\"\n\n  if (track?.isMuted) title = \"Video on\"\n\n  return (\n    <CotopiaTooltip title={title}>\n      <CotopiaIconButton\n        disabled={stream_loading}\n        className=\"text-black\"\n        onClick={toggleUpstream}\n      >\n        {isUpstreamPaused ? <VideoOff size={20} /> : <Video size={20} />}\n      </CotopiaIconButton>\n    </CotopiaTooltip>\n  )\n}\n","import CotopiaIconButton from \"@/components/shared-ui/c-icon-button\"\nimport CotopiaTooltip from \"@/components/shared-ui/c-tooltip\"\nimport { useLocalParticipant } from \"@livekit/components-react\"\nimport { Track } from \"livekit-client\"\nimport { Mic, MicOff } from \"lucide-react\"\nimport { useRoomHolder } from \"../../..\"\n\nexport default function VoiceButtonTool() {\n  const { enableAudioAccess, disableAudioAccess, stream_loading } =\n    useRoomHolder()\n  const { localParticipant } = useLocalParticipant()\n  const voiceTrack = localParticipant.getTrackPublication(\n    Track.Source.Microphone\n  )\n  const track = voiceTrack?.track\n  const isMuted = voiceTrack?.isMuted ?? true\n  const toggleMute = async () => {\n    if (!track) {\n      return\n    }\n    if (track.isMuted) {\n      track.unmute()\n      enableAudioAccess()\n    } else {\n      track.mute()\n      track.stop()\n      disableAudioAccess()\n    }\n  }\n\n  let title = \"Mic Off\"\n\n  if (track?.isMuted) title = \"Mic on\"\n\n  return (\n    <CotopiaTooltip title={title}>\n      <CotopiaIconButton\n        disabled={stream_loading}\n        className=\"text-black\"\n        onClick={toggleMute}\n      >\n        {isMuted ? <MicOff size={20} /> : <Mic size={20} />}\n      </CotopiaIconButton>\n    </CotopiaTooltip>\n  )\n}\n","import AddButtonTool from \"./add-button\"\nimport BroadcastButtonTool from \"./broadcast-button\"\nimport ChatButtonTool from \"./chat-button\"\nimport EditButtonTool from \"./edit-button\"\nimport ShareScreenButtonTool from \"./share-screen-button\"\nimport VideoButtonTool from \"./video-button\"\nimport VoiceButtonTool from \"./voice-button\"\n// import MegaPhoneButtonTool from \"./megaphonew-button\";\n\nexport default function BottomMiddleTools() {\n  return (\n    <div className=\"flex flex-row items-center bg-white rounded-xl p-2\">\n      <AddButtonTool />\n      <EditButtonTool />\n      <ShareScreenButtonTool />\n      <ChatButtonTool />\n      <BroadcastButtonTool />\n      <VideoButtonTool />\n      <VoiceButtonTool />\n      {/* <MegaPhoneButtonTool /> */}\n      {/* <GridViewButtonTool /> */}\n    </div>\n  )\n}\n","import CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport { useReactFlow } from \"@xyflow/react\";\nimport { Minus, Plus } from \"lucide-react\";\nimport React from \"react\";\n\nexport default function ZoomActions() {\n  const rf = useReactFlow();\n\n  const handleZoomIn = () => {\n    rf.zoomIn();\n  };\n\n  const handleZoomOut = () => {\n    rf.zoomOut();\n  };\n\n  return (\n    <div className='zoom-actions transition-all hidden flex-col items-center gap-y-2 py-2'>\n      <CotopiaIconButton onClick={handleZoomIn} className='text-black'>\n        <Plus />\n      </CotopiaIconButton>\n      <CotopiaIconButton onClick={handleZoomOut} className='text-black'>\n        <Minus />\n      </CotopiaIconButton>\n    </div>\n  );\n}\n","import { ChevronDown, ChevronUp } from \"lucide-react\";\n\ntype Props = {\n  zoomPercent: number;\n};\nexport default function PreviewZoom({ zoomPercent }: Props) {\n  return (\n    <div className='flex flex-col items-center bg-white rounded-xl px-2 py-1'>\n      <ChevronUp size={16} />\n      <span className='min-w-[48px] text-center'>{`${zoomPercent.toFixed(\n        0\n      )}%`}</span>\n      <ChevronDown size={16} />\n    </div>\n  );\n}\n","import { useReactFlow } from \"@xyflow/react\";\nimport ZoomActions from \"./actions\";\nimport PreviewZoom from \"./preview\";\n\nexport default function ZoomButtonTool() {\n  const rf = useReactFlow();\n  const zoom = rf.getZoom();\n\n  return (\n    <div className='flex flex-col items-center bg-white rounded-xl [&_.zoom-actions]:hover:flex'>\n      <ZoomActions />\n      <PreviewZoom zoomPercent={zoom * 100} />\n    </div>\n  );\n}\n","import ZoomButtonTool from \"./zoom\";\n\nexport default function BottomRightTools() {\n  return (\n    <div className='flex flex-row items-center'>\n      <ZoomButtonTool />\n    </div>\n  );\n}\n","import { TrackReferenceOrPlaceholder } from \"@livekit/components-react\";\nimport {\n  Background,\n  //   Background,\n  Node,\n  NodeChange,\n  NodeMouseHandler,\n  ReactFlow,\n  ReactFlowInstance,\n  useNodesState,\n  Viewport,\n} from \"@xyflow/react\";\nimport { useRoomContext } from \"../../room/room-context\";\nimport UserNode from \"../nodes/user\";\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport BackgroundNode from \"../nodes/background\";\nimport { Track } from \"livekit-client\";\nimport ShareScreen from \"../nodes/share-screen\";\nimport { UserMinimalType } from \"@/types/user\";\nimport JailNode from \"../nodes/jail-node\";\nimport { uniqueById } from \"@/lib/utils\";\nimport { playSoundEffect } from \"@/lib/sound-effects\";\nimport Toolbar from \"../../room/toolbar\";\nimport TopLeftTools from \"../../room/tools/top-left\";\nimport TopRightTools from \"../../room/tools/top-right\";\nimport BottomLeftTools from \"../../room/tools/bottom-left\";\nimport BottomMiddleTools from \"../../room/tools/bottom-middle\";\nimport BottomRightTools from \"../../room/tools/bottom-right\";\nimport useBus, { dispatch } from \"use-bus\";\nimport useAuth from \"@/hooks/auth\";\nimport { useSocket } from \"@/routes/private-wrarpper\";\nimport { __BUS } from \"@/const/bus\";\n\nexport const RF_BACKGROUND_ID = \"bg-node-4214242141\";\nexport const RF_JAIL_ID = \"jail-78412641267\";\n\ntype Props = {\n  tracks: TrackReferenceOrPlaceholder[];\n};\n\nconst nodeTypes = {\n  userNode: UserNode,\n  backgroundNode: BackgroundNode,\n  jailNode: JailNode,\n  shareSreenCard: ShareScreen,\n};\n\ntype LeftJoinType = {\n  room_id: number;\n  user: UserMinimalType;\n};\n\nfunction ReactFlowHandler({ tracks }: Props) {\n  const [viewPort, setViewPort] = useState<Viewport>();\n\n  const [rf, setRf] = useState<ReactFlowInstance>();\n  const { user } = useAuth();\n\n  const { room, updateUserCoords, room_id } = useRoomContext();\n\n  const socketParticipants = useMemo(() => {\n    return room?.participants ?? [];\n  }, [room?.participants]);\n\n  const socket = useSocket();\n\n  const initState = useRef(true);\n\n  const [nodes, setNodes, onNodesChange] = useNodesState<Node>([]);\n\n  const handleNodesChange = (changes: NodeChange[]) => {\n    // Always apply the changes to keep the nodes state updated\n    onNodesChange(changes);\n  };\n\n  //Node with background\n  const nodesWithBackground = useCallback(\n    (nodes: Node[]) => [\n      {\n        id: RF_BACKGROUND_ID,\n        position: {\n          x: -500,\n          y: -700,\n        },\n        type: \"backgroundNode\",\n        draggable: false,\n        data: {},\n        focusable: false,\n        deletable: false,\n        selectable: false,\n      },\n      {\n        id: RF_JAIL_ID,\n        position: {\n          x: -400,\n          y: -400,\n        },\n        type: \"jailNode\",\n        draggable: false,\n        data: {},\n        focusable: false,\n        deletable: false,\n        selectable: false,\n      },\n      ...nodes,\n    ],\n    []\n  );\n\n  const addParticipants = (particpants: UserMinimalType[]) => {\n    return uniqueById(\n      particpants.map((participant) => {\n        const rfUserId = \"\" + participant?.username;\n\n        const coords = participant?.coordinates?.split(\",\");\n\n        let xcoord = rf?.getNode(rfUserId)?.position.x ?? coords?.[0] ?? 200;\n        let ycoord = rf?.getNode(rfUserId)?.position.y ?? coords?.[1] ?? 200;\n\n        if (typeof xcoord === \"string\") xcoord = +xcoord;\n        if (typeof ycoord === \"string\") ycoord = +ycoord;\n\n        const track = tracks.find(\n          (a) => a.participant.identity === participant.username\n        );\n\n        console.log(\"user\", user);\n        console.log(\"participant\", participant);\n\n        const isDraggable = user?.username === participant.username;\n\n        let object: Node = {\n          id: \"\" + participant?.username,\n          type: \"userNode\",\n          data: {\n            username: participant.username,\n            draggable: isDraggable,\n            isDragging: false,\n          },\n          position: { x: xcoord, y: ycoord },\n          parentId: RF_JAIL_ID,\n          extent: \"parent\",\n        };\n\n        if (!isDraggable) object[\"draggable\"] = false;\n\n        return object;\n      })\n    ) as Node[];\n  };\n\n  //Init canvas\n  useEffect(() => {\n    if (initState.current === false) return;\n\n    //Is we have no participant in room\n    if (socketParticipants.length === 0) {\n      setNodes(nodesWithBackground([]));\n      return;\n    }\n\n    setNodes(nodesWithBackground(addParticipants(socketParticipants)));\n\n    initState.current = false;\n  }, [socketParticipants]);\n\n  useEffect(() => {\n    setNodes((prev) => [\n      ...prev.filter((x) => x.type !== \"shareSreenCard\"),\n      ...tracks\n        ?.filter((x) => x.source === Track.Source.ScreenShare)\n        ?.map(\n          (x, i) =>\n            ({\n              id: \"share-screen-\" + i,\n              type: \"shareSreenCard\",\n              data: {\n                track: x,\n              },\n              position: {\n                x: rf?.getNode(\"share-screen-\" + i)?.position.x ?? 200,\n                y: rf?.getNode(\"share-screen-\" + i)?.position.y ?? 200,\n              },\n              parentId: RF_JAIL_ID,\n              extent: \"parent\",\n            } as Node)\n        ),\n    ]);\n  }, [tracks]);\n\n  const updateUserCoordinate = (data: UserMinimalType) => {\n    const username = data?.username;\n    const coordinates = data?.coordinates;\n\n    if (!username) {\n      return;\n    }\n\n    if (!coordinates) {\n      return;\n    }\n\n    const coords_array = coordinates.split(\",\");\n\n    if (coords_array.length !== 2) return;\n\n    let x = coords_array[0];\n    let y = coords_array[1];\n\n    updateUserCoords(username, { x: +x, y: +y });\n\n    setNodes((nds) => {\n      return nds.map((node) =>\n        node.id === username ? { ...node, position: { x: +x, y: +y } } : node\n      );\n    });\n  };\n\n  useSocket(\n    \"updateCoordinates\",\n    (data: any) => {\n      updateUserCoordinate(data);\n    },\n    [updateUserCoordinate]\n  );\n\n  useBus(__BUS.changeMyUserCoord, (data) => {\n    updateUserCoordinate(data.data);\n  });\n\n  useSocket(\n    \"userLeftFromRoom\",\n    (data: LeftJoinType) => {\n      const { room_id: gotRoomId, user: targetUser } = data;\n\n      if (room_id === undefined) return;\n\n      if (gotRoomId !== +room_id) return;\n\n      setNodes(\n        (prev) =>\n          uniqueById(prev.filter((x) => x.id !== targetUser.username)) as Node[]\n      );\n\n      if (user?.id !== targetUser.id) playSoundEffect(\"elseUserleft\");\n    },\n    []\n  );\n\n  useSocket(\n    \"userJoinedToRoom\",\n    (data: LeftJoinType) => {\n      const { room_id: gotRoomId, user: targetUser } = data;\n\n      if (room_id === undefined) return;\n\n      if (gotRoomId !== +room_id) return;\n\n      setNodes((prev) => {\n        const nNodes = uniqueById([\n          ...prev,\n          ...addParticipants([targetUser]),\n        ]) as Node[];\n\n        return nNodes;\n      });\n\n      if (user?.id !== targetUser.id) playSoundEffect(\"elseUserJoin\");\n    },\n    []\n  );\n\n  const onNodeDragStop: NodeMouseHandler = (event, node) => {\n    if (node?.data?.draggable) {\n      const newCoords = `${node.position.x},${node.position.y}`;\n\n      const username: string = node.data.username as string;\n      const sendingObject = {\n        room_id: room?.id,\n        coordinates: newCoords,\n        username,\n      };\n\n      socket?.emit(\"updateCoordinates\", sendingObject);\n\n      dispatch({\n        type: __BUS.changeMyUserCoord,\n        data: {\n          ...user,\n          coordinates: newCoords,\n        },\n      });\n\n      const livekitIdentity = username;\n\n      updateUserCoords(livekitIdentity, node.position);\n    }\n  };\n\n  return (\n    <>\n      <ReactFlow\n        style={{ width: \"100%\", height: \"100%\" }}\n        nodesDraggable={true}\n        onNodeDragStop={onNodeDragStop}\n        onNodesChange={handleNodesChange}\n        panOnDrag={true}\n        zoomOnScroll={true}\n        zoomOnPinch={true}\n        nodes={nodes}\n        nodeTypes={nodeTypes}\n        onInit={setRf}\n        viewport={viewPort}\n        onViewportChange={setViewPort}\n        fitView\n        translateExtent={[\n          [-500, -500],\n          [4000, 1600],\n        ]}\n      >\n        {/* <MiniMap /> */}\n        <Background />\n        <Toolbar\n          topLeft={<TopLeftTools />}\n          topRight={<TopRightTools />}\n          bottomLeft={<BottomLeftTools />}\n          bottomMiddle={<BottomMiddleTools />}\n          bottomRight={<BottomRightTools />}\n        />\n      </ReactFlow>\n      {/* {!!viewPort && (\n        <NodesPreview tracks={tracks} nodes={nodes} viewport={viewPort} />\n      )} */}\n    </>\n  );\n}\n\nexport default ReactFlowHandler;\n","import React from \"react\";\nimport { useRoomContext } from \"../../room/room-context\";\n\nexport default function BackgroundNode() {\n  const { room } = useRoomContext();\n\n  return (\n    <div\n      className='flex flex-col pointer-events-none z-0'\n      style={{\n        width: 3840,\n        height: 2160,\n        backgroundImage: `url(${room?.background?.url})`,\n        backgroundSize: \"cover\",\n        backgroundRepeat: \"no-repeat\",\n      }}\n    ></div>\n  );\n}\n","import React from \"react\";\n\nexport default function JailNode() {\n  return (\n    <div\n      className='flex flex-col pointer-events-none z-0'\n      style={{\n        width: 3640,\n        height: 1700,\n      }}\n    ></div>\n  );\n}\n","import ScreenShareCard from \"../../room/components/screen-share-card\";\n\nexport default function ShareScreen(props: any) {\n  const { data } = props;\n\n  return <ScreenShareCard track={data.track} />;\n}\n","// Canvas.tsx\nimport React, { useEffect, useRef, useState } from \"react\";\nimport UserSessions from \"../room/sessions\";\nimport ReactFlowHandler from \"./react-flow-handler\";\nimport {\n  TrackRefContext,\n  TrackReferenceOrPlaceholder,\n  useTracks,\n} from \"@livekit/components-react\";\nimport { RoomEvent, Track } from \"livekit-client\";\nimport FullLoading from \"../full-loading\";\n\nconst Canvas: React.FC = () => {\n  const [init, setInit] = useState(false);\n\n  const [track, setTrack] = useState<TrackReferenceOrPlaceholder>();\n\n  const tracks = useTracks(\n    [\n      { source: Track.Source.Camera, withPlaceholder: true },\n      { source: Track.Source.ScreenShare, withPlaceholder: false },\n    ],\n    {\n      updateOnlyOn: [\n        RoomEvent.ActiveSpeakersChanged,\n        RoomEvent.Reconnected,\n        RoomEvent.Reconnecting,\n        RoomEvent.MediaDevicesChanged,\n        RoomEvent.LocalTrackPublished,\n        RoomEvent.TrackUnsubscribed,\n      ],\n      onlySubscribed: true,\n    }\n  );\n\n  useEffect(() => {\n    if (tracks.length === 0) return;\n\n    if (init === true) return;\n    setTrack(tracks?.[0]);\n\n    setInit(true);\n\n    const t = setTimeout(() => {\n      setTrack(undefined);\n    }, 1000);\n\n    return () => clearTimeout(t);\n  }, [tracks, init]);\n\n  // if (init === false) return <FullLoading />;\n\n  return (\n    <div id='canvas-board' className='w-full h-[1080px] relative'>\n      <TrackRefContext.Provider value={track}>\n        <UserSessions>\n          <ReactFlowHandler tracks={tracks} />\n        </UserSessions>\n      </TrackRefContext.Provider>\n    </div>\n  );\n};\n\nexport default Canvas;\n","import React, { useEffect } from \"react\";\nimport { useRoomContext } from \"../room-context\";\nimport RoomSidebar from \"../sidebar\";\nimport RoomSettings from \"../settings\";\nimport LiveKitAudioManager from \"../components/audio-manager\";\nimport InitRoom from \"./init-room\";\nimport CanvasBoard from \"../../canvas-board\";\nimport { useSocket } from \"@/routes/private-wrarpper\";\n\nexport default function RoomInner() {\n  const socket = useSocket();\n\n  const { sidebar, joinRoom } = useRoomContext();\n\n  useEffect(() => {\n    const fn = () => {\n      joinRoom();\n    };\n    socket?.on(\"connect\", fn);\n    return () => {\n      socket?.off(\"connect\", fn);\n    };\n  }, [socket, joinRoom]);\n\n  let mainRoomHolderClss = \"main-room-holder w-full h-screen overflow-hidden\";\n  if (sidebar) mainRoomHolderClss += \" pr-[376px]\";\n\n  useEffect(() => {\n    joinRoom();\n  }, []);\n\n  return (\n    <>\n      <InitRoom />\n      <div id='main-room-holder' className={mainRoomHolderClss}>\n        <div className='w-full   h-full relative'>\n          <CanvasBoard />\n        </div>\n        {!!sidebar && (\n          <div className='fixed right-0 top-0 bottom-0 w-[376px] bg-white h-screen overflow-y-auto'>\n            <RoomSidebar>\n              <RoomSettings />\n            </RoomSidebar>\n          </div>\n        )}\n        <LiveKitAudioManager />\n      </div>\n    </>\n  );\n}\n","\"use client\";\nimport { useEffect } from \"react\";\nexport type DisconnectLayoutProps = {\n  onReTry?: () => void;\n};\n\nexport default function DisconnectedInvisible({\n  onReTry,\n}: DisconnectLayoutProps) {\n  const onReloadHandler = async () => {\n    if (onReTry) onReTry();\n  };\n\n  useEffect(() => {\n    const timeout = setInterval(() => {\n      onReloadHandler();\n    }, 2000);\n\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, []);\n\n  return null;\n}\n","import { useEffect, useState } from \"react\";\nimport { ConnectionState, RoomEvent } from \"livekit-client\";\nimport { useRoomContext } from \"@livekit/components-react\";\nimport useQueryParams from \"@/hooks/use-query-params\";\nimport DisconnectedInvisible from \"./disconnected-invisible\";\nimport { VARZ } from \"@/const/varz\";\n\nfunction LiveKitConnectionStatus() {\n  const { query } = useQueryParams();\n  const livekit_token = query?.token;\n\n  const [connectionStatus, setConnectionStatus] =\n    useState<string>(\"Disconnected\");\n\n  const room = useRoomContext();\n\n  useEffect(() => {\n    const onConnect = () => {\n      setConnectionStatus(RoomEvent.Connected);\n    };\n    const onDisConnect = () => {\n      setConnectionStatus(RoomEvent.Disconnected);\n    };\n    const onReconnecting = () => {\n      setConnectionStatus(RoomEvent.Reconnecting);\n    };\n    const onReconnected = () => {\n      setConnectionStatus(RoomEvent.Reconnected);\n    };\n\n    const connectToRoom = async () => {\n      if (!room) return;\n\n      // Handle connection events\n      room.on(RoomEvent.Connected, onConnect);\n\n      room.on(RoomEvent.Disconnected, onDisConnect);\n\n      room.on(RoomEvent.Reconnecting, onReconnecting);\n\n      room.on(RoomEvent.Reconnected, onReconnected);\n\n      room.on(RoomEvent.Reconnecting, onReconnecting);\n    };\n\n    connectToRoom();\n\n    return () => {\n      // Clean up event listeners when the component unmounts or room changes\n      if (room) {\n        room.off(RoomEvent.Connected, onConnect);\n        room.off(RoomEvent.Disconnected, onDisConnect);\n        room.off(RoomEvent.Reconnecting, onReconnecting);\n        room.off(RoomEvent.Reconnected, onReconnected);\n        room.off(RoomEvent.Reconnecting, onReconnecting);\n        room.disconnect();\n      }\n    };\n  }, []);\n\n  const onReconnect = () => {\n    if (!VARZ.serverUrl) return;\n\n    if (room.state === ConnectionState.Connected) return;\n\n    room.connect(VARZ.serverUrl, livekit_token);\n  };\n\n  if (connectionStatus == RoomEvent.Disconnected)\n    return <DisconnectedInvisible onReTry={onReconnect} />;\n\n  return null;\n}\n\nexport default LiveKitConnectionStatus;\n","\"use client\";\n\nimport CDialog, { CDialogProps } from \".\";\n\nexport default function CRawDialog(props: CDialogProps) {\n  let clss = \"[&_.right-4]:hidden\";\n  if (props.dialogContentCss) clss += ` ${props.dialogContentCss}`;\n\n  return <CDialog {...props} dialogContentCss={clss} />;\n}\n","import CotopiaButton from \"@/components/shared-ui/c-button\";\nimport CRawDialog from \"@/components/shared-ui/c-dialog/raw-dialog\";\nimport CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport { X } from \"lucide-react\";\n\nexport default function AllowVideoBtn() {\n  return (\n    <CRawDialog\n      trigger={(open) => (\n        <CotopiaButton onClick={open}>Allow camera</CotopiaButton>\n      )}\n      dialogContentCss='w-[780px] max-w-full'\n    >\n      {(close) => (\n        <div className='flex flex-col md:flex-row items-center gap-4 relative'>\n          <CotopiaIconButton\n            onClick={close}\n            className='absolute top-[-8px] right-[-8px]'\n          >\n            <X className='text-black' />\n          </CotopiaIconButton>\n          <img\n            src={`/assets/permissions-flag.svg`}\n            alt='Permissions flag'\n            width={322.5}\n            height={322.5}\n          />\n          <div className='flex flex-col gap-y-4'>\n            <strong className='text-xl'>\n              Meet is blocked from using your camera!\n            </strong>\n            <p className='text-base text-black/60'>Please allow that</p>\n          </div>\n        </div>\n      )}\n    </CRawDialog>\n  );\n}\n","import React, { ReactNode } from \"react\";\nimport AllowVideoBtn from \"./allow-video-btn\";\n\ntype Props = {\n  hasVideoAccess: boolean;\n  videoNode?: ReactNode;\n  hasVideoStream?: boolean;\n};\nexport default function Video({\n  hasVideoAccess,\n  hasVideoStream,\n  videoNode,\n}: Props) {\n  let content = <>{videoNode}</>;\n\n  if (hasVideoAccess === false)\n    content = (\n      <div className='flex flex-col gap-y-2 items-center justify-center'>\n        <strong className='text-xl'>\n          Do you want people to see you in the meeting?\n        </strong>\n        <AllowVideoBtn />\n      </div>\n    );\n\n  if (!hasVideoStream)\n    content = (\n      <div className='flex flex-col gap-y-2 items-center justify-center'>\n        <strong className='text-xl'>Camera is off</strong>\n      </div>\n    );\n\n  return (\n    <div className='w-full relative min-h-[300px] flex flex-col items-center justify-center bg-black/10 rounded-lg overflow-hidden'>\n      {content}\n    </div>\n  );\n}\n","import CotopiaIconButton from \"@/components/shared-ui/c-icon-button\";\nimport { Mic, Video as IconVideo } from \"lucide-react\";\nimport React, { useEffect, useRef } from \"react\";\nimport CotopiaButton from \"@/components/shared-ui/c-button\";\nimport Video from \"./video\";\nimport { useRoomHolder } from \"..\";\nimport { useSocket } from \"@/routes/private-wrarpper\";\n\ninterface MediaAccessProps {\n  onChecked: () => void;\n}\n\nconst CheckPermissions2: React.FC<MediaAccessProps> = ({ onChecked }) => {\n  const socket = useSocket();\n\n  const {\n    stream,\n    stream_loading,\n    enableVideoAccess,\n    disableVideoAccess,\n    enableAudioAccess,\n    disableAudioAccess,\n    changeStreamState,\n  } = useRoomHolder();\n\n  const permissions = stream.permissions;\n  const hasVideoAccess = permissions.video;\n  const hasAudioAccess = permissions.audio;\n  const videoStream = stream.videoStream;\n  const audioStream = stream.audioStream;\n\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const firstAudRef = useRef<boolean>(true);\n  const firstVidRef = useRef<boolean>(true);\n\n  useEffect(() => {\n    if (videoRef.current && videoStream) {\n      videoRef.current.srcObject = videoStream;\n    }\n  }, [videoStream]);\n\n  useEffect(() => {\n    const audioStreaming = async () => {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      changeStreamState(stream, \"audio\");\n      firstAudRef.current = false;\n    };\n\n    if (!!firstAudRef.current && hasAudioAccess) {\n      audioStreaming();\n    }\n  }, [hasAudioAccess, firstAudRef]);\n\n  useEffect(() => {\n    const videoStreaming = async () => {\n      const stream = await navigator.mediaDevices.getUserMedia({ video: true });\n      changeStreamState(stream, \"video\");\n      firstAudRef.current = false;\n    };\n    if (!!firstVidRef.current && hasVideoAccess) {\n      videoStreaming();\n      firstVidRef.current = false;\n    }\n  }, [hasVideoAccess, firstVidRef]);\n\n  const handleToggleVideo = () => {\n    if (videoStream) {\n      disableVideoAccess();\n    } else {\n      enableVideoAccess();\n    }\n  };\n\n  const handleToggleAudio = () => {\n    if (audioStream) {\n      disableAudioAccess();\n    } else {\n      enableAudioAccess();\n    }\n  };\n\n  const handleJoin = async () => {\n    if (onChecked) onChecked();\n  };\n\n  let videoButtonClss = \"text-black border bg-white\";\n\n  if (hasVideoAccess && videoStream)\n    videoButtonClss = \"!bg-destructive !text-white\";\n\n  let audioButtonClss = \"text-black border bg-white\";\n\n  if (hasAudioAccess && audioStream)\n    audioButtonClss = \"!bg-destructive !text-white\";\n\n  return (\n    <div className='flex flex-col gap-y-4 items-center w-[400px] max-w-full mx-auto my-8'>\n      <h2 className=' text-xl font-bold'>Media Access</h2>\n      <Video\n        hasVideoAccess={!!hasVideoAccess}\n        hasVideoStream={videoStream !== null}\n        videoNode={\n          <video\n            ref={videoRef}\n            autoPlay\n            playsInline\n            style={{ width: \"100%\", maxWidth: \"600px\" }}\n          />\n        }\n      />\n\n      <div className='flex flex-row items-center gap-x-2'>\n        <CotopiaIconButton\n          disabled={stream_loading}\n          variant={\"default\"}\n          className={videoButtonClss}\n          onClick={handleToggleVideo}\n        >\n          <IconVideo />\n        </CotopiaIconButton>\n        <CotopiaIconButton\n          disabled={stream_loading}\n          variant={\"default\"}\n          className={audioButtonClss}\n          onClick={handleToggleAudio}\n        >\n          <Mic />\n        </CotopiaIconButton>\n      </div>\n      <div>\n        <CotopiaButton\n          loading={!!!socket}\n          disabled={stream_loading}\n          onClick={handleJoin}\n          className='bg-blue-500 min-w-[100px]'\n        >\n          Join Now\n        </CotopiaButton>\n      </div>\n    </div>\n  );\n};\n\nexport default CheckPermissions2;\n","\"use client\";\n\nimport useSetting from \"@/hooks/use-setting\";\nimport { playSoundEffect } from \"@/lib/sound-effects\";\nimport {\n  removeMessageAction,\n  unreadMessagesAction,\n  updateMessagesAction,\n} from \"@/store/slices/room-slice\";\nimport { useAppDispatch } from \"@/store\";\nimport { ChatItemType } from \"@/types/chat\";\nimport { Chat2ItemType } from \"@/types/chat2\";\nimport { ReactNode } from \"react\";\nimport { useSocket } from \"@/routes/private-wrarpper\";\n\ntype Props = {\n  children: ReactNode;\n};\nexport default function ChatWrapper({ children }: Props) {\n  const settings = useSetting();\n\n  const appDispatch = useAppDispatch();\n\n  useSocket(\n    \"messageReceived\",\n    (data: ChatItemType) => {\n      console.log(data, \"RECEIVED DATA\");\n      const isDirect = data?.is_direct;\n\n      if (settings.sounds.messageIncoming) playSoundEffect(\"newMessage2\");\n\n      appDispatch(\n        updateMessagesAction({\n          message: data,\n        })\n      );\n      appDispatch(\n        unreadMessagesAction({\n          message: data,\n          messageType: isDirect ? \"direct\" : \"room\",\n        })\n      );\n    },\n    [settings.sounds.messageIncoming]\n  );\n\n  useSocket(\"messageSeen\", (data) => {\n    const message = data.message;\n    let convertedMessage = { ...message, seen: true };\n    appDispatch(\n      updateMessagesAction({\n        message: convertedMessage,\n      })\n    );\n  });\n\n  useSocket(\"messageUpdated\", (data: Chat2ItemType) => {\n    console.log(data, \"MESSAGE UPDATED\");\n    appDispatch(updateMessagesAction({ message: data }));\n  });\n  useSocket(\"messageDeleted\", (data: Chat2ItemType) => {\n    console.log(data, \"MESSAGE Deleted\");\n    appDispatch(removeMessageAction({ message: data }));\n  });\n\n  return <>{children}</>;\n}\n","\"use client\";\n\nimport { useEffect } from \"react\";\nexport type DisconnectLayoutProps = {\n  onReTry?: () => void;\n};\n\nexport default function Disconnected({ onReTry }: DisconnectLayoutProps) {\n  const onReloadHandler = async () => {\n    if (onReTry) onReTry();\n  };\n\n  useEffect(() => {\n    const timeout = setInterval(() => {\n      onReloadHandler();\n    }, 2000);\n\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, []);\n\n  return null;\n}\n","import { LiveKitRoom } from \"@livekit/components-react\";\nimport RoomContext from \"./room-context\";\nimport RoomInner from \"./room-inner\";\nimport { WorkspaceRoomJoinType } from \"@/types/room\";\nimport {\n  createContext,\n  useCallback,\n  useContext,\n  useEffect,\n  useReducer,\n  useState,\n} from \"react\";\nimport LiveKitConnectionStatus from \"./connection-status\";\nimport CheckPermissions2 from \"./check-permissions-2\";\nimport ChatWrapper from \"../chat-wrapper\";\nimport { ReactFlowProvider } from \"@xyflow/react\";\nimport Disconnected from \"./connection-status/disconnected\";\nimport { toast } from \"sonner\";\nimport axiosInstance, { FetchDataType } from \"@/services/axios\";\nimport { VARZ } from \"@/const/varz\";\nimport { useSocket } from \"@/routes/private-wrarpper\";\n\ntype MediaPermission = {\n  audio: boolean;\n  video: boolean;\n};\n\nconst DEFAULT_MEDIA_PERMISSIONS = {\n  audio: false,\n  video: false,\n};\n\nconst initialState: InitStreamType = {\n  loading: false,\n  permissions: DEFAULT_MEDIA_PERMISSIONS,\n  videoStream: null,\n  audioStream: null,\n};\nconst RoomHolderContext = createContext<{\n  mediaPermissions: MediaPermission;\n  enableVideoAccess: () => void;\n  enableAudioAccess: () => void;\n  disableVideoAccess: () => void;\n  disableAudioAccess: () => void;\n  changeStreamState: (stream: MediaStream, type: \"video\" | \"audio\") => void;\n  stream: InitStreamType;\n  stream_loading: boolean;\n}>({\n  mediaPermissions: DEFAULT_MEDIA_PERMISSIONS,\n  enableVideoAccess: () => {},\n  enableAudioAccess: () => {},\n  disableVideoAccess: () => {},\n  disableAudioAccess: () => {},\n  changeStreamState: () => {},\n  stream: initialState,\n  stream_loading: false,\n});\n\nexport const useRoomHolder = () => useContext(RoomHolderContext);\n\ntype Props = {\n  token: string;\n  workspace_id: string;\n  room_id: number;\n  isReConnecting?: boolean;\n  isSwitching?: boolean;\n};\n\ntype InitStreamType = {\n  loading: boolean;\n  permissions: MediaPermission;\n  videoStream: MediaStream | null;\n  audioStream: MediaStream | null;\n};\n\ntype StreamActionType =\n  | { type: \"CHANGE_PERMISSION\"; payload: { audio: boolean; video: boolean } }\n  | { type: \"START_LOADING\" }\n  | { type: \"STOP_LOADING\" }\n  | { type: \"CHANGE_VALUES\"; payload: { [key: string]: any } };\n\nconst reducer = (state: InitStreamType, action: StreamActionType) => {\n  switch (action.type) {\n    case \"CHANGE_PERMISSION\":\n      const permissions = action.payload;\n      return { ...state, permissions };\n    case \"CHANGE_VALUES\":\n      return { ...state, ...action.payload };\n    case \"START_LOADING\":\n      return { ...state, loading: true };\n    case \"STOP_LOADING\":\n      return { ...state, loading: false };\n    case \"CHANGE_VALUES\":\n      return { ...state, ...action.payload };\n    default:\n      return state;\n  }\n};\n\nexport default function RoomHolder({\n  token,\n  workspace_id,\n  room_id,\n  isReConnecting,\n  isSwitching,\n}: Props) {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const [permissionChecked, setPermissionChecked] = useState(false);\n\n  const enableVideoAccess = async () => {\n    const audioAccess = state.permissions.audio;\n    const audioStream = state.audioStream;\n    let perm_obj = { audio: !!(audioAccess && audioStream), video: true };\n    try {\n      dispatch({ type: \"START_LOADING\" });\n      await axiosInstance.post(\"/settings\", { key: \"video\", value: \"on\" });\n      const stream = await navigator.mediaDevices.getUserMedia({ video: true });\n      const obj_to_update = {\n        loading: false,\n        videoStream: stream,\n        permissions: perm_obj,\n      };\n      dispatch({ type: \"CHANGE_VALUES\", payload: obj_to_update });\n    } catch (error) {\n      dispatch({ type: \"STOP_LOADING\" });\n    }\n  };\n  const disableVideoAccess = async () => {\n    const audioAccess = state.permissions.audio;\n    const audioStream = state.audioStream;\n    const videoStream = state.videoStream;\n    if (!videoStream) return;\n    let perm_obj = { audio: !!(audioAccess && audioStream), video: false };\n    try {\n      dispatch({ type: \"START_LOADING\" });\n      await axiosInstance.post(\"/settings\", { key: \"video\", value: \"off\" });\n      const videoTracks = videoStream.getTracks();\n      videoTracks.forEach((track) => {\n        track.stop();\n      });\n      const obj_to_update = {\n        loading: false,\n        permissions: perm_obj,\n        videoStream: null,\n      };\n      dispatch({ type: \"CHANGE_VALUES\", payload: obj_to_update });\n    } catch (error) {\n      dispatch({ type: \"STOP_LOADING\" });\n    }\n  };\n  const enableAudioAccess = async () => {\n    const videoAccess = state.permissions.video;\n    const videoStream = state.videoStream;\n    let perm_obj = { video: !!(videoAccess && videoStream), audio: true };\n    try {\n      dispatch({ type: \"START_LOADING\" });\n      await axiosInstance.post(\"/settings\", { key: \"audio\", value: \"on\" });\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      const obj_to_update = {\n        loading: false,\n        permissions: perm_obj,\n        audioStream: stream,\n      };\n      dispatch({ type: \"CHANGE_VALUES\", payload: obj_to_update });\n    } catch (error) {\n      dispatch({ type: \"STOP_LOADING\" });\n    }\n  };\n  const disableAudioAccess = async () => {\n    const videoAccess = state.permissions.video;\n    const videoStream = state.videoStream;\n    const audioStream = state.audioStream;\n    if (!audioStream) return;\n    let perm_obj = { video: !!(videoAccess && videoStream), audio: false };\n    try {\n      dispatch({ type: \"START_LOADING\" });\n      await axiosInstance.post(\"/settings\", { key: \"audio\", value: \"off\" });\n      const videoTracks = audioStream.getTracks();\n      videoTracks.forEach((track) => {\n        track.stop();\n      });\n      const obj_to_update = {\n        loading: false,\n        permissions: perm_obj,\n        audioStream: null,\n      };\n      dispatch({ type: \"CHANGE_VALUES\", payload: obj_to_update });\n    } catch (error) {\n      dispatch({ type: \"STOP_LOADING\" });\n    }\n  };\n  const changeStreamState = (stream: MediaStream, type: \"video\" | \"audio\") => {\n    let key = \"\";\n    if (type === \"video\") key = \"videoStream\";\n    if (type === \"audio\") key = \"audioStream\";\n    if (!key) return;\n    dispatch({ type: \"CHANGE_VALUES\", payload: { [key]: stream } });\n  };\n\n  useEffect(() => {\n    const getSettings = async () => {\n      try {\n        dispatch({ type: \"START_LOADING\" });\n        const res = await axiosInstance.get(\"/users/settings\");\n        const settings: { [key: string]: any }[] = res.data.data ?? [];\n        let videoAccess = settings.find((x) => x.key === \"video\");\n        let audioAccess = settings.find((y) => y.key === \"audio\");\n        let video = videoAccess?.value === \"on\" ? true : false;\n        let audio = audioAccess?.value === \"on\" ? true : false;\n        dispatch({\n          type: \"CHANGE_VALUES\",\n          payload: {\n            loading: false,\n            permissions: { video, audio },\n          },\n        });\n      } catch (error) {\n        dispatch({ type: \"STOP_LOADING\" });\n      }\n    };\n    getSettings();\n  }, []);\n\n  let content = (\n    //@ts-ignore\n    <LiveKitRoom\n      video={state.permissions.video}\n      audio\n      token={token}\n      serverUrl={VARZ.serverUrl}\n      options={{\n        publishDefaults: {\n          videoEncoding: {\n            maxBitrate: 1_500_000,\n            maxFramerate: 30,\n          },\n          screenShareEncoding: {\n            maxBitrate: 3_000_000,\n            maxFramerate: 60,\n          },\n          dtx: true,\n          videoSimulcastLayers: [\n            {\n              width: 640,\n              height: 360,\n              resolution: {\n                width: 1280,\n                height: 720,\n                frameRate: 30,\n              },\n              encoding: {\n                maxBitrate: 500_000,\n                maxFramerate: 20,\n              },\n            },\n            {\n              width: 320,\n              height: 180,\n              resolution: {\n                width: 1280,\n                height: 720,\n                frameRate: 30,\n              },\n              encoding: {\n                maxBitrate: 150_000,\n                maxFramerate: 15,\n              },\n            },\n          ],\n        },\n        videoCaptureDefaults: {\n          deviceId: \"\",\n          facingMode: \"user\",\n          resolution: {\n            width: 94,\n            height: 94,\n            frameRate: 30,\n          },\n        },\n\n        audioCaptureDefaults: {\n          autoGainControl: true,\n          deviceId: \"\",\n          echoCancellation: true,\n          noiseSuppression: true,\n          sampleRate: 100,\n        },\n      }}\n    >\n      <LiveKitConnectionStatus />\n      <RoomInner />\n    </LiveKitRoom>\n  );\n\n  const socket = useSocket();\n\n  const handleReTry = () => {\n    console.log(\"retry to connect!\");\n  };\n\n  const handleJoin = useCallback(async () => {\n    console.log(\"should join!\");\n    console.log(socket);\n    socket?.emit(\"joinedRoom\", room_id, async () => {\n      axiosInstance\n        .get<FetchDataType<WorkspaceRoomJoinType>>(`/rooms/${room_id}/join`)\n        .then((res) => {\n          setPermissionChecked(true);\n        })\n        .catch((err) => {\n          toast.error(\"Couldn't join to the room!\");\n        });\n    });\n  }, [socket, room_id]);\n\n  if (permissionChecked === false && !isReConnecting && !isSwitching)\n    content = <CheckPermissions2 onChecked={handleJoin} />;\n\n  return (\n    <RoomHolderContext.Provider\n      value={{\n        mediaPermissions: {\n          video: state.permissions.video,\n          audio: state.permissions.audio,\n        },\n        stream_loading: state.loading,\n        changeStreamState,\n        enableAudioAccess,\n        enableVideoAccess,\n        disableAudioAccess,\n        disableVideoAccess,\n        stream: state,\n      }}\n    >\n      <ReactFlowProvider>\n        <ChatWrapper>\n          <RoomContext room_id={room_id} workspace_id={workspace_id}>\n            {socket?.connected === false && (\n              <Disconnected onReTry={handleReTry} />\n            )}\n            {content}\n          </RoomContext>\n        </ChatWrapper>\n      </ReactFlowProvider>\n    </RoomHolderContext.Provider>\n  );\n}\n","\"use client\";\n\nimport {\n  LayoutContext,\n  useEnsureCreateLayoutContext,\n} from \"@livekit/components-react\";\nimport { ReactNode } from \"react\";\n\ntype Props = {\n  children: ReactNode;\n};\nexport default function RoomWrapper({ children }: Props) {\n  const contextValues = useEnsureCreateLayoutContext();\n\n  return (\n    <LayoutContext.Provider value={contextValues}>\n      {children}\n    </LayoutContext.Provider>\n  );\n}\n","\"use client\";\n\nimport RoomHolder from \"@/components/shared/room\";\nimport RoomWrapper from \"@/components/shared/room/wrapper\";\nimport { useEffect, useState } from \"react\";\nimport useQueryParams from \"@/hooks/use-query-params\";\n\ntype Props = {\n  token: string; //Currently we are using livekit, so livekit token\n  workspace_id: string;\n  room_id: number;\n};\nexport default function RoomSpatialWrapper({\n  token,\n  workspace_id,\n  room_id,\n}: Props) {\n  const { query } = useQueryParams();\n\n  const [isSwitching, setIsSwitching] = useState(false);\n  useEffect(() => {\n    if (query?.isSwitching) {\n      setIsSwitching(true);\n    }\n  }, [query?.isSwitching]);\n\n  return (\n    <div className='max-h-screen'>\n      <RoomWrapper>\n        <RoomHolder\n          token={token}\n          room_id={room_id}\n          workspace_id={workspace_id}\n          isSwitching={isSwitching}\n        />\n      </RoomWrapper>\n    </div>\n  );\n}\n","import RoomSpatialWrapper from \"@/components/shared/room-spatial-wrapper\";\nimport useQueryParams from \"@/hooks/use-query-params\";\nimport { useParams } from \"react-router-dom\";\n\nexport default function WorkspaceRoomPage() {\n  const { query } = useQueryParams();\n  const { workspace_id, room_id } = useParams();\n\n  console.log(\"query\", query);\n\n  if (!workspace_id || !room_id) return null;\n\n  return (\n    <RoomSpatialWrapper\n      token={query?.token}\n      workspace_id={workspace_id}\n      room_id={+room_id}\n    />\n  );\n}\n"],"names":["Avatar","React","_ref","ref","className","props","_jsx","AvatarPrimitive","cn","displayName","AvatarImage","_ref2","AvatarFallback","_ref3","CotopiaAvatar","title","src","rest","_jsxs","children","draggable","CotopiaButton","_rest$disabled","_rest$className","loading","startIcon","endIcon","isDisabled","disabled","clss","Button","type","Loader","_Fragment","CotopiaIconButton","clssName","variant","size","CotopiaInput","label","helperText","hasError","renderInput","inputClasss","helperTextClss","contentInput","Input","FullLoading","NotFound","icon","desc","afterDesc","Section","action","WorkspaceAvatar","WorkspaceTitle","WorkspaceDate","date","createdAtTime","moment","fromNow","WorkspaceItem","_localWorkspace$creat","item","localWorkspace","setLocalWorkspace","useState","avatarTitle","toUpperCase","useSocket","data","id","Link","to","created_at","Workspaces","items","length","Route","map","workspace","buttonVariants","cva","variants","default","destructive","outline","secondary","ghost","link","sm","lg","defaultVariants","asChild","Comp","Slot","initOptions","method","undefined","key","isFetch","useApi","url","op","_op$isFetch","_op$key","config","arguments","shouldRetryOnError","useSWR","async","options","axiosInstance","useNextApi","get","baseURL","useLoading","isLoading","setLoading","startLoading","stopLoading","useQueryParams","searchParams","useSearchParams","query","value","entries","useSetting","useAppSelector","store","setting","sounds","backgroundChanged","Howl","coordinateChanged","newMessage","newMessage2","userGotClosed","left","joined","elseUserleft","elseUserJoin","playSoundEffect","soundName","play","RoomCtx","createContext","room","livekit_token","room_id","workspace_id","sidebar","updateUserCoords","username","position","openSidebar","closeSidebar","audioState","videoState","changePermissionState","newValue","joinRoom","leaderboard","scheduled","workpaceUsers","workspaceJobs","workingUsers","onlineUsers","usersHaveJobs","usersHaveInProgressJobs","useRoomContext","useContext","RoomContext","_query$token","setRoom","useEffect","roomId","then","_res$data","res","catch","err","settings","token","socket","navigate","useNavigate","permissionState","setPermissionState","audio","video","setSidebar","leaderboardData","leaderboardUsers","schedulesData","schedulesItems","workspaceUsersData","mutate","mutateWorkspaceUsers","_room$participants2","newParticipants","participants","filter","x","user","_room$participants3","workpaceJobs","workpaceJobItems","usersHaveSchedules","job","jobMember","members","push","useMemo","users","member","uniqueById","status","usersWithInprogressJobIds","active","includes","Provider","_room$participants","participant_index","findIndex","coordinates","y","console","log","prev","emit","livekitToken","userJoinLeft","RoomSidebar","Tabs","TabsPrimitive","TabsList","TabsTrigger","TabsContent","CTabs","defaultValue","titleClassName","dividerBetweenContentAndTabs","onChangeTab","onValueChange","content","SettingsChatAction","Dialog","DialogPrimitive","DialogTrigger","DialogPortal","DialogClose","DialogOverlay","DialogContent","X","DialogHeader","DialogFooter","_ref4","DialogTitle","_ref5","DialogDescription","_ref6","ModalBox","_finalClassName","trigger","hasClose","isOpen","setIsOpen","handleOpen","finalClassName","open","onOpenChange","handleClose","FullModalBox","AddChannelForm","onSubmit","touched","errors","getFieldProps","handleSubmit","useFormik","initialValues","validationSchema","Yup","shape","required","values","actions","post","toast","success","placeholder","Plus","AddChat","onClick","close","Slide","index","width","camera","useSlides","style","opacity","SlideContext","slides","slide","back","SlidePusher","parentRef","useRef","setWidth","current","getBoundingClientRect","setCamera","setSlides","handlePushSlide","setTimeout","handleBackSlide","pop","transform","useChat2","_props$hasInitFetch","useAuth","hasInitFetch","chat_id","chats","error","chat","dispatch","useAppDispatch","getChats","seenMessage","nonce_id","add","message","onSuccess","addMessage","send","text","mentions","links","files","user_id","unix","deleted_at","is_edited","is_pinned","reply_to","seen","updated_at","is_delivered","is_rejected","is_pending","generateTempChat","busDispatch","__BUS","scrollEndChatBox","update","updateMessage","seenFn","Object","keys","object","chatObjects","ChatDetails","sub_title","description","timeout","CBadge","count","showAnimate","hasAnimate","setHasAnimate","clearTimeout","UnSeenMessages","useChat","unSeenMessages","_chats$chat$id","_chats$chat$id$messag","targetChatUnseenMessages","messages","ChatPreview","_chat$title","_chat$last_message","_chat$last_message2","_chat$last_message3","slice","last_message","format","BackHolder","ArrowLeft","Popover","PopoverPrimitive","PopoverTrigger","PopoverContent","align","sideOffset","CotopiaPopover","contentClassName","triggerClassName","TooltipProvider","TooltipPrimitive","Tooltip","TooltipTrigger","TooltipContent","CotopiaTooltip","tooltipTriggerProps","AvailabiltyType","Days","schedule","handleSelect","handleDeSelect","selectedDay","today","days","Array","from","day","currentDay","find","isSelected","isToday","timeOfDayTooltip","times","start","end","join","onMouseEnter","onMouseLeave","getDay","Dot","Select","SelectPrimitive","SelectGroup","SelectValue","SelectTrigger","ChevronDown","SelectScrollUpButton","ChevronUp","SelectScrollDownButton","SelectContent","SelectItem","Check","CSelect","onChange","_ref7","generateAllTimes","hour","minute","formattedHour","toString","padStart","formattedMinute","TimePicker","setValue","handleChangeValue","useCallback","DayTime","dayTime","time","setTime","handleChange","nValue","Minus","Switch","SwitchPrimitives","CotopiaSwitch","_rest$id","switchId","uuidv4","htmlFor","DayPlus","DayRemove","Trash","initSheduleTimes","Day","availability_type","Voice","selected","handleAddDay","_prev$times","handleRemove","itemIndex","checked","onCheckedChange","handleChangeTime","TitleEl","CBadgeItem","isChecked","onSelect","CBadgeItems","defaultSelected","isSingular","setSelected","AvailabilityType","Video","Mic","Text","Pencil","DeleteEvent","eventId","onDelete","handleDelete","delete","Calendar","classNames","showOutsideDays","DayPicker","months","month","caption","caption_label","nav","nav_button","nav_button_previous","nav_button_next","table","head_row","head_cell","row","cell","day_range_end","day_selected","day_today","day_outside","day_disabled","day_range_middle","day_hidden","components","IconLeft","ChevronLeft","IconRight","ChevronRight","CDateInput","defaultDate","inputProps","setDate","formatedDate","onDayClick","AddScheduleContent","onClose","defaultId","onCreated","isEdit","recurrenceDates","setRecurrenceDates","isRecurrence","setIsRecurrence","availability","setAvailability","daysValue","setDaysValue","_defaultValue$is_recu","is_recurrence","recurrence_end","ends_at","recurrence_start","start_at","dayNumber","dayValue","handleChangeDay","prevDays","toDate","handleSubmitEvent","userTimeZone","Intl","DateTimeFormat","resolvedOptions","timeZone","payload","timezone","daysArray","dayIndex","a","Save","EditButton","_schedule$recurrence_","_schedule$recurrence_2","finalDays","_item$times$map","_item$times","recurrence_start_at","recurrence_end_at","Edit","ScheduleOverview","labelOutput","output","icons","ScheduleItem","justView","todayDay","setSelectedDay","scheduleDays","Repeat","Schedules","BoxHolder","CircleMinus","SchedulesList","_user$username","useUserDetail","schedules","totalHours","estimateTotalHoursBySchedules","capitalizeWords","UserSchedules","userLabel","name","boxLabel","UserMood","Laugh","myAccount","rf","useReactFlow","nodes","getNodes","navOnUserHandler","_bgNode$measured$widt","_bgNode$measured","_jailNode$measured$wi","_jailNode$measured","_bgNode$measured$heig","_bgNode$measured2","_jailNode$measured$he","_jailNode$measured2","_targetUser$measured","_targetUser$measured2","targetUser","n","jailNode","VARZ","jailNodeType","bgNode","backgroundNodeType","wDiff","measured","hDiff","height","h","w","xdimension","ydimension","radius","zoom","setCenter","duration","aroundX","aroundY","getAroundPoints","r","margin","angle","Math","random","PI","distance","xPosition","cos","yPosition","sin","teleportMargin","newCoords","sendingObject","changeMyUserCoord","LocateFixed","UserCover","_user$avatar","currentRoomId","inCurrentRoom","isMineAccount","avatar","UserNavigate","UserDate","createdAt","UserDetailContext","Details","ParticipantDetails","ChatUserOverView","_capitalizeWords$","_capitalizeWords","getUser","useChatItem","ChatDate","ChatItemContent","isMyUser","linkElement","attributes","view","overflowWrap","target","dir","wordBreak","whiteSpace","split","line","Linkify","nl2br","render","mention","formatHref","ChatItemContext","ChatItem","isMine","divRef","isVisible","setIsVisible","observer","IntersectionObserver","entry","isIntersecting","threshold","observe","unobserve","FetchingProgress","UnSeenHandlers","_items$","unSeenCount","handleReachMessages","seenAllMessages","Items","marginFetching","onFetchNewMessages","onGetVirtualizer","profile","isScrollToTop","latestMessage","isFetching","setIsFetching","reverse","rowVirtualizer","useVirtualizer","getScrollElement","estimateSize","measureElement","el","useBus","scrollToIndex","behavior","handleScroll","_parentRef$current","scrollTop","scrollElement","addEventListener","removeEventListener","_latestMessage$curren","contain","getTotalSize","getVirtualItems","virtualRow","top","EmojiHandlerButton","onPick","Smile","EmojiPicker","onEmojiClick","emoji","MicButtonHandler","TextButtonHandler","SendHorizonal","SendHandlerButton","onSend","setText","textareaRef","scrollHeight","e","onKeyDown","event","shiftKey","preventDefault","rows","resize","inputValue","setInputValue","handleAddMessage","trim","handleAddEmoji","MultilineTextarea","ChatInput","ChatInnerHolder","_chatObjects$chat$id$","_chatObjects$chat$id","onBack","chatRef","chatMessages","handleSendMessage","getChatMessages","Chat2","vir","ChatContext","Chat","ChatsWrapper","loadUserByUserId","chatSortedByLastMessage","sort","b","_b$last_message","_a$last_message","WorkspaceChats","UserChat","UserAvatar","toolTipTitle","wrapper","Wrapper","Avatars","_createElement","Participants","customTitle","avatarClss","_x$avatar","_x$name","ParticipantsWithPopover","p","OnlineUsers","usersHaveInProgressJobsId","onlineUsersCount","WorkingCard","userJobs","jobs","_job$members","jobMemberIds","total_hours","WorkingUsers","OfflineUsers","onlines","allOfflineParticipants","last_login","Time","onHide","isShow","setIsShow","startMoment","timeStringToMoment","endMoment","now","diff","TimeShower","Card","isHide","setIsHide","handleHide","timeToday","dayTarget","SchedulesSummary","localSchedules","setLocalSchedules","sch","handleRemoveSchedule","ScheduledUsers","onlineUserIds","finalSchedules","WorkspaceUsers","CBadgeSimple","AddRoomForm","isSubmitting","setSubmitting","AddRoom","onAdd","_","CDialog","dialogContentCss","modal","CotopiaPromptContent","submitText","hasNotAction","DeleteRoom","WorkspaceRoom","selected_room_id","urlWithQueryParams","isSwitching","Cast","WorkspaceRooms","rooms","WorkspaceRoomsHolder","useParams","setRooms","prevRoom","WorkspaceSidebar","RoomSettings","_roomSlice$messages_c","roomSlice","state","messagesCount","messages_count","objects","roomIds","directsIds","directs","flatMap","totalCount","AudioLines","MessagesSquare","Users","DEFAULT_TILE_POSITION","LiveKitAudioManager","useParticipants","isOverlap","user1","user2","_user1$coordinates","_user2$coordinates","user1Coordinates","user2Coordinates","sqrt","pow","calculateVolume","_user$coordinates","userCoordinates","volume","min","max","setVolume","userName","participant","identity","audioLevel","checkBoundaries","i","j","volume1","volume2","VideoInit","mediaPermissions","useRoomHolder","localParticipant","useLocalParticipant","voiceTrack","getTrackPublication","Track","Source","Camera","track","unmute","mute","stop","AudioInit","audioTrack","Microphone","InitRoom","AudioTrack","trackRef","onSubscriptionStatusChanged","muted","trackReference","useEnsureTrackRef","mediaEl","elementProps","isSubscribed","publication","pub","observerOptions","_observerOptions$part","setPublication","getTrackByIdentifier","isMuted","setMuted","setSubscribed","setTrack","orientation","setOrientation","previousElement","trackObserver","setupMediaTrack","sid","source","isTrackReference","trackSid","subscription","subscribe","debug","unsubscribe","_options$element2","_options$element","detach","element","isLocal","kind","attach","_publication$dimensio","_publication$dimensio2","dimensions","orientation_","mergeProps","useMediaTrackBySourceOrName","RemoteAudioTrack","warn","RemoteTrackPublication","setEnabled","RoomAudioRenderer","allParticipants","updatedMyUser","tracks","useTracks","ScreenShareAudio","Unknown","updateOnlyOn","onlySubscribed","Kind","Audio","display","trackOwner","_trackRef$participant","meet","volumePercentage","doCirclesMeet","getTrackReferenceId","DEFAULT_X","DEFAULT_Y","circle1","circle2","_circle1$coordinates$","_circle1$coordinates","_circle1$coordinates$2","_circle2$coordinates$","_circle2$coordinates","_circle2$coordinates$2","radiusHearing","voiceAreaRadius","userCoordinate1","user1Position","userCoordinate2","user2Position","UserSessions","ActionsRight","MicButton","useTrackMutedIndicator","MicOff","LiveKitVoiceFrequency","SessionWrapper","VoiceAreaHearing","isDragging","diameter","ParticipantContextIfNeeded","hasContext","useMaybeParticipantContext","ParticipantContext","TrackRefContextIfNeeded","useMaybeTrackRefContext","TrackRefContext","ParticipantTile","_useFeatureContext","_trackReference$parti","_trackReference$parti2","_targetUser$avatar$ur","_targetUser$avatar","_userFullName$","onParticipantClick","disableSpeakingIndicator","htmlProps","useParticipantTile","layoutContext","useMaybeLayoutContext","autoManageSubscription","useFeatureContext","autoSubscription","handleSubscribe","subscribed","pin","pinState","some","pinnedTrackReference","isTrackReferencePlaceholder","isTrackReferencePinned","msg","livekitIdentity","isSpeaking","userFullName","getUserFullname","trackContent","_trackReference$publi","VideoTrack","manageSubscription","showAvatar","quality","useConnectionQualityIndicator","finalTitle","ConnectionQuality","Lost","Poor","DraggableCircle","defaultIsDragging","useUserTile","Layer","Excellent","Good","TriangleAlert","WithConnectionQuality","SpacialParticipantContextIfNeeded","SessionContext","UserSession","maybeTrackRef","_trackRef$source","_trackRef$publication","_data$draggable","_data$username","dragging","withPlaceholder","ScreenShare","RoomEvent","ActiveSpeakersChanged","Reconnected","Reconnecting","MediaDevicesChanged","LocalTrackPublished","TrackUnsubscribed","targetKey","callback","handleKeyPress","window","bulletsNode","SquareArrowOutDownRight","selector","document","querySelector","resizerNode","start_width","start_height","start_mouse_x","start_mouse_y","aspect_ratio","stopPropagation","delta_x","clientX","delta_y","clientY","available_delta","abs","new_width","new_height","stopResize","parseFloat","getComputedStyle","getPropertyValue","replace","makeResizable","ScreenShareCard","_track$participant","isFullScreen","setIsFullScreen","isExpanded","setIsExpanded","liveKitIdentity","myTargetUser","myScreenShare","useKeyPress","videoContent","Minimize2","Maximize2","Minimize","Expand","handleStopShareScreen","stopMyScreenSharing","ResizableWrapper","createPortal","getElementById","TopLeftTools","ToolbarTopRight","ToolbarBottomLeft","ToolbarBottomRight","ToolbarBottomMiddle","Toolbar","topLeft","topRight","bottomLeft","bottomRight","bottomMiddle","ToolbarTopLeft","WorkspaceList","WorkspaceButton","Grid2X2","PopupBox","_triggerPosition$top","_triggerPosition$heig","triggerRef","setTriggerPosition","triggerPosition","_triggerRef$current","_triggerRect$top","_triggerRect$left","_triggerRect$height","_triggerRect$width","triggerRect","triggerClss","modalClss","zIndex","PopupBoxChild","AddScheduleButton","ShapesHandler","onGetMySchedules","ScheduleButton","myTotalSchedules","setMyTotalSchedules","CalendarDays","DropdownMenu","DropdownMenuPrimitive","DropdownMenuTrigger","inset","DropdownMenuContent","DropdownMenuItem","Circle","_ref8","selectItemHandler","clientWidth","Textarea","CotopiaTextarea","jobId","dropdownItems","_dropdownItems$find","workspaceId","setFieldValue","enableReinitialize","estimate","isSubmitDisabled","CotopiaDropdown","DeleteJobHandler","EditJobButton","fetchAgain","ManageJobContent","StatusBox","alpha","bgColor","textColor","backgroundColor","color","statusVariant","PlayJob","onStart","handlePlay","put","PlayCircle","PauseJob","onPause","handlePaused","PauseCircle","DeleteJob","DoneJob","onDone","handleDone","CheckCircle","JobActions","limitChar","JobStatus","isPaused","jobItems","JobItem","AddJobHandler","JobButton","Briefcase","JobList","CotopiaPrompt","isPortal","closePrompt","UserCardItem","_item$avatar$url","_item$avatar","userFullname","UserList","defaultSelectedId","UserSelector","afterTitle","search","setSearch","alertVariants","Alert","role","AlertTitle","AlertDescription","SelectedUser","UserIcon","CopyBtn","code","isCopied","setIsCopied","handleCopy","copy","Copy","CodePicker","onCopy","onCancel","finalCopyUrl","domain","readOnly","InviteButtonTool","selectedUser","setSelectedUser","invite","setInvite","handleInviteUser","model","model_id","UserRoundPlus","Progress","ProgressPrimitive","Image","image","backgroundImage","BASE_URL","process","NEXT_PUBLIC_API_URL","Doc","File","path","Link2","VideoIcon","imagesFormat","videoFormat","documentFormat","UploaderPreview","file","mime_type","Uploader","defaultMedia","onUpload","onUploadList","upload_text","isMultiple","hasWatermark","uploaderClass","resetAfterUpload","fileUploaded","setFileUploaded","handleUploadFile","formData","FormData","append","setUploadPercent","watermark","onUploadProgress","progressEvent","_progressEvent$total","progress","loaded","total","parseInt","toFixed","uploadPercent","uploaderContent","Upload","_res$data2","targetFile","multiple","UploadAvatar","avatar_id","handleDeleteAvatar","UserDetailForm","_user$name","AdditionalInformation","TitleSwitch","GlobalSettings","toggleSoundSettingAction","messageIncoming","AccountLogout","handleLogout","logout","UserSettings","UserCog","Cog","UserActionsAvatarButton","_user$avatar$url","UserAvatarButtonTool","UserLogoutButtonTool","handleBack","LogOut","GalleryItem","background_id","alt","Gallery","galleryItems","gallery","BackgroundSetting","PermissionsSetting","UserSettingsButtonTool","Settings","UserActionsGroup","UserChatsSettingsButtonTool","handleOpenChat","Menu","CloseSidebar","ChatActionsGroup","Timer","initialSeconds","seconds","setSeconds","timer","setInterval","prevSeconds","clearInterval","convertMinutesToHHMMSS","ScrollArea","ScrollAreaPrimitive","ScrollBar","Rank","rank","BlurFade","delay","yOffset","inView","inViewMargin","blur","inViewResult","useInView","once","isInView","combinedVariants","hidden","visible","AnimatePresence","motion","div","initial","animate","exit","transition","ease","TimeTrackingDetails","_leaderboardData$data","sum_minutes","_item$user","_item$user2","_item$user3","_item$user4","_item$user4$avatar","_item$user$name","_item$user5","isMe","hasCount","TimeTrackingButton","defaultSeconds","Clock","TimeTrackingButtonTool","period","mins","TopRightTools","VerticalDivider","UploaderList","allFiles","setAllFiles","handleDeleteFile","BugReportForm","onSubmitted","model_type","ReportBugButtonTool","Bug","PingShower","ping","setPing","interval","Date","Signal","SignalHigh","SignalMedium","SignalLow","BottomLeftTools","AddButtonTool","BroadcastButtonTool","ChatButtonTool","MessageSquare","EditButtonTool","ShareScreenButtonTool","isScreenSharing","setIsScreenSharing","checkIfScreenSharing","videoTrackPublications","stopScreenShare","setScreenShareEnabled","toggleScreenShare","screenSharingActive","VideoButtonTool","_videoTrack$isMuted","enableVideoAccess","disableVideoAccess","stream_loading","videoTrack","isUpstreamPaused","setCameraEnabled","VideoOff","VoiceButtonTool","_voiceTrack$isMuted","enableAudioAccess","disableAudioAccess","BottomMiddleTools","ZoomActions","handleZoomIn","zoomIn","handleZoomOut","zoomOut","PreviewZoom","zoomPercent","ZoomButtonTool","getZoom","BottomRightTools","RF_JAIL_ID","nodeTypes","userNode","UserNode","backgroundNode","_room$background","background","backgroundSize","backgroundRepeat","shareSreenCard","viewPort","setViewPort","setRf","socketParticipants","initState","setNodes","onNodesChange","useNodesState","nodesWithBackground","focusable","deletable","selectable","addParticipants","particpants","_participant$coordina","_rf$getNode$position$","_rf$getNode","_rf$getNode$position$2","_rf$getNode2","rfUserId","coords","xcoord","getNode","ycoord","isDraggable","parentId","extent","_tracks$filter","_rf$getNode$position$3","_rf$getNode3","_rf$getNode$position$4","_rf$getNode4","updateUserCoordinate","coords_array","nds","node","gotRoomId","ReactFlow","nodesDraggable","onNodeDragStop","_node$data","changes","panOnDrag","zoomOnScroll","zoomOnPinch","onInit","viewport","onViewportChange","fitView","translateExtent","Background","Canvas","init","setInit","t","ReactFlowHandler","RoomInner","fn","on","off","mainRoomHolderClss","CanvasBoard","DisconnectedInvisible","onReTry","onReloadHandler","connectionStatus","setConnectionStatus","onConnect","Connected","onDisConnect","Disconnected","onReconnecting","onReconnected","connectToRoom","disconnect","onReconnect","serverUrl","ConnectionState","connect","CRawDialog","AllowVideoBtn","hasVideoAccess","hasVideoStream","videoNode","onChecked","stream","changeStreamState","permissions","hasAudioAccess","videoStream","audioStream","videoRef","firstAudRef","firstVidRef","srcObject","navigator","mediaDevices","getUserMedia","audioStreaming","videoStreaming","videoButtonClss","audioButtonClss","autoPlay","playsInline","maxWidth","handleToggleVideo","IconVideo","handleToggleAudio","ChatWrapper","appDispatch","isDirect","is_direct","updateMessagesAction","unreadMessagesAction","messageType","convertedMessage","removeMessageAction","DEFAULT_MEDIA_PERMISSIONS","initialState","RoomHolderContext","reducer","RoomHolder","isReConnecting","useReducer","permissionChecked","setPermissionChecked","_res$data$data","videoAccess","audioAccess","getSettings","LiveKitRoom","publishDefaults","videoEncoding","maxBitrate","maxFramerate","screenShareEncoding","dtx","videoSimulcastLayers","resolution","frameRate","encoding","videoCaptureDefaults","deviceId","facingMode","audioCaptureDefaults","autoGainControl","echoCancellation","noiseSuppression","sampleRate","LiveKitConnectionStatus","handleJoin","CheckPermissions2","perm_obj","getTracks","forEach","ReactFlowProvider","connected","handleReTry","RoomWrapper","contextValues","useEnsureCreateLayoutContext","LayoutContext","RoomSpatialWrapper","setIsSwitching","WorkspaceRoomPage"],"sourceRoot":""}